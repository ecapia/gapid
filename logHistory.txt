commit cbf4e7d70b47059effd2e4a3754be3e2a0ca0cf4
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Thu Nov 29 16:05:16 2018 -0500

    Add hierarchy in the top level based on QueuSubmit and COmmandBUfer added

commit 24ff33d2a1a3e332b8884b5a1ca45e1025033f44
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Wed Nov 28 18:23:56 2018 -0500

    Create hierarchy base on frames fixed

commit 674de9ec2ae75c3b583bc1f7c3f5dfc4b28d2135
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Wed Nov 28 15:39:48 2018 -0500

    Faster version to obtain pbtxt addedgit status

commit 38c0220c838316e54d42de3d939d014e34e3ccd4
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Fri Nov 23 19:25:55 2018 -0500

    Experiments runned on multithreading with 50 frames

commit 58c5621748332a610ec408fd7d2895d228cb192d
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Fri Nov 23 10:35:57 2018 -0500

    format output by command line set and modularity on code is added

commit 2cf40829310b683e02179bd120db3e83a90735d7
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Thu Nov 22 11:49:17 2018 -0500

    Adding the Hierarchy names

commit 4bb155c6f5c172bff6f87c642cdcd53e9e3c2a00
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Thu Nov 22 10:10:39 2018 -0500

    Hierarchies defined for the dependency graph

commit 19c1de6f3a9da2f60d153bdfeb29b4fd6a58ac63
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Thu Nov 15 18:31:14 2018 -0500

    get proto file function added in dependency graph

commit 9c57199aa1a2c478c33c4fd76f61ea4b0c31c1fc
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Wed Nov 14 17:30:06 2018 -0500

    updating the graphgit status

commit dff50087f2c6cb7848f7078ba1b225fa72fd9d9c
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Tue Nov 6 18:24:01 2018 -0500

    Dot and Pbtxt files added!

commit e471c7dae580eeb7d5d732d0f5ca44d003b544a7
Author: Elvis Rusnel Capia <ecapia@google.com>
Date:   Thu Nov 1 16:32:08 2018 -0400

    Adding CreateDotFile in the entire flow og gapidgit status

commit fe27ad2ce91beca53e11cd03e783b9f6f6f25a6c
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Nov 23 17:36:50 2018 -0500

    Dependency Graph: Expose additional dependency graph options to Resolvable

commit e11272ad84c7a694c2a5ef50a7210daa6b14a5ef
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu Nov 22 09:11:22 2018 -0500

    Gapit Benchmark: Added gapis and gapir command line options

commit c67ac5835894a873cfe6fab975a5cbd6364ec66c
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 21 16:50:01 2018 -0500

    Vulkan Dependency Graph: Added `RecordCmdID` field to CommandReference
    
    This field contains the `CmdID` of the command which recorded this command
    reference. This greatly speeds up dependency graph creation by avoiding
    expensive `FlattenSubCmdIdx` calls for every subcommand.

commit 85a7e6211819ba4fc68abe30f16add7c77d7c9c8
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Sep 10 11:51:54 2018 -0400

    Gapit benchmark: Added option to dump pprof cpu profile

commit c8dabaacbb8d22d48fb98ac15e1bbe4a5d013b0f
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu Nov 1 16:19:47 2018 -0400

    Gapit benchmark: stop gapis trace before closing client connection.

commit 35eeb611d62f0ae9126c21893933596bd3cfbd63
Author: Benson Joeris <bjoeris@google.com>
Date:   Sat Nov 10 13:03:04 2018 -0500

    Dependency Graph: Multithreading dependency graph builder

commit 93f2dd01d285226ccdbbdec70abe2c36d34f7416
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 14 15:37:31 2018 -0500

    Dependency Graph: added graph serialization to protobuf
    
    The serialized dependency graph includes:
      * NodeAccesses: the reads/writes performed by each node explaining it's
      dependecies.
    
      * StateRefs: A map from each RefID to the first fragment used to access that
      refID. This allows a path to be reconstructed from the root state object to
      each RefID. Note that each link in this chain is valid at some point in time,
      but may later become invalid. The paths are intended to give some helpful
      information about where a RefID came from, not to be an exact reconstruction
      of how that RefID fit into the global state at a particular point in time.

commit b8cb4a83d60e3f0e1dba4edc6848827312460bc9
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 14 13:49:24 2018 -0500

    Vulkan Dependency Graph: Remove dependencies from internal command buffer implementation
    
    This removes dependencies between vkQueueSubmit and vkCmd* calls.
    These accesses are unnecessary because each subcommand now explicitly depends on
    it's recording vkCmd* call.

commit 8b3aacf84f50c6f3fa21075995ce25ca864fe9ec
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 14 15:54:48 2018 -0500

    DCE: cleaned up debug output

commit c636eac7dcbc77ce33bfd148f61117d3cf761e01
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Nov 19 11:35:09 2018 -0500

    DCE: Mark all initial commands alive
    
    This fixes an issue with missing dependencies from (non-initial) vkQueueSubmit
    to initial vkCmd* calls.

commit 2fb7989ad1218d5eb80f4c41a91cbc562433ec01
Author: Benson Joeris <bjoeris@google.com>
Date:   Sat Nov 10 13:02:58 2018 -0500

    Dependency Graph: Added support for subcommands
    
    Subcommand DCE is currently experimental and disabled by default.

commit d7531af777730f44d8d6da97fe40b7c886b5502e
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 14 13:40:23 2018 -0500

    Dependency Graph: Untracked fragment accesses are now passed to the watcher
    
    An additional boolean parameter `track` is now used to disambiguate tracked and
    untracked accesses.
    
    This change is necessary to correctly maintain the set of fragments accessible
    from root `State` objects. For example, in an untracked map, we don't want to
    track reads/writes of the map, but DO want to track reads/writes of fields of
    the objects stored in the map.

commit 02d9d4096cb94961bdf06ac676b5bd0163e6f021
Author: Benson Joeris <bjoeris@google.com>
Date:   Sat Nov 10 13:02:51 2018 -0500

    Dependency Graph: Refactor to separate out fragment, memory and forward tracking
    
    Dependencies from fragments (fields/map entries in state objects), memory
    ranges, and forward dependencies are almost completely independent of one
    another. This patch refactors these three kinds of dependency tracking into
    separate files, as well as creating a separate file (graph_builder.go) to handle
    the logic of actually adding the edges to the graph.

commit df2430701d162158611b91f07b492b3fc4a56873
Author: Benson Joeris <bjoeris@google.com>
Date:   Sat Nov 10 13:00:18 2018 -0500

    Added interval.ValueList for intervals that map to values

commit 0d58a5a129158a02733becaa695c2160b0300c5b
Author: Benson Joeris <bjoeris@google.com>
Date:   Sat Nov 10 13:02:02 2018 -0500

    Dependency Graph: Added specialized maps to efficiently track fragment data
    
    The dependency graph tracker needs to track data about "fragments" (e.g. fields
    in a struct, keys in a map). Previously these were all stored in maps. However,
    in many cases the structure of the fragments allows more efficient storage. For
    example, the fields in a struct are known at compile time, so instead of looking
    up the field in a map, we can just use the field index to lookup in a slice. A
    similar optimization is used for maps that are marked as "dense" (meaning the
    keys are 0..max).

commit 9af8bace6f345d8e30cd19dbe748ec9255c42d59
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 28 09:31:36 2018 -0500

    Dependency Graph: Cleanup fragment tracking

commit bd2868bfb9a8b3ae9694524d63e5111198526f0a
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 14 13:26:37 2018 -0500

    Dependency Graph: remove Clone ∑ functions

commit 6627dc87c29decab443bb59af56bb72a86b4282c
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Nov 27 10:33:46 2018 -0500

    Vulkan: Track dependencies among query commands
    
    This fleshes out the api implementation of the following query commands, to
    ensure correct dependencies.
      * `vkGetQueryPoolResults`
      * `vkCmdBeginQuery`
      * `vkCmdEndQuery`
      * `vkCmdResetQueryPool`
      * `vkCmdWriteTimestamp`
      * `vkCmdCopyQueryPoolResults`
    
    This patch also adds additional error checking to the query commands, including
    a new query status, UNINITIALIZED; each query in a query pool now starts in the
    UNINITIALIZED state, and is moved to INACTIVE by vkCmdResetQueryPool; according
    to the spec
    ([16.2. Query Operation](https://www.khronos.org/registry/vulkan/specs/1.1-extensions/html/vkspec.html#queries-operation)):
    > After query pool creation, each query is in an undefined state and must be
    > reset prior to use. Queries must also be reset between uses. Using a query
    > that has not been reset will result in undefined behavior.
    
    Fixes #2404

commit c5069902b5025d57664a0ade49f2c42d83bcdca1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Nov 6 14:34:35 2018 -0800

    Add a config setting to control mutate during reconstruction.
    
    Turn mutate off by default during state reconstruction, but allow it to
    be enabled in the config for debugging.

commit 94b1f5889647430d0071632ff4424547b97499bc
Author: Benson Joeris <bjoeris@google.com>
Date:   Sat Nov 10 13:02:21 2018 -0500

    Vulkan Dependency Graph: Avoid repeated calls to `len` for unchanging map

commit 81053c4f46e8475ba628c9970d3e6e2613452302
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu Nov 15 18:27:52 2018 -0500

    Vulkan Dependency Graph: Add missing dependencies for pipeline barriers and events

commit c026326eeb499ef5a21d8efb889b8ab7c91844d8
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Nov 23 14:26:27 2018 -0500

    Vulkan: `vkEndCommandBuffer` now verifies the Recording state

commit 809a3e865d65e4e491090ac586e2c8ec689333be
Author: Benson Joeris <bjoeris@google.com>
Date:   Sat Nov 10 13:02:11 2018 -0500

    Vulkan Dependency Graph: Ensure `vkEndCommandBuffer` depends on `vkBeginCommandBuffer`

commit caa80092208fc0c7a6ab534fd4b6044575859e8d
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Nov 26 11:29:09 2018 -0500

    Vulkan: Guard access to pipeline DynamicState and push constants

commit 711f2a75dd51ceb2d6272893baaba6094bb6bff3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Nov 26 14:37:55 2018 -0800

    Change some tracing defaults.
    
    Fixes #2367

commit 001badd0ea95ecfd6597d4ea294ec303da69ae7d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Nov 14 13:43:43 2018 -0800

    Query the SDK version for Android devices.
    
    The `ro.build.version.release` property does not actually have a
    defined format and can be any string. Make version decisions on
    the SDK version, rather than the release name.

commit d405885c15197f5bdd53b00f86c63d536b860814
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Nov 14 09:54:47 2018 -0800

    Trim out libinterceptor deps.

commit d8901081624b325b5f130606538453546ef1adc1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 16:50:22 2018 -0800

    Trim out things from libinterceptor we are not using.

commit 88008fca68ad6d3fa2f48c7e887ee011077da3f9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Nov 26 12:08:41 2018 -0800

    Increase the Windows build timeout.

commit f4170a1db603dcb7d2206a114adfa0fb10a4b31f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 13:37:54 2018 -0800

    Get eclipse to pickup the project settings again.
    
    These are the compiler error/warning and code style settings.

commit 038d5b3518434cf8d3ffa369b2ecd20644f74bac
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 13:35:59 2018 -0800

    Update the Eclipse project config to find the dependency jars.

commit d36e2f25eedcc3a1605d2a591d50c8ec99cfd71d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 12:57:50 2018 -0800

    Specify the SHAs for SWT and JFace.

commit a9629a088209c89cdff4d8d0c10edd7355d0dabb
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 12:40:12 2018 -0800

    Add the source SHA1s to the maven_jar rules.
    
    Otherwise the sources may not be downloaded.
    See https://github.com/bazelbuild/bazel/issues/4798

commit e13aa58baf4eecad488a523c972d75aa3742459c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 11:50:46 2018 -0800

    Get rid of the JNI bazel warnings.

commit d9f613ebfbdee6629f962592a92f4b2c9337e38e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 11:36:28 2018 -0800

    Small simplification of the gapic/src/main BUILD.bazel.

commit 30fab52603fc7cb1613f3e0e3ee7ffa8a3bd3419
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Nov 8 14:34:19 2018 -0800

    Fix client to build with new version of Guava.

commit b190ae5eaaef2828f14a7d0a5fbefa45ea3305f6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Nov 8 12:51:07 2018 -0800

    Fix deprecation warning from new JFace.

commit fb056631a43e0fccd52b9bd9e7cc80228e1d670b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 14:16:25 2018 -0800

    Update Windows's GlCanvas to work with the new SWT library.

commit 70dcb3fe6ed6f3769072e90e963af08154d0cac8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Nov 8 12:38:34 2018 -0800

    Update Linux's GlCanvas to work with the new SWT library.

commit 8e1b5bdeff79f88c4d6f941a482d773a4cd151c4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 14:16:25 2018 -0800

    Get LWJGL from maven and update to latest version.

commit 810e3897c94785537f736dcfc9571651a4ab1639
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 14:15:15 2018 -0800

    Get gRPC and OKHttp from maven and update to newer version.

commit 7b044866c9a286437a0adb742c2e4d0f2df4ae35
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Nov 8 14:33:40 2018 -0800

    Get Guava from maven and update to newer version.

commit 192196dc87dfdbc47c5e3f5b6ecfc05b849198db
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 9 14:13:33 2018 -0800

    Get JFace during the build and update to new version.

commit 1721c8c7ad33f7f24232868a370afee5ef8ff2f0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Nov 6 14:21:53 2018 -0800

    Get SWT during the build, and update to latest release.

commit cb27e76c7f2b39fde4d7c4ec79a6bea79ec35ab9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Nov 6 14:18:17 2018 -0800

    Extract the gapic dependencies to a separate workspace rule.

commit 97a5c25807d5464e66f7b33ebb18c43af4335cea
Author: Robin Liu <RenfengLiu@users.noreply.github.com>
Date:   Mon Nov 26 13:15:11 2018 -0500

    Fix a problem when submitting without commandbuffers for profiling (#2394)

commit 2f14c6a0e1cea4bd76047fa123f658e5e3014b76
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Nov 23 11:18:13 2018 -0500

    Vulkan: Fix `BasePipeline` value set in `vkCreate*Pipelines`
    
    When the `vk*PipelineCreateInfo` specifies a base pipeline by
    `basePipelineHandle`, the `basePipelineIndex` is set to -1; the previous code
    lost this -1 value, and later in `vk*PipelineCreateInfo`, `BasePipelineIndex`
    was 0, causing `BasePipeline` to be set by index, instead of by handle.
    
    This change ensures that `basePipelineIndex` is copied over to the
    `*PipelineObject`, so that `BasePipeline` is set correctly.
    
    Fixes #2392

commit 55b03c91f8f6f7abbf906e98b5ff3f6ef67e3e8e
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Nov 23 10:56:58 2018 -0500

    Vulkan: Fix infinite loop in state_rebuilder.
    
    The problematic case is a state containing multiple pipelines, some of which
    have 0 basePipeline, and some of which have a basePipeline that forms a loop or
    doesn't exist. This caused both `numHandled` and `len(unhandledPipelines)` to be
    non-zero forever. This change resets `numHandled` for each pass over
    `unhandledPipelines`.
    
    Fixes #2390

commit d178f6a591c46cc7a7e367c74d9e226de511e4b8
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Nov 20 15:02:27 2018 -0500

    Vulkan: Add guards to buffer and image lookups

commit e49bbc4be88de45333f254b3f4aec2754d41ca50
Author: Benson Joeris <bjoeris@google.com>
Date:   Sat Nov 10 13:03:09 2018 -0500

    DCE: fix bug with orphaned observations.
    
    This was causing orphaned observations to be included on EVERY later live
    command, instead of just the next live command

commit 6acc185c7cd062dd4402d47966a0e111a205dcc5
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 14 14:03:29 2018 -0500

    Vulkan Dependency Graph: track accesses to push constants

commit c109c87ee276b1bb7c83c5d47a1576453f1e81e4
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 14 14:00:15 2018 -0500

    Vulkan Dependency Graph: track accesses to pipeline dynamic state

commit 7dda261193826f4379ec0aad3271b7b10b3a38eb
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Nov 14 13:53:14 2018 -0500

    Vulkan Dependency Graph: Add dependencies between all subcommands in a RenderPass

commit b2c440b0019b16484f97a3cca654ca348677c4c7
Author: Benson Joeris <bjoeris@google.com>
Date:   Sat Nov 10 13:02:44 2018 -0500

    Gapis: Preload new dependency graph or old footprint based on config

commit c928b2fdf00e504f4b1de94da677a8290a4cfb43
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Nov 22 10:40:52 2018 -0500

    Vulkan: Lazy create descriptor bindings and array elements in state (#2384)
    
    * Vulkan: Lazy create descriptor bindings and array elements in state
    
    Some applications allocate a lot of descriptors a head but only update a
    few of them a few times. Allocating those bindings and elements only
    when the descriptors are updated can reduce the state tracking overhead
    for such cases.

commit 54c246ef2e40debbdee8ff1222e75cec07103f5f
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Nov 21 14:49:49 2018 -0500

    Switch trailing-frame-time to 20%.
    
    This should make it a bit more stable.

commit 938f3ff68a5677514c411b3412d4330a94baac6f
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Nov 20 18:44:57 2018 -0500

    Vulkan: Several fixes for DCE (#2382)
    
    1. Guard the reference to command buffer slices and semaphore slices at
    VkQueueSubmit, so that a huge number of NULL/invalid semaphore/command
    buffer won't bring down the whole gapis.
    
    2. Also guard the reference to command buffer handles for all places in
    footprint builder
    
    3. Reduce the use of memory by not reserving ports for descriptors when
    vkAllocateDescriptorSets is called. Some application allocates a lot of
    them, but only updates a few and use them, for the most never updated
    parts, we don't need to track their dependencies.

commit 481c007c6048bd4a4866cb94dea91a0bf938b4b2
Author: Robin Liu <RenfengLiu@users.noreply.github.com>
Date:   Tue Nov 20 15:01:50 2018 -0500

    Fix presubmit check failure (#2380)

commit 542973bee60172a3c868fc02744cc46a64dca99b
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Nov 20 11:51:34 2018 -0500

    Update poolSlice to not actualy store the data in the database.
    
    This allows us to manually query it when we want. This ends up
    saving a lot of memory in certain circumstances where we
    are using a lot of pool slices.

commit 2ecd53b4b2b9dc38d9bd2fcbcc2e1d5dbd3566ae
Author: Robin Liu <RenfengLiu@users.noreply.github.com>
Date:   Mon Nov 19 11:51:02 2018 -0500

    Add profile command to query timestamps when replay the trace (#2361)
    
    Add profile command to query timestamps for replay.

commit caacd64ef890da53b7054505331dc7e2fa27004f
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Nov 19 11:43:02 2018 -0500

    Do not panic for invalid command buffers (#2370)
    
    This means all the code that relies on a valid command buffer must be
    guarded

commit fbb8cbd091fd1f6ed58376070313b8ee52a0f3cd
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Nov 15 19:48:36 2018 -0500

    Update coherent memory tracker to avoid hitting max_map_count (#2369)
    
    * Update coherent memory tracker to avoid hitting max_map_count
    
    By grouping multiple acutal memory pages into a Cell and manage the
    'dirtiness' state at the Cell level instead of page level, we can reduce
    the number of maps.
    
    The updated tracker allow configuring the number of pages in a Cell.

commit d70805f8d02d0409195862e65b949307ca60a8e0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Nov 13 16:55:27 2018 -0800

    Use the correct bazel in the presubmit script.

commit e31557a13c316f4886fd0ae41fd62bc53464d78d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 2 12:26:00 2018 -0700

    Remap caller IDs in the capture log.

commit aa14c57a2aa7c02c5402c043cdeaab9499a98c83
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Nov 8 16:49:29 2018 -0800

    Handle `port:<pipename>:<abi>` URLs for Android tracing.
    
    A URL of this pattern indicates tracing an Android app that is assumed
    to be already setup for tracing (i.e. have libgapii loaded) and is
    waiting for a connection from the host.

commit 9a54851ce7bf3bda0c5e75320f015844c05aaa5a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Nov 8 15:42:08 2018 -0800

    Allow overriding of the GAPII pipe name.
    
    By specifying different pipe names we can have multiple traces running
    at the same time.

commit 4d576842cfd5955718e1740ac410c271ebbaaf2c
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Nov 9 12:21:30 2018 -0500

    Move the constants and opcodes out of the volatile memory region.
    
    This is a prerequisite for some upcomming replay changes to
    allow us to pre-warm the VM.
    
    This also flips the in-memory cache to grow from top-down,
    and the volatile memory to have a fixed base address.

commit 8290b4db6dcdb4a1a24630fd82cd2986f8a3f926
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Nov 9 13:53:43 2018 -0500

    Check the number of commands for linearize_trace commands (#2359)

commit 89f5587ef150640a43745de794b59e3ea0c1abf4
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Nov 9 13:53:16 2018 -0500

    Vulkan: Guarding the Semaphore slices and CommandBuffer slices in submitinfo (#2358)
    
    According to the spec, all the semaphores and command buffers must be
    valid pointed by a submit info, so once we find an invalid command
    buffer or semaphore, we drop all the following ones in that submit info.

commit 9acb3d602489c7389134f043d4a1e9c12b6e3ff5
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Nov 8 09:58:31 2018 -0500

    Vulkan: Fix some image layout errors reported by validation layers (#2353)

commit feb3e1e93e0cdfd35f305beaebb48fe762ae461f
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Nov 8 09:58:05 2018 -0500

    Vulkan: Track the const pNext pointers for all supported cases (#2354)
    
    So that we won't accidentally record invalid pNext pointer which may
    potentially crash the replay

commit 151012b0b73dd921c6d807abf437006bc58569ea
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Nov 7 19:35:33 2018 -0500

    Set the maximum number of ssh connection to a ssh remote target to 15 (#2357)
    
    So that for most cases, when a folder has many child got expanded, we
    won't get a lot of connection failures

commit cd0b389a9bc8c84de9768da93435a0ff9f2f0563
Author: Peter Chen <hyswpc@gmail.com>
Date:   Mon Nov 5 11:18:57 2018 -0500

    Change kMaxFramebufferObservation to 4K. (#2350)
    
    Framebuffer observation should support at least 1080p.
    Validate framebuffer against a downscaled version is sub-optimal, and most desktop app runs at 720p/1080p.

commit d8c189877e95c1f6c26a7f20d79852d3912c5d2f
Author: Qining <lqn.anthony@gmail.com>
Date:   Sun Nov 4 21:34:49 2018 -0500

    Vulkan: Fix framebuffer and querypool creation for initial state (#2351)
    
    1. Framebuffer creation should depend on the image views in the new
    state not the old state
    2. ScratchTask should allow tasks with no new memory allocation, this
    bug prevents the querypool state to be recovered correctly.

commit 00ab0252c89c91c5df14542dc4c002e5cad1b2e7
Author: Peter Chen <hyswpc@gmail.com>
Date:   Fri Nov 2 15:40:09 2018 -0400

    Regenerate device id for remote ssh device. (#2345)

commit 57b68964c21603a61406620208a51ec994e104d5
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Nov 2 14:40:19 2018 -0400

    Make the Go garbage-collector more aggressive.
    
    This will make the go GC more aggressive in collecting
    objects, this provides a significant reduction in
    our peak memory usage, and prevents some OOM cases.
    
    The performance implications of this are fairly minimal,
    (<5%) but the memory savings are sigificant (25-30% reduction
    of peak memory usage)

commit 8baa29660dfe19233c1ee83db8e77bdcda3c2ca9
Author: Paul Thomson <paulthomson@google.com>
Date:   Thu Nov 1 15:56:55 2018 +0000

    Use provided gofmt

commit 471c6c5ad411764241730146babc57c39ba6c268
Author: Paul Thomson <paulthomson@google.com>
Date:   Wed Oct 31 19:45:18 2018 +0000

    Refactor to add a getGapisAndLoadCapture func.

commit 7085fbea39d08f3de81239d8b3b951b88403625e
Author: Paul Thomson <paulthomson@google.com>
Date:   Wed Oct 31 11:45:30 2018 +0000

    gapit screenshot can now take a Capture id instead of a gfxtrace file.

commit f682a2a0c1a3b4788f1900908d36ba693c985fd7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 31 13:33:21 2018 -0700

    Remove a debug log message of limited usefulness.
    
    `linearize_trace` can be used to get all the commands used to recreate
    the state instead.
    
    Fixes #2338

commit bf529b48d93b1bc0b954532b7c3621f19683e71b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 31 12:14:29 2018 -0700

    Avoid querying GLES 3.0 features in 2.0.
    
    These cause avoidable GL errors.

commit f57fdc9c9d1e257599abcfea40095c88ba019e91
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 31 12:30:43 2018 -0700

    Correctly handle texture layer FB attachemnts in DCE.
    
     - in `glCopyImageSubData` the `srcZ` and `dstZ` attribute signal the
       texture layers read and written.
     - in the various framebuffer texture attachment calls, which layer is
       attached to the framebuffer is well defined.

commit 347e2e88f3dda85d6a440889ea7203889ba682a9
Author: Paul Thomson <paulthomson@google.com>
Date:   Wed Oct 31 11:34:44 2018 +0000

    Some fixes by Ben

commit 112f591c72bbab37683e4b15bf62f83ae269d368
Author: Paul Thomson <paulthomson@google.com>
Date:   Wed Oct 31 11:35:24 2018 +0000

    Add create index to resource handle string.

commit 4f067f2c090b9214323cfeed2263c4c02f41c876
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Oct 30 15:27:51 2018 -0400

    Stop aborting on some handle failures.
    
    Actually guard in some cases with handle failures, this
    is especially important in calls do doVkCmd*. If we don't
    handle this then we can desynchronize queue submissions.

commit 6ae65f2e2f6461e38d79409aee79f94573c40fcf
Author: Paul Thomson <paulthomson@users.noreply.github.com>
Date:   Wed Oct 31 08:06:07 2018 +0000

    Improve gofuse. (#2326)
    
    Guess bazel-out/X directory, but give warning if guessing.

commit 7b7b56b7d782d52cb27c94da89d1967eee7e0d68
Author: Paul Thomson <paulthomson@google.com>
Date:   Tue Oct 30 11:32:24 2018 +0000

    Add resource.created field.

commit 484fbaea541fd2035e26afd5ce9211d93ef2dbb9
Author: Peter Chen <hyswpc@gmail.com>
Date:   Tue Oct 30 15:06:55 2018 -0400

    Export_replay using original device. (#2328)

commit 555fba8831529cb869b948dc64434cd63ab1e594
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Oct 30 11:11:29 2018 -0400

    Vulkan: Drop VkDestroyXXX and VkFreeXXX commands that refer to not tracked handles (#2325)
    
    For replay, if a Vulkan handle is not tracked, do not call VkDestroyXXX
    or VkFreeXXX commands upon it.

commit ab5dcbcd793f38818236618519b83f765e0d19a9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 24 16:18:15 2018 -0700

    Add spec required compressed formats to compat.
    
    The GLES 3.0 and OpenGL 4.3 specs require some compressed formats to be
    implemented, so we can assume they are present on the specific versions.

commit 6a353a8b76418876c2dad5b08972318f2f05e450
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 24 15:52:35 2018 -0700

    Check compressed texture format in ODR.
    
    In `compat.go` compressed texture commands check whether the replay
    target supports the requested compressed format. However, commands
    that can be used for both uncompressed and compressed textures, such
    as `glTexStorage2d`, did not in the case of ODR.

commit 9f87553f6afaa983165ed215a9b50f2730d9c15a
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Oct 29 13:14:54 2018 -0400

    Support of VkTrimCommandPoolKHR (#2316)
    
    * Support of VkTrimCommandPoolKHR
    
    Extension KHR_maintenance1 is still not labelled as 'supported', as the
    3D <-> 2D array image copy is not supported yet.

commit 9dd51de5f1bb5302a1a2347b241ff23db03bcf7d
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Oct 29 10:21:31 2018 -0400

    Update our MESA workounds to fix the latest versions.

commit 4b8180021685928670e88203448c655d5e509735
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Oct 29 10:21:40 2018 -0400

    Vulkan: Do not allow incomplete texture data (#2321)
    
    Transfering incomplete texture data may crash the grpc.
    E.g.: ResourceData: Texture2D<Levels: nil> crashes grpc.

commit bb688bb71a548effc388cd5fa54232a49f0e9270
Author: Paul Thomson <paulthomson@users.noreply.github.com>
Date:   Fri Oct 26 17:27:41 2018 +0100

    Use existing shader type in gapit replace_resource. (#2319)
    
    Use existing shader type in gapit replace_resource.

commit 0f7c31b0b0efbdc57b6ad7ecfeafb28921c1a9a1
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Oct 24 13:39:04 2018 -0400

    Fix vulkan-smoketest replay (#2313)
    
    Fix issue #2307

commit 210dc408e9c170eb403b35434b6fb5f8ba3271ca
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Oct 23 11:33:19 2018 -0400

    Use sdkmanager.bat instead of sdkmanager for Windows build (#2312)

commit 6da9af98aad375c91defd82c6f4435a02686c994
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 19 12:34:42 2018 -0700

    Utility too lookup enum names by value.
    
    I'm tired of converting values to hex and grepping the API headers.

commit ab5e03182730a23064f45915fba65faf344550a4
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Oct 22 18:05:20 2018 -0400

    Allow partially valid results returned from `find` command when listing files and directories (#2311)
    
    * Minor fix for the temporary directory for on-disk cache
    
    If and only if the $TMPDIR env is not set should we try to fallback to
    /tmp as the temporary directory for on-disk cache files.
    
    * Do not return nil if `find` returns error when listing dir/files on remote ssh device
    
    `find` command may partially succeed, in which case we should process
    the successfully listed items and ignore the error messages. This CL
    redirect the errors generated by `find` to /dev/null to strip away error
    messages.

commit e0dd5d97dbbb886c4460eeee9155bf6231cda480
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Oct 22 18:05:01 2018 -0400

    Minor fix for the temporary directory for on-disk cache (#2310)
    
    If and only if the $TMPDIR env is not set should we try to fallback to
    /tmp as the temporary directory for on-disk cache files.

commit f119af0e8b2ef88c9336b2c5188ded2c3104ca9c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 11 12:43:25 2018 -0700

    Allow filtering `gapit devices` by OS kind.

commit 82b6e928ffb6ac631796233aaefb045c92ff195a
Author: Peter Chen <hyswpc@gmail.com>
Date:   Fri Oct 19 15:53:27 2018 -0400

    Add dump_fbo to gapit. (#2302)
    
    Dump framebuffer observation from a trace.

commit 1d18e103efed567989f4953733688be41eef4882
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 19 12:43:14 2018 -0700

    Presubmit fix

commit c2149e49a2666d9f62d8c5224e407e597ad2f592
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 16 16:02:45 2018 -0400

    gapis/resolve/dependencygraph: Bind a replay device.
    
    Fixes a whole bunch of warnings in GLES externs about not having a replay device bound.
    
    Fixes #2278

commit 56b1153baa6ef3f4f8d88e09968e2e395be38880
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 17 16:17:12 2018 -0700

    Allow hiding of deleted textures in the UI.

commit 1c7868e3260e78ab47169d630060f33bdc80b24e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 17 15:36:07 2018 -0700

    Expose when a resource is deleted in the service API.

commit 252df01ef04de7f7807a23b52a14747740d74b6d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 17 15:33:09 2018 -0700

    Hide resources destroyed during state reconstruction.
    
    Resources created and then destroyed during state reconstruction should
    be hidden from the user, as they are temporary objects needed for
    correct state reconstructions, but are not actual resources used by the
    application and are just a side-effect of MEC.
    
    For example, when creating programs in the GLES state reconstruction,
    temporary shader objects are created to correctly re-build the program
    as it was at link time. These temporary shaders are then destroyed and
    should not be shown to the user.

commit 5745e783111cacde9572d7d70b24c625b450523e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 17 15:22:15 2018 -0700

    Track resource destruction via Map.DestroyHandle.

commit a8066267250d0bba984b232a52c733b562fd37af
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 17 15:12:03 2018 -0700

    Piggy-back Resource.OnCreate onto Map.CreateHandle.

commit 991382469ea64d8d195f8736a453fb5b04eba5f3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 17 15:00:46 2018 -0700

    Implement the Annotated interface in the Member expression.
    
    The member expression now forwards annotations to the field that is
    being dereferenced.

commit 41d7253e0fe4acc3867c973b59f9a06330cc4aed
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Oct 18 09:23:42 2018 -0400

    Bump version

commit a03a0c8d3eceaa1fd4477cf61047b17576550506
Author: Peter Chen <tianc@google.com>
Date:   Wed Oct 17 12:53:22 2018 -0400

    Fix observe framebuffer.

commit a48a35f9f14bd2688ace256c4821c3898a836311
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 17 11:01:57 2018 -0700

    Fix the boken GLES integration test.
    
    The replay now correctly no longer resets the viewport when a
    context is bound for the 2nd and following times.

commit 1e9b9caa92102836fa744f725839be6b75bed758
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 17 12:28:49 2018 -0400

    gapir/cc: Fix tests.
    
    `error: moving a temporary object prevents copy elision [-Werror,-Wpessimizing-move]`

commit 22375bf0104dd1626d7dd1f82e97270ade111abe
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 16 15:16:03 2018 -0700

    Specify a bazel output location.
    
    Fixes the "device out of space" build errors on Kokoro.

commit 24843a8b6f0f70251c3becdac4d3b8b8bbdcde00
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 16 11:46:10 2018 -0700

    Fix panic of MEC of external textures.

commit 03e83d1566d7f386b1e7456c01f6f26f04fedf22
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 16 11:21:15 2018 -0700

    Presubmit fix.

commit dcfb10ba4116c0f9a73f98f9b4d96e96c284eacf
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 16 11:14:54 2018 -0700

    ODR support for external images.
    
    Since we don't fudge the shaders for ODR, shaders using external
    samplers will expect external textures. Therefore, we cannot use the
    desktop handling of external textures, which coerces them to regular
    textures. Instead, we need to create EGLImages and map them to the
    external textures, the same as the application did. However, since we
    won't have the native buffers anymore, we convert all EGLImages to be
    backed by GL textures. Since no context needs to be bound when creating
    an EGLImage, but we need one to create backing texture, the creation
    of the texture and EGLImage is delayed until the sync point, where a
    context is bound.

commit a07af70381888fe779e77232f1d6385241dce7ee
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 16 11:09:20 2018 -0700

    Add a synthetic create external image replay command.
    
    `eglCreateImageKHR` needs the display and context pointer, which are
    not exposed and thus this command has to sit on top of the replay
    renderer abstraction (i.e. GlesRenderer). This is only implemented
    by the EGL-based Android renderer, the desktop renderers all simply
    return a nullptr, which is not remapped and signals failure.

commit 8b55f72a6772cee4663412b29f893037eabbc854
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 16 11:05:53 2018 -0700

    Remap EGLImageKHRs.

commit 6a383b761f51bacd05f9e207a5f114b41b3fd7b1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 16 11:04:23 2018 -0700

    Drop the GLeglImageOES alias of EGLImageKHR.

commit ee860a978608570ef4c192e97ac2277750159da8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 15 12:23:05 2018 -0700

    Get rid of the external texture compat cruft in the mapping.
    
    The external texture compat was implemented in a way that required help
    from the texture ID remapping code in custom_replay.go. External
    textures were handled by coercing them to be regular textures, but then
    remapping them to newly created textures which are updated with the
    image data from the external textures captured during trace time. This
    remapping logic was done in custom_replay.go.
    
    This change simplifies all this by removing those synthetically created
    textures and just updating the coerced textures directly. In the old way
    the coerced textures were not actually used, since they were always
    remapped, and thus wasted.
    
    This change makes it possible to implement external textures in ODR, as
    it removes the compat stuff that leaked into the replay mapping.
    
    This change also makes sure no pixel unpack buffer is bound when updating
    the textures.

commit 8d0019817c52c0d293aba8542ba33225fa76ba4b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 12 14:55:13 2018 -0700

    Dependency graph fix for `glEGLImageTargetTexture2DOES`.
    
    Using an EGLImage that is backed by textures, i.e. created with
    `EGL_GL_TEXTURE_2D_KHR`, should propagate a read dependency on said
    texture in `glEGLImageTargetTexture2DOES`, otherwhise that texture, if
    not used anywhere else, has its data culled. Similarly,
    `GlEGLImageTargetTexture2DOES` should propagate a write dependency on
    the bound texture.

commit 05bfd2957f36399b6ff68e737caf60e57c11715a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 15 12:46:38 2018 -0700

    Fix breaking gofmt presubmit.

commit 298f954acdc9b5bed05b2910292b04207f1ef7f8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 15 12:46:17 2018 -0700

    Fix breaking clang-format presubmit.

commit a315eea725ad425860c4fc46c4628aa5d8fabea4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 15 12:41:17 2018 -0700

    Do the `.bazelrc` dance.
    
    See https://github.com/bazelbuild/bazel/issues/6319.

commit 3ce54c621e899bef2cec56fbedd9564c06842726
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 15 12:33:57 2018 -0700

    Silence the min SDK android bazel warning.
    
    I.e.: `AndroidManifest.xml has no minSdkVersion. Using 1.`

commit 3df2e55d7d5eaae6fd7b45491b4a83457ea94303
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 15 11:16:50 2018 -0700

    Explicitly link with libdl on Android.
    
    This is required to build with bazel 0.18.

commit dd343528eaa6ec442c9e10874a345b529e8b6d28
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Oct 16 10:11:51 2018 -0400

    Update to Vulkan IsTrivialTerminator for the last command.
    
    Removes un-necessary state mutation when talking about
    the last command.

commit 098348a67091fd35a2960b9c6fd8a396dfa47078
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 11 10:53:00 2018 -0700

    Use `am startservice` for pre-Oreo devices.
    
    `am start-foreground-service` was added and is needed starting in
    API 26.

commit 8cfc773475f72a34bd5ce068c8b0dd5a11081b7b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 12 18:37:46 2018 -0400

    cmd/gapit: Add new dump_replay verb
    
    Shows you all the replay opcodes

commit fc193ea5eb726c3cf72068b2767ded067d2b3ff8
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 12 18:37:15 2018 -0400

    cmd/gapit: Give export_replay a default out.
    
    If this flag is empty then you just get an unhelpful error

commit 893978463d041d439bc78c37e02721bc229b0156
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 12 18:36:36 2018 -0400

    gapis/api/gles: Don't hang if the EOS postback isn't as expected
    
    Matches similar changes to vulkan.

commit cf3f27354ea25b3bd7368ae6e933246c14b86893
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 12 18:35:46 2018 -0400

    gapis/replay/opcode: Fix panic in Errorf
    
    If the opcode is unknown, trying to print it paniced.
    Instead cast to int so the error print still works.

commit b4b62963abddf310912108eeea357c1c4b656968
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Oct 11 11:29:46 2018 -0400

    Enable on-disk cache by default on remote-ssh devices.
    
    This improves performance when our in-memory cache is not
    large enough.

commit e4b470b0481589c3d05bcd017056c013e3b5b944
Author: Qining Lu <qining@google.com>
Date:   Wed Oct 3 10:59:33 2018 -0400

    Bring on-disk cache alive for GAPIR on Linux
    
    new command line argument for gapir:
    * `--enable-disk-cache`: To turn on on-disk cache. For now this means
    in-memory cache will not be used, later we may want to chain these two
    caches up.
    * `--disk-cache-path`: User defined directory for cache file. The final
    cache
    files will be located at:
    `<disk-cache-path>/resource.(index|data).
    If no user defined path is given, $TMPDIR will be used, final cache file
    directory will be: `<$TMPDIR>/gapir-cache.XXXXXX/resource.(index|data)`.
    XXXXX is generated by `mkdtemp()`.
    * `--cleanup-disk-cach`: If the `--disk-cache-path` is given, this flag
    means the cache files will be deleted when GAPIR process ends.
    
    obsolete argument for gapir:
    * `--cache`: This argument is ambigous.
    
    Cache files will be deleted after the GAPIR process dies. This is
    guaranteed by a `fork()`ed process whose only job is monitoring if the
    GAPIR process is alive, and deleting the files and `gapir-cache.XXXXXX`
    folder once GAPIR is died.
    
    Sits on top of #2246

commit 0fbc1d35d99623d968d2b691039931eafde521f4
Author: Qining Lu <qining@google.com>
Date:   Sun Sep 23 23:20:01 2018 -0400

    Simplify gapir resource cache and replay connection code
    
    Prepare for the comming changes on resource caching.
    
    * `ResourceProvider` is changed to `ResourceLoader` as an interface.
    * `ResourceCache` is removed from `ResourceProvider (now
    ResourceLoader)` inheritance tree, now as an individual interface.
    * `CachedResourceLoader` is an implementation of `ResourceLoader` that
    owns a `ResourceCache` instance.
    * `ReplayConnection` is splitted into `ReplaySerivce` interface and
    `GrpcReplayService` implementation, `ArchiveReplayService` is another
    implementation of `ReplayService`.

commit f9f4960f8f4e9e26a3612d4f71df2fe9a4e8e440
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 5 15:00:30 2018 -0700

    Update the building instructions for Android.

commit 23c2d4d46f2fc1eaf12e6873e2f0037cc43b96d3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 5 14:53:34 2018 -0700

    Start the APK services in the foreground with a notification.
    
    This is required starting in API level 26, where background services
    can no longer be started via adb and foreground services need to show
    a notification in order to not be taken down by the OS.
    
    This gets rid of the "this app was build for an older version of
    Android" message.

commit 2f81e15ee6108257da8dcac5e16c276723ca2c75
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 5 14:50:56 2018 -0700

    Build using Android API level 26.

commit 1c5aef2d886e789ad8685f4303c4e50e3389767c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 5 14:50:03 2018 -0700

    Include the manifest file when computing the hash.
    
    Changes to the manifest alone would otherwhise not cause GAPID to
    install the new APK.

commit 11966645c1c798cadd74ab19e501a548520992a6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 5 14:48:38 2018 -0700

    Remove an unused AndroidManifest.xml file.

commit 3a268409bc5a091735e23a799121add3e51f6c5d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 2 09:43:51 2018 -0700

    Don't serialize the initial state in the replay log.
    
    The replay log will already contain the commands to recreate the state,
    including the initial state as well, makes the resulting trace invalid.

commit 6d59babd495e2587ad9b110a71b9e67f9a3d2492
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 5 11:48:25 2018 -0700

    ODR: Query the driver for the format/type for glReadPixels.
    
    The GLES spec requires glReadPixels to be able to return the data in one
    of three formats (see section 4.3.2 of the GLES 3.0 spec):
    
      1. for normalized, unsigned and signed integer formats, simply in their
         base RGBA format (e.g. RGBA8, RGBA32I and RGBA32UI).
      2. in an implementation chosen format that can be queried from the
         bound draw framebuffer.
      3. RGBA/UNSIGNED_INT_2_10_10_10_REV if the internal format is RGB10_A2.
    
    Since 1 plus 3 is too restrictive and doesn't even support float formats,
    we need to use 2. With this change, the replay VM instructions are
    augmented to query the framebuffer for the supported format and type,
    which is then used when reading the pixels. The format and type are then
    also posted back along with the pixel data.
    
    The whole thing is complicated due to driver issues, where the querying
    of the format and type is flawed and returns the format of the framebuffer
    bound by `GL_FRAMEBUFFER` instead of `GL_DRAW_FRAMEBUFFER` and also
    ignores the requested attachment of `glReadBuffer`.

commit c11b0dd3facb3e2622a336c9e158fded253778be
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Oct 9 16:47:42 2018 -0400

    Fixes for the memory tracker on windows.
    
    This fixes up and re-enables the coherent memory tracker for windows.
    It significantly helps trace performance.
    
    Fixes #2085

commit a41c02f6abd22bdaea3f4c51c9887a2a0ba78c75
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Oct 4 15:44:58 2018 -0400

    Added a trailing frame-time measurement to the benchmark.
    
    This allows us to separate loading-time from run-time
    in trace-time benchmarking.

commit 493d1ed1849d2196c5548268b041488e69f38479
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Oct 5 13:32:13 2018 -0400

    Force the GAPID apk to be debuggable.
    
    We need this to be the case to force run-as to behave.

commit ba3720a1f1ece4a8265d7e5d97ab586031803dbb
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Oct 5 13:31:30 2018 -0400

    Some minor fixes to vulkan images.

commit c0bb6f04c962c7c3aa2241f785597ba37cdcf8ca
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 4 16:45:42 2018 -0700

    gles/read_framebuffer: correctly resolve multisample with MRT
    
    When blitting color, `glBlitFramebuffers` blits the attachment of
    `glReadBuffer` to each of the attachments specified via `glDrawBuffers`.
    By default `glDrawBuffers` is only `GL_COLOR_ATTACHMENT0`. Since we
    didn't touch the default, but would bind to other color attachments
    depending on what was requested, we would end up blitting to nowhere
    and return garbage data. Thus, by forcing the attachment to be
    `GL_COLOR_ATTACHMENT0`, we can avoid having to setup the `glDrawBuffers`
    on the temporary framebuffer.
    
    The same was true when doing GPU resizing.

commit 38900cdf0ef0644b8beb88d8742996f5bee365fb
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 4 15:20:01 2018 -0700

    Add error checking to the glDrawBuffers API.

commit 36699243393c1fbf98be61257b852967a2a195e3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 4 15:56:24 2018 -0700

    Fix repeated flags causing `-help` to panic.

commit 4ddd493a5faa099bc447335d7a4bc7e20345cf37
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Oct 2 13:05:40 2018 -0400

    Increment the version number to 1.2.0

commit 535f390ed589f74e8466e7a9180bdddc17cc3da1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 3 15:25:38 2018 -0700

    ODR: Fix reading depth data of depth stencil buffers
    
    Makes reading the depth buffer work on framebuffers that are initialized
    with a `DEPTH_STENCIL` format.

commit 12a037b9c5ca089bcbdd03761bb8372333db9bcd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Oct 3 15:23:19 2018 -0700

    MEC: Fix reading of depth textures.
    
     - Don't attempt to read `DEPTH_STENCIL` textures as just depth, since
       the resulting data cannot be used to initialize it in the replay
       anyways.
     - Override the internal format of the depth texture to be that of the
       read data, so that the initialization on replay is valid.

commit b04c08ea401bb33d1a68d9411cb37508df5b67fe
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 2 14:20:10 2018 -0700

    Don't stop device scanning on errors.

commit 7315a45d45bb17c2c3b1f9b89a41c26a3a98a7b0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 2 14:06:11 2018 -0700

    Also show a warning if adb is invalid in the settings/welcome dialogs.
    
    This warning also is a bit more detailed, explaining what is wrong.

commit 33404a9873b9830ffddbaab045ec70349e7921c0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 27 15:30:34 2018 -0700

    Bring back the adb warning in the trace dialog.

commit b1ae8f2800b317c4ab3435f03bf7870336be88b0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 2 12:15:09 2018 -0700

    Adds an UpdateSettings RPC to gapis.
    
    Allows changing the path to ADB and combines the now removed
    enable/disable analytics and crash reporting RPCs.

commit 9b673bfadf5b26276601b619cc229116d04e0974
Author: Peter Chen <tianc@google.com>
Date:   Wed Sep 19 16:46:08 2018 -0400

    Add outputframes options to export_replay.

commit 11c78e607f30771b0df8834bd50068cda2b94649
Author: Peter Chen <tianc@google.com>
Date:   Wed Sep 19 15:31:42 2018 -0400

    Make replay manager an interface.

commit 61af595de4fc3ba52ab0bac5066ebf49c3cccc05
Author: Peter Chen <tianc@google.com>
Date:   Wed Sep 19 15:11:06 2018 -0400

    Store postback when in replay-archive mode.

commit 6a3aef5a8708405c73f9eabea455d227b0880309
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Sep 28 16:36:19 2018 -0700

    Fix the scissor/viewport reseting.
    
    `eglMakeCurrent` resets the scissor and viewport box of the
    context, but only does so the very first time the context is made
    current. We currently were doing it every time the context is made
    current. This change moves the detection of whether the reset is
    needed from the extras into the API definition. It is impossible
    to detect in the spy whether the context was just made current
    for the very first time.
    
    Note that the replay's `bindRenderer` now no longer will ever be
    asked to reset the viewport because:
    
      1. For non-MEC replays, we can just rely on the OS's context
         `makeCurrent` call to do it for us (all of them do). This now
         works, because the replay no longer creates dummy surfaces.
      2. For MEC replays, the state reconstruction emits calls to set
         the viewport/scissor to the expected values.

commit 0d7b79c3ebbedb296be8f43a89b9ee72b636c3d2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 26 17:04:02 2018 -0700

    gapil/runtime: fix default value for booleans.
    
    `make<bool>(arena)` should return `false` (the zero value), but returns
    `true` for any non-null arena, because the template expands to
    `bool(arena)`, instead of `bool()` as pointers can be coerced to bools.
    This adds the special no-arg case, forcing it to ignore the arena.

commit f644dee26c48e16cb12c186aa31ba6013ff9c5b9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 26 15:42:57 2018 -0700

    MEC: Simplify the program recreation.
    
    The programs need to reflect the link state, which may be different
    than the serialized state. This was done by creating temporary
    shaders, link the program, delete the temporaries and attach the ones
    from the state. This change simplifies this by:
    
     - creating the programs before the shaders
     - using the same shader ids for the temporaries as was serialized
     - attaching the shaders to the programs after creating the shaders
    
    This has the benefit of the rebuilt state matching the serialized
    state exactly (not just semantically) and no temporary shader IDs
    have to be allocated.

commit 11163987a33e9cb9bcfc33e8ceceda42e11429b3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 26 11:02:49 2018 -0700

    MEC: Fix comparison of slices in state comparision.

commit 64a402fd8579ad0d9667b94ae791145e12239e92
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 26 15:38:19 2018 -0700

    gapis/api: Don't compare RefIDs.

commit 5d5a78f92821cbcea0bb9cd6bbaec0dba2208363
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 26 11:02:17 2018 -0700

    core/memory: Don't compare arenas.

commit 3f4325ea7f3215a8143239566581eda912cb4f5a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 2 10:09:52 2018 -0700

    Add a `--draws` flag to `gapit screeshot`.
    
    When combined with `--frame`, `--draw` will cause `gapit screenshot` to
    create a screenshot of every draw call in the frame.

commit 3f28317b4834aeaa93eebdbb103dff6e6ab1e124
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 1 11:14:16 2018 -0700

    Allow `gapit screenshot` to replay at multiple commands.
    
    Makes the `--at` and `--frame` arguments repeatable.

commit 116ec171f718d56ca75f16834615ae03eef50116
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 1 10:19:18 2018 -0700

    Drop flags.Strings in favor of repeated string flags.

commit 13a426389e498b60098668e81fe7ecaf7f412c94
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Sep 28 16:37:26 2018 -0700

    Add simple repeated flags.
    
    Flag values that are slices are treated as repeatable flags, where
    successive instances will append the new value to the slice.

commit fdec2e7fb09d79cc15614f05ea1b58b5a9703b5a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 26 11:00:26 2018 -0700

    MEC: Correctly replay uniform block bindings.

commit c5d3fa7ab935b2b7bab95397b473d61c16b915b6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Sep 21 11:29:59 2018 -0700

    GLES: don't spam the log too much on state reconstruction diffs.

commit aaa8212c9b9050cc459d6210a81b7a6994a238fe
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Sep 21 11:25:22 2018 -0700

    gapir: Change log level of replayChangeBackbuffer.
    
    The other GLES synthetic commands are all logged as INFO as well.

commit 98e605bf1b01595547c835bc288fefa73c0f32fa
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Sep 21 11:24:49 2018 -0700

    Track GLES state reconstruction tasks.

commit ee9100bdc1b694b48c068198a0eeaf2fa015e01d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 20 14:25:48 2018 -0700

    core: Print a debug log message upon task start.

commit 9ff4433c0a99c26fa637918e37c0655afcdc2e9d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 20 14:25:21 2018 -0700

    gapis: Don't stop logging to a file on GetLogStream RPC.
    
    gapis currently stops logging to the log handler setup by `core/app` as
    soon as any client starts listening to the `GetLogStream` RPC. This makes
    sense when `core/app` is only logging to stdout, but not if it was
    logging to a file due to the `--log-file` flag. This change makes it so
    that gapis only stops logging if the `core/app` logger was the stdout
    logger, but keeps logging to it if it's any other logger.

commit 055af70b1493e2f2f4c60eaf7a18c52950f087c6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 26 12:18:06 2018 -0700

    Increase the connect timeout to the gapii socket.
    
    On Windows, it seems, 1 second is not enough to connect to the
    adb forwarded port.

commit d79a5232a77bbd07582eca63c15de429c4e52d5d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 17:02:07 2018 +0100

    gapil/compiler/plugins/replay: Add support for static array parameters
    
    This uses constant memory, which has also been implemented.

commit 651a7bde5179345141bce6875241124da765a776
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 16:32:03 2018 +0100

    gapil/compiler: Add basic support for `message`s
    
    Messages can now be used for externs.

commit 28bfa30a93195883fad3222195c7cfe13bce21f0
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 16:18:15 2018 +0100

    gapil/compiler: Add basic support for `any`s
    
    Provides basic RTTI, boxing and unboxing of primitive values.
    
    Used to support messages (added in a future CL).

commit beace790d1cfb2985abef7adf1b9787a2a9f961d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 16:16:11 2018 +0100

    gapil/compiler: Fix expression type of len() pre-cast
    
    This wasn't noticed as the value is always cast. However, a future CL will check that the src value passed to `doCast` is as expected.

commit 763baef88d4c849676980ed456c2d29f510520ce
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 16:14:27 2018 +0100

    gapil/semantic: Add more API.XXXIndex helpers
    
    Knowing the index of a type in the API is useful for RTTI.

commit 648d87bd7a48b1d051bdc2b912bf645adccd397d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 16:13:52 2018 +0100

    core/codegen: Fix 'Struct redeclared' error when using anonymous structs

commit 041ee1adbc9bb5fcf9855e30b7864867e72d8bc2
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 16:13:05 2018 +0100

    core/codegen: Fix bad cast logic introduced by bf6864f9b
    
    The commit message was correct, but the implementation was stupid.

commit 7285c0b415f64d82d1fd0498d5a71daa480804c3
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 16:02:58 2018 +0100

    gapil: Add arena and alignment to gapil arena struct
    
    Reduces the number of parameters needing to be passed to the functions.
    
    Also fix an edge case where doubling the buffer might not actually be big enough for the append.

commit ff6c8026f7c28c8c196a1fc4e5556d3dbb731534
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 16:22:33 2018 +0100

    gapis/api/gles: Don't store contexts in fields.
    
    They should be passed as the first argument, unless there's an exceptionally good justification for storing them.

commit fafb748dfed00a7adc2fb96d706b72fd8ac8f781
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 15:09:20 2018 +0100

    gapis/api: Pass a context to `api.Context()`
    
    Helpful for debug logging.

commit 546cf6bc2c3f5be2a2893867fb58fc23300fc607
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 15:02:12 2018 +0100

    gapil/compiler: Add a setting to emit debug

commit 947874eeb9f1c9a93e9ed6c2ee73cde60cb5331c
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 13:03:22 2018 +0100

    gapis/memory: Don't use proto getters for memory layout
    
    I've found cases where divide by zeros were occuring because the protos were missing. This was a pain to track down as the getter value had already been passed down to other functions.
    Given that 0 values are not legal for any size or alignment, just use the fields directly - this will likely be faster, and will cause bad protos to explode in an easier to debug place.

commit 8bb393f5c450f9a8e2fa8c3030522e72a8570112
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:52:12 2018 +0100

    gapis/service/box: Switch tests to the more standard ctx based asserts
    
    I needed contexts at one point, so made these changes. These are no longer needed, but this is still more consistent.

commit 73781a9c05ddd79cce893b91ea80418dabde10ca
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:50:30 2018 +0100

    gapis/api/vulkan: Remove unused extern

commit 37d3e66efdfa52dc252acf336e708cea02ce1c98
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:49:20 2018 +0100

    gapil/runtime/cc/cloner: Fix build error after dense_maps were added
    
    Not spotted because nothing (yet) pulls in this module.

commit b7c7981acfbd09ce65696a20c5fb396308ccde91
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:47:12 2018 +0100

    gapil/compiler: Improve refcount debug logging

commit bd6100979fc49eb858977537ca92a7b79edf02b9
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:46:32 2018 +0100

    gapil/compiler: Simplify some crazy backwards logic in clone()

commit 2e0f508fc3bcc7541f7b130f5a0eeabc1fcbc0bc
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:45:32 2018 +0100

    gapil/compiler: Update debug locations for block entry and exit
    
    Greatly helps to keep the debug info in sequential order

commit 8e7673661e764ed87d2b0cf00d0049f0c89bfb64
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:40:18 2018 +0100

    gapil/compiler: Add printf %v support
    
    Magically converts this to the correct format specifier given the argument type.

commit 01a912cdc1de443010882c9a4791c70c065c1075
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:36:43 2018 +0100

    core/memory/arena: Allow nil to be passed to Reallocate.
    
    Act like Allocate if there's nothing to reallocate.
    This is a very common pattern for vector like usages.

commit 00ad14bcfa006f9ed1bac056d5820e99cd697b56
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:35:19 2018 +0100

    core/event/task: Fix name of return value of `task.Retry`.
    
    `retry` is simply wrong and confusing. It actually means the opposite.

commit 2017c097c39ed3f279e35b56dd6e17a065409075
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:34:08 2018 +0100

    core/codegen: Fix formatting of structs when calling `PrintfSpecifier`

commit 676faf81716f2da2513b0d53b3d3cbbb06094975
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:32:59 2018 +0100

    core/cc: Fix docs formatting of `setMergeThreshold`

commit 8d70f34f615e6d7136e49cbbd80c1628a3fb1b5f
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:30:37 2018 +0100

    core/assert: Unescape log messages before printing.
    
    Fixes bad printing of percents in post-formatted strings.

commit 4fba3699d9eabbb4933448ec6ac4be1545fdeb08
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:27:59 2018 +0100

    core/app/status: Add a Do() helper function
    
    Wraps a call function with `Start()` and `Finish()`

commit e3b4c9590df282cde0c80c4c7518d76f845f5435
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 12:27:12 2018 +0100

    cmd/gapis: Improve `add-local-device` flag description

commit 1dbe1ff3a17496d58ee64bc8ca426f6232d69c79
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 26 12:47:33 2018 +0100

    gapis/api: Make CustomState private.
    
    This is an API implementation detail, which is not used outside of the API package.

commit 40a8576b00bcfc867045cd376ca3d74e974900a8
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 26 12:42:42 2018 +0100

    gapis/api: Remove InitializeCustomState the State interface
    
    This is a function internal to the API. Move it to a method on `CustomState`.

commit 9b8a2c1805e9a7f711380e6b2dece2bff73e6120
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 26 12:27:00 2018 +0100

    gapis/api: Drop GlobalState parameter to SetupInitialState
    
    Like `RebuildState`, passing both the `State` and `GlobalState` to a function is confusing, as `State` is a subset of the `GlobalState`. Unlike `RebuildState`, the `GlobalState` is not used, so just drop it.

commit f0afc80312fb08c63219c0de7c90d483a5d15c69
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 26 12:12:28 2018 +0100

    gapis:  Remove the rngs parameter from capture.NewUninitializedState
    
    Add a new fluent `ReserveMemory` helper to `GlobalState` so that the usage is more self-descriptive.

commit eaacfb03efe81f71e55eddd4b719d49d18b823d7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 26 11:57:17 2018 +0100

    gapis/api: Move RebuildState from State to API.
    
    Having it on `State` is confusing, as it is subset of the `GlobalState` being passed to the function.

commit b9cefb96267dd4000e8328083cd2ce1cef700d28
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 26 11:28:39 2018 +0100

    Move capture.BuildInitialCommands impl to gapis/resolve/initialcmds
    
    This is the only caller, and fixes the TODO (the resolved data is cached).

commit 27b985e53497c3373fdfff6311ba905984e4fbbc
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 10:55:34 2018 +0100

    gapis/api/test: Add a test for static array command parameters

commit 008123d1b5174a236c27062f1ad7f0e42fffef06
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 10:42:42 2018 +0100

    gapis/api/templates: Remove the unused macro DeclareArrayValue

commit b8fbc5ab6d485f9d8735d44f84f2bc4555beb923
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 25 09:58:05 2018 +0100

    gapis/replay/builder: Remove AllocateTemporaryMemoryChunks
    
    Is not used by anything and is already marked with `TODO: REMOVE`

commit cd142c567835a7e0b75ebcf32eae4ca23a0f6eb0
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Sep 24 14:53:24 2018 -0400

    Linux: Be more aggressive about keeping the memory tracker on.

commit a08852a5825b529d4cb75937ef216217c0d33b11
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Sep 24 15:22:49 2018 -0400

    Fix an overrun in the dependencySync.

commit 0147001f4931c1dbe95c59fee8cfaf05828381b2
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:44:01 2018 -0400

    Gapis: Added forward dependencies from vkCreate* to vkDestroy* calls

commit 85922945bf22434f85dc869ab5ef8570e77ed3b8
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:58 2018 -0400

    Dependency Graph: Always keep vkQueueWaitIdle commands.
    
    This is not quite right, but seems to be generally safe and work for most cases.
    Handling these correctly will require a deeper look at queues.

commit d6a9f448c52406a4fb98d6a33bb9bb22355f2457
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:55 2018 -0400

    Vulkan: Replay can now use new DCE (based on the dependency graph)

commit 8b4adf85952453ce87d501dad5b0696a1f53cb3d
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:52 2018 -0400

    Gapit trim: Added verb to trim captures

commit de205ade400c86655683336ed169552f574320a8
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:48 2018 -0400

    Dependency Graph: readMappedCoherentMemory notifies StateWatcher of entire slice

commit 25bf9597d00affaea9a98fa69b663ed6a0132cf0
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:44 2018 -0400

    Dependency Graph: added dependencies between vkAcquireNextImageKHR and vkQueuePresentKHR calls.

commit 9ce5cc48e545311bbb56c5d529f7b337c278c303
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:40 2018 -0400

    Dependency Graph: fixed dependencies on vkWaitForFences
    
    Now, each operation which signals a fence will "create" a phantom resource that
    is "destroyed" each time that fence is waited on, creating a dependency from the
    signal command to the later wait commands.
    
    IMPORTANT: this only works when the vkWaitForFences call comes AFTER the
    vkQueueSubmit call which signals the fence. When capturing a multi-threaded
    application, this might not hold.

commit b4429131ebed02fef3c66e117f3e7333fc9b4945
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:37 2018 -0400

    Dependency Graph: Added an @untracked annotation for vulkan state variables
    
    The marked variables are internal to the Vulkan simulation, and their reads/writes
    cause spurious dependencies.

commit 1084af001c6bb27b4dcabf33a0cd5be1993ee89c
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:33 2018 -0400

    Gapis: Initial commit of new DCE

commit 23bb69212e754705cfc05ac0febee59f9974034b
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:29 2018 -0400

    Dependency Graph: Added support for @untracked and @untrackedMap annotations
    
    @untracked: marks a global or field so that the state watcher will not be
    notified of reads/writes
    
    @untrackedMap: marks a map so that the state watcher will not be notified of
    reads/writes of entries in the map

commit 4bc21298f879b7d61ae80ad6960dd5dd766f877b
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:22 2018 -0400

    Dependency Graph: Initial Commit

commit 5b120771c069df0887765e528ccbd027968962ec
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:18 2018 -0400

    Vulkan: externs call watch variants of api methods
    
    - Field accessors
    - Get()
    - Len()
    - Add()
    - All()
    - Contains()

commit 8971df7bb2f8f3e065745e197fdf2c61c8f1a293
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:15 2018 -0400

    Gapis: Added StateWatcher to generated code for Mutate

commit a9fa8a0feb99374594f2bdc96b146016104da2f4
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:43:06 2018 -0400

    Gapis: Added api.StateWatcher

commit 4500f537e516d39cfc6d4cdf0e58608da6abf652
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Sep 25 09:40:27 2018 -0400

    Gapis: Added RefID and Reference to track reference types in api state

commit 7518e133266b9d4cd841516146c829e50e1adb9e
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Sep 24 17:00:58 2018 +0100

    Fix tests broken by #2231

commit 999391023bf4d1f83fd4d58dd5e9aad014330dd4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 19 14:21:07 2018 -0700

    Don't bind the "root GLES renderer".
    
    It's not necessary as no GL calls are ever made on that context.

commit c97e2fe2f984bdb7242d0c074f25140091a058d2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 19 14:20:02 2018 -0700

    Fix and simplify the Android GLES renderer.
    
     - don't create a dummy backbuffer upon creation, since we no longer
       call bind (requiring a backbuffer) before setBackbuffer.
     - stop trying to re-do what eglMakeCurrent already does.
     - don't worry about the binding in setBackbuffer, since the binding
       now will always happen after setBackbuffer
     - don't drop contexts, creating a new one, if the backbuffer format
       changes. If we fail to bind the context on the new surface, the
       replay will fail, rather than (always) creating a new context,
       dropping the state of the existing one. We already do it this way
       on Windows. (TODO: check for EGL_KHR_no_config_context and use it)

commit 13f6b19b9f2c6d68c34b0cbbd1537f5132b2e30a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 19 13:59:52 2018 -0700

    Simplify the MacOS GLES renderer.
    
     - don't create a dummy backbuffer upon creation, since we no longer
       call bind (requiring a backbuffer) before setBackbuffer.
     - remove the thread_local reference and stop trying to re-do what
       makeCurrentContext already does.
     - don't worry about the binding in setBackbuffer, since the binding
       now will always happen after setBackbuffer
     - don't drop contexts, creating a new one, if the backbuffer format
       changes. If we fail to bind the context on the new surface, the
       replay will fail, rather than (always) creating a new context,
       dropping the state of the existing one. We already do it this way
       on Windows.

commit 0977a2d763364e9a5443e7bc7c888ff9cea99a60
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 19 13:40:19 2018 -0700

    Simplify the Windows GLES renderer
    
     - remove the thread_local reference and stop trying to re-do what
       wglMakeCurrent already does.
     - don't worry about the binding in setBackbuffer, since the binding
       now will always happen after setBackbuffer

commit eda3acae3bd5166d0a979846c550feb240c67687
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 19 13:22:07 2018 -0700

    Simplify the Linux GLES renderer.
    
     - don't create a dummy backbuffer upon creation, since we no longer
       call bind (requiring a backbuffer) before setBackbuffer.
     - remove the thread_local reference and stop trying to re-do what
       glXMakeContextCurrent already does.
     - don't worry about the binding in setBackbuffer, since the binding
       now will always happen after setBackbuffer
     - don't drop contexts, creating a new one, if the backbuffer format
       changes. If we fail to bind the context on the new surface, the
       replay will fail, rather than (always) creating a new context,
       dropping the state of the existing one. We already do it this way
       on Windows. (TODO: check for GLX_EXT_no_config_context and use it)

commit ee4d863e5e9bc019c4216a3cfff7b379b3e89f2d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 19 11:33:59 2018 -0700

    Make resetting the vieweport/scissor part of bind.
    
    The viewport and scissor of a context is reset the first time it is
    bound (made current). Thus, it makes more sense to ask the replay to
    reset them when the contexts are bound, rather than when they are
    created.

commit 010b03f7740d8ad622d2e5e7617f84a8bdb9613a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 19 10:10:32 2018 -0700

    Call replayChangeBackbuffer before replayBindRenderer.
    
    Implementations of replayBindRenderer require an existing context and
    rendering surface. These, however, are created in replayChangeBackbuffer.
    Reversing the order of these calls simplifies the implementations and
    avoids creating contexts/surfaces that are not used.

commit bc84fe236153b62886f7aeb3eaecc060a5758183
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 18 14:35:18 2018 -0700

    ODR: implement shared contexts.
    
    The Android GLES renderer ignored the requested shared context.

commit d496c21f56de24283375787f423304637265fce3
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Sep 21 14:10:41 2018 -0400

    Fix Linearize_trace (#2239)
    
    Broken by 5bf4a56

commit 9b03c510c83f833c522945c50caa5ac0a360e893
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Mar 20 11:20:19 2018 -0400

    Gapis: Added InitialState parameter to capture.New

commit 61ee9768bd579bfdcab9ab56ca95b8436aaf88fa
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 21 13:15:00 2018 +0100

    Fix tests broken by e1bbc4
    
    Clone is a new method on the `api.Cmd` interface.

commit 5d2ca93f8faf0529e46c74a7cdf5535c993ac88d
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Sep 5 09:41:43 2018 -0400

    Gapis: Added CmdID.Real()

commit 68bd24ae23d268156377bccf56a739fc9a33aacc
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Sep 20 13:48:00 2018 -0400

    Vulkan: Smarter check for temporary shader modules, renderpasses etc. (#2235)
    
    When rebuilding the initial commands for pipelines, there might be
    shader modules and renderpasses with the same handle value as the ones in
    pipelines, but actually means different content. For such cases, we
    should also create temporary shader modules and renderpasses

commit e1d0bed71f77fc2189cba034af81a756aa93c41f
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Sep 20 13:39:35 2018 -0400

    Vulkan: Ad-hoc fix to add a minimum image memory allocation size (#2227)
    
    On some drivers, the size must be at least 262144.
    
    TODO: Insert opcodes so that the replay side can determine the
    allocation size based on the returned image memory requirements.

commit 915444512812f60971d9c24592ebf3420b749808
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Sep 5 09:30:01 2018 -0400

    Gapis: Added CmdExtras.Replace()

commit e1bbc454b450401141983edfa3048a54b8b0d3d6
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Sep 5 09:25:46 2018 -0400

    Gapis: Cmd.Clone() now returns Cmd; clone() returns specific cmd type.

commit 42fdea584fc20f8438f623f1678791e4f9c906cb
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon May 14 12:25:59 2018 -0400

    Vulkan: vkGetPhysicalDevice*PresentationSupportKHR reads and validates the physical device.

commit 11a6ee760ab131ef580eeeaf09493111dcf73f34
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Sep 10 15:58:21 2018 -0400

    Vulkan: Added vkCmdBlitImage api implementation

commit 62ac7013f8173102d2545b35aa801414dea98d8a
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon May 28 14:06:53 2018 -0400

    Vulkan: vkAcquireNextImageKHR custom Mutate() now calls generated mutate()

commit 790b4a83469ddfc28354650a5488d1bf0f03bb0d
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Sep 19 22:57:51 2018 -0400

    Vulkan: Fix a bug in current DCE about dynamic offsets (#2234)
    
    Handle the dynamic offsets in vkCmdBindDescriptorSets correctly, note
    that one command buffer can be reused multiple times.

commit 305b4deba7dca014baad4cd97bbc158d3ca212bd
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 19 10:36:32 2018 +0100

    Fix tests broken by #2186

commit 5bf4a564310f998346ba7a3418275a1ed7af2a48
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Sep 18 13:41:59 2018 -0400

    Do not cache capture data from file (#2186)
    
    If the capture data is from a capture file, do not cache the raw byte data in memory, just parses the capture along with reading the file. For a 2GB trace file, this saves 2GB of memory.

commit 84ee3938e42efd2c23591925ac6d7ba8ce948b50
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Sep 18 10:23:08 2018 -0400

    Vulkan: Fix incorrect traversal of descriptor bindings (#2226)
    
    Descriptor bindings are not 'consecutive numbers starting from 0'.
    Should use `for _, binding_number, binding in descriptor_set.Bindings`
    instead of `for i in (0 .. len(descriptor_set.Bindings))` to traverse
    through the maps.
    
    This also allow us to drop the duplicated memory-read for buffers when
    binding descriptor sets.

commit 970a7613389f8c5dd7f8d4b59b7264790981a2d6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Sep 17 16:20:36 2018 -0700

    Fix MutationCmdsFor chopping of a command.

commit 7bc48ef53f21b6a25c8c992e5eeb45a4fc4a6223
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Sep 17 20:29:48 2018 -0400

    Vulkan: re-Fix wrong descriptor set indices when binding descriptor sets (#2224)
    
    This re-fixes the wrong calculation of descriptor set indices when binding
    descriptor sets. The fix was reverted as #2191 get reverted.
    
    Also, for multi-layer maps (e.g. `map!(u32, map!(u32...`), we need to
    explicitly assign the child map back to the parent map. This is because
    the generated go/c++ code will not assign the child map back to the
    parent map automactically (go: `Get()`, c++: `findOrZero`) when write
    api file like: `parent[parent_key][child_key] = child_content`.
    
    TODO: Similar bugs for other mutlti-layer maps

commit 6164bbfc51964f9db9f05d2a3d03d7e529d8261e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 13 15:51:08 2018 -0700

    ODR: support reading the depth buffer on GLES 3+ devices.

commit dc09db7c61354b3697bdb7c46fb0e00f2e8187b0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 13 10:48:29 2018 -0700

    cmd/gapit: Support depth/stencil for screenshot attachment.

commit 950c2e17e5bf67a85ea77672b3ce7fb6a233c713
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 13 15:52:22 2018 -0700

    Add `screenshot.png` in the root dir to `.gitignore`.

commit da2af38085ac9651792f777205aaec042062da47
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 13 15:51:44 2018 -0700

    Add a missing `.Free()` in the undefined FB pattern.

commit cd921ced716cb40a017b1cc41b8b137d002ed041
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Sep 17 10:43:03 2018 -0400

    Made descriptor bindings refs.
    
    They are only created once, this saves some copies, since the
    add/remove ref is cheaper than the copy.

commit ae88ef79e7bce2758b8276d89803e859d2d8a9a0
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Sep 17 11:44:02 2018 -0400

    Vulkan: Cache the base pipeline only if the creating pipeling has derivative bit (#2222)
    
    Only the pipelines created with VK_PIPELINE_CREATE_DERIVATIVE_BIT should
    have base pipeline.

commit b4e64c8f0a907b5334ecf8ec65ae91825482c3fe
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Sep 14 14:18:26 2018 -0700

    Be explicit about the ldscript location in the linkopts.
    
    This is to fix building with bazel 0.17, where labels are no longer
    automatically expanded.

commit 00d87e18cbe4243ce48406011e4d84db942ec84c
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 14 18:49:22 2018 +0100

    gapii: Don't encode commands pre MEC

commit 7d52ee72010463dff50e9dc8ae58c74d87a90ee1
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 14 18:41:38 2018 +0100

    Re-apply "apic: Add support for compiling multiple APIs in one invocation"
    
    The crash has now been fixed.

commit 74e570f28dd8bd487924e88e10b1fd5d263aeb2f
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 14 18:40:49 2018 +0100

    gapil/compiler/plugins/encoder: Fix MEC of state blocks
    
    The type of the this pointer to state encoding was wrong - it was a pointer to the root of all states, when it should have been to the specific API state.
    This resulted in gles MEC working fine (it's at the 0'th offset of the root state), but broke vulkan.

commit 373eb96c7774cd9238761c24b50b2d77b25dd004
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 14 18:38:57 2018 +0100

    gapil/compiler/plugins/encoder: Add more debug messages
    
    Not enabled, just helpful when they are enabled.

commit 44114f1b65edcae866f5090de46053479b04566f
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Sep 14 15:08:07 2018 -0400

    Revert "Vulkan: Fix wrong descriptor set indices when binding descriptor sets (#2191)"
    
    This reverts commit ac65ff9e914a9e0abe65bfa67bbcac6300384133.

commit bc21c65cebd3e97a80c0c09486662e11b56d1d46
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Sep 14 14:53:29 2018 -0400

    Fix typo in descriptor api.
    
    This was small typo, it turns out to not have had much
    semantic meaning, since the next like will also catch the
    same condition.

commit 700a770e82407294f4d5cc6071270059d785ccbe
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 14 17:00:38 2018 +0100

    Revert "apic: Add support for compiling multiple APIs in one invocation"
    
    This reverts commit 37a8862012b40ce370a4473b7cf85359796f2075.
    
    Crashes vulkan MEC for some reason. Investigating.

commit 37a8862012b40ce370a4473b7cf85359796f2075
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 13 12:40:37 2018 +0100

    apic: Add support for compiling multiple APIs in one invocation

commit 9640f7aa1ec75c395c4ada75c1c3020dc63243ad
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 13 12:34:44 2018 +0100

    tools/build/rules: Add apic_binary rule

commit c9f4415c3b01919f10c2a2e3dabe4485b29c1f5a
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 13 12:30:35 2018 +0100

    tools/build/rules: Swap order of the apic rules.
    
    Helps git diffs with another branch.

commit 5ee48ad40d6426c07f91716e39c7432163b73509
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 7 10:53:25 2018 +0100

    gapis/memory: Add Strlen()

commit 55b5756cd4f381f11ca05ed2a79950ba45371cd2
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 13 11:23:37 2018 +0100

    gapil/compiler: Add a bunch more tests for various features

commit 787851da612c944c33eb1d157f6e930d8455e072
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 13 11:16:35 2018 +0100

    gapil/compiler: Handle externs as a callback
    
    Instead of calling the function directly. Helps remove go-implemented extern boilerplate.

commit 15f240edfb7e356abd093ed580a2dc3eba5ef058
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 13 10:52:34 2018 +0100

    gapil/runtime: Put all the callbacks into a single struct.
    
    Keeps the API simple as we add more callbacks

commit 58c418575c17b16813e562488fee9239ebbb8863
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 13 09:48:09 2018 +0100

    gapil/compiler: Don't start all functions with an empty scope

commit 82710deeecc2958dd013118f9a376442aa180599
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 16:36:17 2018 +0100

    gapil/compiler: Implement $Thread
    
    This was a long-standing TODO.

commit 87fa20643d0dbf2ca708ed3dc8bf1cb68b2efad6
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 16:20:50 2018 +0100

    gapil/compiler: Emit a Module definition
    
    These modules list all the symbols generated by the compiler.
    Modules will allow multiple compile variants in the same executable.

commit d764b540a2b67426b5a2c58f0d67697c49466db5
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 15:56:41 2018 +0100

    gapil/compiler: Rename Program.Module to Codegen.
    
    The compiler package will declare a new `Module` type in a future CL.

commit 23533cb58b6b65cef886ef5fc9f22ff15224abc6
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 15:47:10 2018 +0100

    gapil/compiler: Split S<->T functions into declare and build passes.

commit ba07dd19e26e249c94efd8de4c870fd624b7ce7e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 15:44:27 2018 +0100

    gapil/compiler: Start annotating codegen with debug info
    
    Note: Still debug info is not enabled.

commit b411dc6633cf3c334f65ce0dd559fc94c0313aa7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 15:24:40 2018 +0100

    gapil/compiler: Fix immutability of struct locals
    
    Fields of local struct values can be changed. Alloca these.

commit 8482b7ef901a469e168b1a03769dd88a47a3b751
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 15:16:53 2018 +0100

    gapil/compiler: Add debug flag to check contexts are non-nil.

commit ed0d68e62672075f0fb7af596160414eb26a154c
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 15:07:21 2018 +0100

    gapil/compiler: Switch to using exceptions for error handling
    
    Switch to zero-cost exceptions instead of returning and checking <val, error> pairs.

commit 9328b3d6d0e84e216b3af86dc788e2bbe13b37ac
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 14:49:16 2018 +0100

    gapil/compiler: Simple refactorings

commit c65bfc07092f0a9a77cd36dc81996d70d18ada1e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 14:36:41 2018 +0100

    gapil/compiler: Optimize refcounting.
    
    Keep track of object refcounts within a scope. Only twiddle the refcount once the scope closes.
    
    Gives around a 30% performance increase.

commit 95c3c4fb982012191004df38c4140f9110c57b98
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 14:25:28 2018 +0100

    gapil/compiler: Include object pointers in refcount errors

commit 065aa566a3c378c2aa25cf1e71334c762238f9cd
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 14:24:32 2018 +0100

    gapil/compiler: Fix isRefCounted logic for Pseudonym types

commit 90d1d70c5c49a85b491ac502c5c6805f00ff431d
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 14:21:46 2018 +0100

    gapil/compiler: Inline the map Lookup functions
    
    `Lookup` trivially wraps `Index`, and doesn't need to be its own function.

commit 89417a4fc297b1717cc3d593d75340d8f6c93a2a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 14:12:46 2018 +0100

    gapil/compiler: Split cmd param type gen into declare / build passes.

commit 83ad0720307e4f4963ee6f4da9202cdde56efdce
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 14:04:51 2018 +0100

    gapil/compiler: Check refcounts when calling map methods.

commit b710252e3a1fe35f3e948d09ab6b2fd5ad32b9be
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 13:57:46 2018 +0100

    gapil/compiler: Glob together all the declare functions

commit 86e92ca51a55b8a6970fb0f83ae26b672dac7206
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 13:05:30 2018 +0100

    gapil/compiler: Declare errAborted global error.

commit dbe05f0481d30b3681297a8adcd3e867f9cfae55
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 13:04:47 2018 +0100

    gapil/compiler: Compare memory layouts using SameAs
    
    Comparing with `String()` may give false differences (due to name strings)

commit f2715c9e47a9a747023c66ba3782a7ed5e60e60f
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 12:58:38 2018 +0100

    gapil/compiler: Gather plugin functions in compile().
    
    We will need these functions outside of `program()`.

commit 421c82eb334fd7d5ef738e7c3609c9e83ee487eb
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 12:55:05 2018 +0100

    gapil/compiler: Split functions tables by kind.

commit 2d01e845ff7880e4f13f8ad0d6a019270566c554
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 12:44:20 2018 +0100

    gapil/compiler: Drop code locations.
    
    Codegen can now produce real debug info. We don't need this anymore.

commit 89d7d4543e630f7eede4d9348a2c2710e795f877
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 12:30:07 2018 +0100

    gapil/compiler: Handle T<->S casting of static arrays

commit afa140f2c5689bcda4eec43916262688a8fdae54
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 12:27:04 2018 +0100

    gapil/compiler: Assert that expressions return the correct type.

commit ecb27de213a3a1b4b780b1752c81e9da16b1f1ce
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 12:21:05 2018 +0100

    gapil/semantic: Drop the pointer from API.Index
    
    There was no good reason for this, and just complicated code.

commit a94e184eff28dfef05461bab624e5e4937acf07d
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 12:20:17 2018 +0100

    gapil/bapi: Add missing type cases in decoder.node()
    
    Fixes tests

commit 5082b292241e4c62ee56ba7343c116594e08aeca
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 12:08:30 2018 +0100

    gapil/resolver: Fix type resolving for locals assigned to unknowns
    
    Fix gles.api where a value of the wrong type was being returned.

commit 6dec13c54b2a495a14dd557f643da5815cf13dc0
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 12:06:35 2018 +0100

    gapil/resolver: Improve statement sem<->ast mappings

commit acb07b377da80bd97049ba9eb4c4ded29444f9b1
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 11:56:45 2018 +0100

    core/codegen: Specify target data layouts
    
    Fixes bad codegen with certain optimizations

commit d47183b6de119a776dce6a11caf55e9ad27fa54a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 12 11:16:41 2018 +0100

    core/codegen: Add support for debug info generation
    
    There's still a couple of TODOs regarding paths. This is still WIP.

commit 9104ce2942d74cdf0127d5f7d3c15ea3c730684e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 15 21:57:47 2018 +0100

    Update LLVM to to latest
    
    Contains a small fix for the golang debug info bindings (e562960f).

commit 9a70b28ada431d267da15dcf00a0707622f1531f
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Sep 12 14:24:11 2018 -0400

    Update how we handle descriptor sets again.
    
    This provides some performance benefit.

commit f2c71325086d80faed9e05f5f3207bb818f719b0
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Sep 13 15:15:15 2018 -0400

    Better error message from remote ssh connection (#2206)

commit df224c7283ed3e6aab53fbc91a2d48f893fde646
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Sep 12 14:22:11 2018 -0400

    Only take the slow-path in MutationCmdsFor if we really have to.
    
    This saves us a bunch of performance since for the most part
    we never have to hit the slow-path. This is especially
    true for GLES.

commit 7e798ae3aef9d3f6630bbf72cd3306e0f1863a12
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 12 14:54:54 2018 -0700

    MEC: fix reading of color renderbuffers.
    
    The read pixels path requires the framebuffer to be bound to
    GL_FRAMEBUFFER, binding to GL_READ_FRAMEBUFFER doesn't work. This
    appears to be a driver bug.

commit 7532c5ca495f903674fb6962d8e0201f8912d8b6
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Sep 13 11:45:06 2018 -0400

    Drop the global lock around most of the Vulkan API commands (#2192)
    
    * Drop the global lock around calling some of the underlying API commands
    
    Unlock before calling some of the underlying API command calls, and lock
    again after return from the underlying API command calls.
    
    This improves the tracing performance, especially when the application
    builds Vulkan pipelines in multiple threads.

commit ac65ff9e914a9e0abe65bfa67bbcac6300384133
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Sep 13 10:08:43 2018 -0400

    Vulkan: Fix wrong descriptor set indices when binding descriptor sets (#2191)
    
    * Vulkan: Fix wrong descriptor set indices when binding descriptor sets
    
    This fixes the wrong calculation of descriptor set indices when binding
    descriptor sets.
    
    Also, for multi-layer maps (e.g. `map!(u32, map!(u32...`), we need to
    explicitly assign the child map back to the parent map. This is because
    the generated go/c++ code will not assign the child map back to the
    parent map automactically (go: `Get()`, c++: `findOrZero`) when write
    api file like: `parent[parent_key][child_key] = child_content`.
    
    TODO: Similar bugs for other mutlti-layer maps

commit 1a3259d55857e49cf4efe2a4ec58c2b523e346b5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 31 15:58:49 2018 -0700

    Remove all the ignored #cgo directives.

commit d413b14f3235fc5a4ffee66719184bbdfc7a7744
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 11 12:50:58 2018 -0700

    MEC: fix negative Z cube map sampling
    
    It was sampling positive Z again.

commit 27e926d557c3c29b8a990274501d7400b02cb7ca
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 11 12:29:16 2018 -0700

    MEC: fix reading of mipmap textures.
    
     - store/reset to default/restore mipmap related texture settings
     - set the base and max level to the level we are currently serializing.
       This makes sampling with GL_NEAREST work as expected, sampling from
       the set level, rather than always sampling from the level 0.

commit 79d1e4051353d03c9b57d8313266339f8f414032
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Sep 11 18:20:49 2018 -0400

    Close ssh tunnel when either end closes the connection (#2184)
    
    So that when users tracing through SSH with a specific number of frames
    to capture, the connection will be closed after that number of frames
    are captured.

commit 9871fcda589352f623fd622c2c80929501569c3b
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Sep 11 18:13:08 2018 -0400

     Pre-resolve dependency graph (#2181)
    
    Resolve the dependency graph in parallel immediately once the capture
    data is resolve. This speed up the GAPIS side a bit (~30 sec for a
    typical Vulkan app, 1.8G trace file) for buliding the instructions to
    get the framebuffer data from the replay device.

commit a45c77d7305ec26fc00a235625973dc4d2ab5b88
Author: Peter Chen <tianc@google.com>
Date:   Fri Sep 7 15:37:07 2018 -0400

    Use mmap-ed archive on Linux.

commit 9446d8aed84cc23390c798d734f7c3c1d2a1d659
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 09:30:52 2018 +0100

    Fix type cast panic (bug #2190)
    
    Fixes #2190

commit 49adc0ab055d7427099165a17cf44d7fac9e7b2d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:48:00 2018 +0100

    core/codegen: Add Function.SetParameterNames()
    
    Names all the parmeters of the function.

commit 5f3dba5712143836dbc897e1706e53add363a984
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:45:50 2018 +0100

    core/codegen: Add Executor.GlobalAddress()
    
    Returns the address of the given global.

commit 9d370a7e17d5e91ac6dfb1f5c8fbcd10bfa25573
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:45:13 2018 +0100

    core/codegen: Remove Value.SetNameIfUnset.
    
    Not used.

commit 11a6e81eb29d2ea5a81da83c95c8f1139a455432
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:44:36 2018 +0100

    core/codegen: Add Global.LinkPublic() and .SetConstant()
    
    Controls global link attributes

commit e2979b91187f8e17aad5dfece14a6a75c85789b3
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:39:34 2018 +0100

    core/codegen: Rework Scalars
    
    Let strings be passed to Module.Scalar().
    Add `ScalarOfType` to better handle container types.

commit 1196b2e1630ba8c816edd3b24d99db928022632f
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:34:07 2018 +0100

    core/codegen: Add support for module constructors

commit a817b0ba420d1d4f8ffc75106abd3f9ba0c78501
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:33:14 2018 +0100

    core/codegen: Make Types.TypeOf() more permissive.

commit 2b77c4fad154db9605b995cb11009e7737071d7f
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:31:49 2018 +0100

    core/codegen: Add Function.LinkInternal()

commit 668cc26e82ed89c01a6b0ba992239dedc0a8e0c7
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:30:49 2018 +0100

    core/codegen: Remove 'ptr' tags on Go structs
    
    This functionality is no longer used.

commit fe4eaf576a7be61981a6a6f5d89c3e5242b5fe19
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:29:43 2018 +0100

    core/codegen: Use the 'new' way to optimize functions
    
    Faster to compile, produces more optimized code.

commit c29f5c9d959efb62bc1055c7e3992e6ff8ba9afa
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:27:58 2018 +0100

    core/codegen: Cleanup some error handling

commit 8f0e06e11f80733a23883ba1ae4a4b1ea9a3a8ad
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:23:57 2018 +0100

    core/codegen: Add Global.Cast

commit ef49b45c0819a0feb65b25f80060c0bde3b7285d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:22:52 2018 +0100

    core/codegen: Add Builder.StructOf
    
    Builds a struct value that holds all the given values.

commit e17ede2be0292fb0f866c8f756f2f1d020c46ede
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 13:14:42 2018 +0100

    core/codegen: Add support for exceptions

commit 688aaeb35d4703d2f546b08225a863ae786846ad
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 12:13:22 2018 +0100

    core/codegen: Add size, alignment & offset info to the types.

commit 1b6e2c85cc90070be9e7173ac9775bc65fc391bb
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 13 21:12:08 2018 +0100

    core/codegen: Include module in verification failures

commit 533b62dc7b28e19b17b056de065f3e25af27acf1
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 7 11:52:26 2018 +0100

    core/codegen: Reuse string constants

commit ed4764d03669816e5e852d8d258a674844640e53
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 19:30:51 2018 +0100

    gapil/compiler: Don't call deferRelease with nil values

commit 67db347b743cdb9efb9402bb7138e2c7fe236ddb
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 19:29:51 2018 +0100

    gapil/compiler: Fix resource sizes in the compiler tests
    
    These aren't currently checked, but once we integrate with the `memory.Pool` system, these incorrect sizes fire panics.

commit c16c132c5e1e514fbcbcb0a55b71fd86e405d4b0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 19:20:04 2018 +0100

    gapil/runtime: Remove the now unused code_locator callback

commit 42b1be2dc85f65ec737deb5e4d46895a8cb58ec0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 18:56:59 2018 +0100

    core/codegen: Check all external functions are resolved when JITing.
    
    Otherwise you just get a crash when the generated functions are called, way before the external function is used.

commit a667d9b66c15e137b27f11f77c0b534d1ee49983
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 22:38:48 2018 +0100

    gapil: Remove unused callback `gapil_call_extern`

commit d2cab3847707b1ba70ceb63e9bc404e90f0d29eb
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 18:52:34 2018 +0100

    core/codegen: Add Builder.PrintfSpecifier
    
    It returns a printf format specifier and list of values that can be used for printing a given value.
    
    Use this for printing relevant values when an assert fires.

commit 8d2ae0b6185889715b912e0ecdfa743ff933c49d
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 18:48:22 2018 +0100

    gapil/compiler: Improve debugging & logging functions
    
    Pass down the file and line into the log function.
    Add flags for generating logging to help with debugging.

commit 6436b6d19d156202b1184c21f04ba395d06e3676
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 18:20:45 2018 +0100

    gapil: Add a Message field to semantic.Assert
    
    This contains the source assert statement along with the argument. This can be used to print the assert message even when there are no source mappings.

commit 45dab91c6eaf43009a71fa89d2912ca17960afe9
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 18:17:58 2018 +0100

    gapil/ast: Fix some typos in comments

commit 577a16b1636048e715f5f38e0a41e1b1ff56a70f
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 12:20:05 2018 +0100

    gapil/compiler: Pass extern aggregate params by pointer

commit 8ee47d442d2f8d51aee1cfb0efdaa02d4fba9836
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 11:08:08 2018 +0100

    gapil/compiler: Fix a number of ref-count bugs.
    
    * `map.Lookup()` was not incrementing found value references before returning.
    * `mapAssign` was using the wrong type for assignment reference/release.
    * The refcount propagation of class fields was not handling Pseudonyms.

commit 4fb5caa37400aad3c75315d2a927559656a12b7b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 09:59:25 2018 +0100

    gapil/compiler: Index class fields by name not index.
    
    This doesn't fix anything, but it is a lot safer in case we add a header field to class types

commit 41d9069464b2d6d0cdf3623a30e2a8d9dc4c81bd
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 27 09:58:50 2018 +0100

    gapil/compiler: Fix initialValue for Pseudonyms

commit 57dd594d683e1d6017fdf636589cc93a446a1eeb
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 26 12:41:05 2018 +0100

    gapil/compiler: Fix asserts
    
    They asserted the wrong way around

commit aaec6999815c761aaa67caa50ac35b102bfc4d14
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 26 09:54:24 2018 +0100

    gapil/compiler: Fix refcounting with composite assignments
    
    Fixes a TODO

commit af4e89c5c54e8ecbcc846fdfadb40db713a282c9
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 26 09:38:12 2018 +0100

    gapil/compiler: Fix null of strings
    
    Strings should never actually be nullptr - it's always a pointer to something, by default a zero-length string.

commit 6632886afe5deaa8e05b110bfa315959a1a7e7bb
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 26 00:20:42 2018 +0100

    gapil/compiler: Fix bad class reference / releasing
    
    We were only propagating reference / release calls to fields that had a type got picked to implement the shared functions. We should have been checking `c.refRels.tys`, which also contains delegated functions.
    
    This had the side-effect of some fields not being correctly ref-counted.

commit 91d4214ec62f41c2c6570ca5f0c80c82b986ffbb
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 24 11:40:23 2018 +0100

    gapil/compiler: Add the APIs to the output Program

commit d720f4f87db90543e8493b92bce57888174b87da
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 24 11:39:47 2018 +0100

    core/codegen: Add Struct.FieldIndex method
    
    Also document the Field method

commit a294062f368e5e664ce963c8b47fd438bd77918c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 11:10:01 2018 +0100

    core/app/linker: Fix build failure on windows.
    
    Return value was of wrong type

commit 75f57749779bf8d6f4b95fde94ab5062e78af2d9
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 9 12:54:51 2018 +0100

    core/app/linker: Add build guards.
    
    It seems that `linker_posix.go` is being built on windows (possibly because of cygwin). Explicity mark these files with build tags.

commit bc5b89631ab54222718755f2e66e4ca4767c7cb0
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 11 10:22:28 2018 +0100

    gapil/bapi: Fix tests.
    
    Broken by #2173

commit 31a78732fcf24d072b4a1a55d1019f890dfbcf30
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Sep 10 13:36:50 2018 -0400

    Remove explicit write in doVkCmdFillBuffer.
    
    Treat this like any other GPU write.
    This saves us a significant amount of performance since
    we were tracking the writes byte-by-byte.

commit 0aa7f41188fda39aa7505ac023a2ff4f0349b349
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Sep 4 09:53:43 2018 -0400

    Add spy_disabled annotation to subroutines.
    
    This allows us to have subroutines that are not sensible
    in the spy, but should still run in the server.
    
    The starting example for this is an expensive loop through
    all levels/layers of an image to do a read, which is
    disabled in the interceptor anyway.

commit 56c43147ba0b054f256a6b26829f72fc9aeaabf3
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Sep 7 11:35:03 2018 -0400

    Fix test failures caused by dependency graph change and dense map (#2185)
    
    However, this does not fix all the test failures.
    
    Test still fail:
    //gapil/bapi:go_default_test
    
    And things should be done in future CL:
    Add test for the dense map. Current tests about the map want the map
    capacity to be specific values, which can be easily broken by the dense
    map.

commit 0f063dae8ac4a937d161d382ddd2adb0541135ad
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Sep 6 12:25:51 2018 -0400

    Remove the link-time dependency on libXCB.
    
    We still require the headers, but not the library to be present.
    This is useful if you want to run gapir on headless machines.

commit 73abbe541d43c247245b5bb58d2be9e82bae5d5f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 5 10:15:25 2018 -0700

    Fix JRE packaging in the MacOS build.
    
    Explicitely request the 1.8 JRE, as the default has changed a
    while ago to JDK 9 and then 10, which don't have a JRE folder.

commit 6dfa8dcb92fdfbd945ccdf28be0b50a2ebeef88a
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Fri Aug 31 10:22:26 2018 -0700

    Update README.md

commit c2ebd1465aa7fb5f36dc33f3d68a75be22e88bfc
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 31 15:43:33 2018 -0700

    Fix build on Windows.
    
     - newer version of bazel requires configuring the .exe extension for
       binaries in the toolchain
     - work around an issue in how rules_go filters out "-lstdc++"

commit 30140b8bcdc86e1fac99783a851819dbd3ea7e12
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Sep 4 11:46:31 2018 -0400

    Limit the size of replay resource data chunks to reduce memory usage (#2171)
    
    This change can reduce the memory usage a bit as grpc's copies of the
    resource data are smaller than before, limit of 100MB in practice should
    be large enough to not hurt data transferring performance.

commit cdfd0157fd037d6ee44dd7e0096792792409f903
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Sep 4 09:52:35 2018 -0400

    Do not cache the instruction builder for replay execution (#2170)
    
    * Do not cache 'builder' in the closures for post back decoders and
    notification readers

commit d706c29485771948d6ce0801cb965eefa8e73823
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Sep 4 09:52:10 2018 -0400

    Vulkan: Optimize the footprint building memory usage (#2157)
    
    For a typical Vulkan application trace of size 1.8GB. This CL saves
    ~700MB of memory. Also this CL reserves space for slice/map whenever
    possible for footprint building, to improve performance.

commit 4e1503ce1be433f7fb6a18d1d234a05c7b5efcef
Author: Qining Lu <qining@google.com>
Date:   Fri Aug 31 14:23:11 2018 -0400

    Vulkan: Still read memory when descriptor sets are bound
    
    This fixes the problem introduced in #2175

commit 7915ae323ed9dc1763b91088256ec9f996cd7728
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 24 16:47:05 2018 -0700

    Adds a presubmit check that veriefies the //:tests target.
    
    Makes sure that all tests in the project are referenced by that target.

commit 53c6e59973dde799ae0b345820a39e224b0a16d3
Author: Andrew <awoloszyn@google.com>
Date:   Wed Aug 22 09:56:24 2018 -0400

    Fix an issue with linux remote-ssh package listing.

commit 540080421d4f6da04b855e4b3096156ee66aca7e
Author: Peter Chen <tianc@google.com>
Date:   Tue Aug 28 09:37:00 2018 -0400

    Fix review comments for replay_archive.

commit cdfdae132b0e634449c33a147d616e52bde6293a
Author: Peter Chen <tianc@google.com>
Date:   Thu Aug 23 17:55:11 2018 -0400

    Add export_replay for standalone replay with gapir.

commit bc9c94fa97135884d081ead7b6bc3e1771471dad
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 24 11:52:56 2018 -0700

    gapii/client: Track MEC in analytics events.
    
    Add a "mec" label to the capture analytics event, if the capture is
    an MEC capture.

commit b099dca0d0684e2a0343a0432d0f0a3a2266c3ec
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 24 11:52:02 2018 -0700

    core/app/crash/reporting: Fix compile error.

commit 21613968bacb2573a86dda90bc5e61686e11ec45
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 24 11:39:52 2018 -0700

    core/app/analytics: Fix compile error.

commit 56a946c646d22b00eebce669f07105a7bb0a740c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 24 10:51:50 2018 -0700

    Reenable analytics and crashreporting in the build.
    
    Note, the user can still disable it in the settings.

commit d3e94ffe6cbd70f2feb6ab548eff0622a432f67c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 24 12:02:24 2018 -0700

    Re-run gazelle.

commit 24a6a8443becb12049b2835b8400f5c49ed69697
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 24 12:02:07 2018 -0700

    Update to newer version of rules_go and gazelle.
    
    To get a fix for build tags.

commit d3683082c855f91c01b6454333603b6e80410b64
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 27 12:34:42 2018 -0700

    Remove deprecated bazel flags.
    
    Both of these flags are now true by default.

commit e1cd8559e44c898a6b6df645a15cb23e5fa8fcef
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 27 12:31:33 2018 -0700

    Update building doc to new required bazel version.

commit 0834d814bc93016c0a259a85488d8628913246b1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 27 12:07:51 2018 -0700

    Build with bazel 0.16.1 on Kokoro.

commit 5fbda1274656bc8273660a66d909f30ec6e7914d
Author: Andrew <awoloszyn@google.com>
Date:   Thu Aug 30 09:56:50 2018 -0400

    A bunch of small changes to help improve vulkan trace performance.
    
    This has the net effect of reducing vulkan trace overhead
    another 22% on top of the previous change.
    
    For those keeping track, this is a net total of 29%.

commit 56baee9d49af7066cadf8c7cb2d6687679210200
Author: Andrew <awoloszyn@google.com>
Date:   Thu Aug 30 09:54:24 2018 -0400

    Switched the map iteration template to refs instead of copies.
    
    This saves an increment/decrement when we have gapil::Ref<>.
    Since the api langauge does not allow assignment to
    variables, there is no way to modify these anyway.

commit a2fe9e8c34ce64a5c45b9bb9554a40fe3d8c339a
Author: Andrew <awoloszyn@google.com>
Date:   Tue Aug 28 12:18:43 2018 -0400

    Add Dense map to the API language.
    
    This allows us to create maps that exist in the 0->n where
    n is small. This provides some performance boost.
    
    TODO: Make the same optimization on the Golang side, this should
    provide better performance there too.
    
    This reduces trace overhead by ~10% for a particularly heavy
    vulkan application.

commit 4974a5ded93926607207f6291b2655116b3859ea
Author: Andrew <awoloszyn@google.com>
Date:   Tue Aug 28 15:29:07 2018 -0400

    Fix to reduce memory usage of gapis video.
    
    It no longer grows with each image.

commit 6a41d1408350336e27d0a2a20e26690d2a8b50a2
Author: Andrew <awoloszyn@google.com>
Date:   Tue Aug 28 15:27:47 2018 -0400

    A few minor tweaks to benchmark.

commit 409466f7940bee3155c3e35be3f67152ef0e819c
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Aug 28 12:06:07 2018 -0400

    Make presubmit check happy again (#2166)
    
    The last two submitted CL breaks the presubmit check (the one before the last two commit: 26ab445 still works). This should fix the problem. Go version: 1.10

commit 8895b26fa2aa8a71913ee7c8b6c1b3055cf85660
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Aug 21 09:26:00 2018 -0400

    Added gapit benchmark verb.
    
    It performs a set of operations equivalent to the UI and times
    the results. It also can product a chrome tracing file that
    exports information related to all parts of the tracing.

commit e01f1041321d42bc392ee2693926a900483ace19
Author: Andrew <awoloszyn@google.com>
Date:   Mon Aug 27 14:27:12 2018 -0400

    Fix gapit trace

commit 26ab445cc1c0998e84f0cd85e20298d14d7d8c39
Author: Sean Purcell <me@seanp.xyz>
Date:   Sat Aug 25 19:17:38 2018 -0400

    Fix SPIRV-Reflect build file missing header

commit 93d2fcbf7bb17ef94c3a820b84c1f8ae6062732e
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 23 21:09:26 2018 +0100

    gapis/database: Add status markers for resolves

commit dba2721b55bfb66ad494ae2e521782187a243f56
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 23 21:09:01 2018 +0100

    gapis: Change the profiling RPC to be streaming
    
    Add support for traces too.

commit 5b6be40650f8c7ddf6c1c5023513588bde22129d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 23 21:06:48 2018 +0100

    core/app: Add trace profile flag

commit a8a72c144bf0d3a4b6e44c5cc51945ade3edf0ff
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 23 21:06:08 2018 +0100

    core/event/task: Add Poll and Async functions

commit d8fc00f5c571c637d05606a0b3842095a21011b8
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 23 16:33:40 2018 +0100

    Add another healthy sprinkling of status blocks throughout GAPIS

commit aaa6aa362c7def5405bd00c766db1170ec000e1c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 23 16:15:18 2018 +0100

    core/app/status: Add support for emitting chrome traces.
    
    Co-authored-by: Andrew <awoloszyn@google.com>

commit f85f9437e74732ea7b2dd7ff39b3459551504b8f
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 23 16:14:40 2018 +0100

    core/app/status: Add support for events and memory snapshots.
    
    Co-authored-by: Andrew <awoloszyn@google.com>

commit 52379ba8abe19cabbb5e332fed6451baa4e19dcb
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 23 15:30:48 2018 +0100

    core/app/status: Make the context get and put functions public.

commit f14fbccc011f1714c00d12ca628f3729509cd65a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 22 14:54:35 2018 +0100

    Add `Format` functions to all proto `ID`
    
    Without these you can print the hex version of the ID's proto json.

commit 1acc963c8f8a8cdc596667d53867c6d26b4a18ed
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 20 15:09:53 2018 -0700

    MEC: Fix internal format when re-creating textures.
    
    We, internally, represent some of the GLES 2.0 texture internal formats
    with constants that are not actually part of GLES (specifically the
    sized LUMINANCE_ALPHA, LUMINANCE, and ALPHA formats). Thus, when
    recreating these textures, this mapping needs to be undone.
    
    Fixes #2147

commit bde2ee665121907536f2b18470b9f1b51bab72ad
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 20 13:26:46 2018 -0700

    Fix ClassCastException in report view.
    
    Fixes #2149

commit f50696c2950807a2e4ece559ca1ae4c7e462d29e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 20 11:52:23 2018 -0700

    Fix the client to work if compiled with JDK 9.
    
    There are some API backward incompatibles if building with JDK 9, but
    running on JDK 1.8. This change works around the incompatibility, where
    subclasses of java.nio.Buffer (e.g. IntBuffer) now override the .flip()
    method to return the subclass. E.g. IntBuffer.flip() in JDK 9 returns
    IntBuffer, whereas in JDK 1.8, it did not override Buffer.flip(), which
    returns Buffer.
    
    Note, bazel 0.16 now uses JDK 9 by default to build.
    
    Fixes #2145

commit fe1e6724fa9c58aa17db0af0a7d111966c7f4613
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 21 16:17:49 2018 +0100

    Fix `gapit trace` error when multiple targets match
    
    Return the full list of candidates from `FindTraceTargets` so the client can display the ambigious match.
    
    Also renamed the Request and Response structures of `TraceTargetTreeNode`, as these were inconsistent.

commit ff4dbe22039db2f78a4b38a2985dde25e9aff236
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 21 18:44:46 2018 +0100

    More statuses

commit 50a31c13bfbd2dd0808e4b960429ad4dc43cc090
Author: Andrew <awoloszyn@google.com>
Date:   Fri Aug 10 16:03:56 2018 -0400

    Workaround an issue in golang 1.10.3 where a 4GB file is truncated.
    
    https://github.com/golang/go/issues/26923

commit 79bf78d577d8ebe85532d622af8c4352fa676af0
Author: Yiwei Zhang <zzyiwei@gmail.com>
Date:   Thu Aug 9 22:13:50 2018 -0700

    Use a more robust way to retrieve screen states

commit 972696b16adead219970f24c8b64d224e630b2c8
Author: Andrew <awoloszyn@google.com>
Date:   Fri Aug 10 16:09:14 2018 -0400

    Fix rebase from https://github.com/google/gapid/pull/2069

commit 1419f063c868581d8905c3ce466b2f2f5a67e95e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 13 20:35:54 2018 -0700

    Address review comments.

commit 2bb493f63b0f343024b976ec2a0e91b5e2852c28
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 10 16:38:26 2018 -0700

    gapic: Add filtering to the trace target dialog.

commit 1772f0593670f4e906dec04815f4ac18d43c4a40
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 10 14:47:03 2018 -0700

    gapis/trace/android: Sort trace targets.

commit b359b47b99ba9f12f5f9c1d1aab6c59ba830f2f0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 10 13:04:12 2018 -0700

    gapis/trace/android: Be more consistent with var names.
    
    `<foo>Name`: the name parsed from the URL
    `<foo>`: the object found by its name
    (No more `act` for both "activity" and "action")

commit 5cab200d1b6b68622cbc35eb718114f0efbbcb27
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 10 12:52:18 2018 -0700

    gapis/trace/android: Better default action selection.
    
     - Prefer main actions if there are multiple actions, none marked as
       the launch action
     - Consider the filtering of activities without actions, when choosing
       the default activity for an app.

commit d642a571e6590c3f7b26379219e14f2210309ddb
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 10 12:07:02 2018 -0700

    gapic: Trace target picker fixes.
    
     - Disable the button if the selected node is not traceable.
     - Use the correct URI for tracing.

commit 58fa61b827ed2147d6a46e1edb2f4a1e3309e9d7
Author: Andrew <awoloszyn@google.com>
Date:   Wed Aug 8 13:09:21 2018 -0400

    Fix a bug where trace times were completely wrong.

commit 0a8595679cb528869c37a5969f7a6870165f73a4
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jul 18 10:28:42 2018 -0400

    Implement pipeline resource type for Vulkan pipelines

commit 31b60fde8a597e6e90fad125f543e1a80fce21a7
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jul 18 10:26:08 2018 -0400

    Add gapit verb to print out bound pipeline information

commit 485f3ffc683166accf37e3b0474e8278396e57fa
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jul 18 10:24:34 2018 -0400

    Add gapis pipeline resource type

commit 96f1e02fb2cad53b18cd644cd336a443ccbe69f7
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jul 18 10:20:50 2018 -0400

    Add SPIRV-Reflect and expose it through shadertools
    
    SPIRV-Reflect offers tools to analyze the interface exposed by a spirv
    module.  It's used here to parse the descriptor sets that a given entry
    point of a module uses.

commit b0e2bb3b3d27d13b493078a5c6c12c74f4be7d81
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 9 13:55:35 2018 -0700

    MEC: Adds support for cubemap arrays.

commit ffb6ab4a13b243c540de20efa7a0d1aff3f84bc7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 6 15:41:44 2018 -0700

    gapis: Prefer ODR over desktop replay for GLES.
    
    Sorts devices based on various match criteria with the device, on which
    the capture was taken.

commit 7dbed305ebc332de340b238448e283339f3e0a83
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 6 14:33:52 2018 -0700

    gapis: Pass the device to the dependency graph resolve.

commit 060b659c4dd0eab16cc24d380bec85e1ef861a20
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 6 14:07:10 2018 -0700

    gapis: Move DCE out of transform.
    
    Moves dce.go and dead_code_elimination.go out of the gapis/api/transform
    package into the gapis/resolve/dependencygraph package.

commit 510e6b6a20af722a7f6478900c277844690fd316
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 6 12:09:55 2018 -0700

    gapic: Pass the replay device to all Find() calls.

commit 8ad3a14ffa91367b85d38a3845438d571f1cb409
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 6 12:05:03 2018 -0700

    gapic: Pass the replay device to all Follow() calls.

commit d2d143b71bbf283856e3b4a1613460fdebb0311a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 6 11:55:56 2018 -0700

    gapic: Pass the replay device to all Set() calls.

commit 6ee4b0c689019f8511a289241af5f5de1f0a32ab
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 6 11:50:29 2018 -0700

    gapis: Honor the replay device for thumbnail requests.

commit 42ab639097d0b02303b7b747fe02079ebb484f46
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 6 11:50:07 2018 -0700

    gapic: Pass the replay device to all Get() calls.

commit 94cc2587d3edd06ca4cf1b879e4f4a50427402e1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 31 09:50:33 2018 -0700

    gapic: Add a replay device dropdow.

commit 31f0cde4b07a8bf1d219cabc14404bd77361b142
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 31 19:52:57 2018 +0100

    gapis/service/path: Add ResolveConfig
    
    Pass this to `Get()`, `Set()`, `Follow` and `Find`.
    Propagate the ResolveConfig thoughout the resolve package.
    
    This is used to specify the replay device for resolving state data pulled back from the GPU.

commit 9f81875783f0b77a1307cd74ef2feb9ab0e066e2
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 8 19:06:55 2018 +0100

    Add a sprinkling of status Start() and Finish()

commit 26b7931a765ba46d964842b3df270afe815f0437
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 7 15:20:49 2018 +0100

    core/app: Add status package
    
    Tracks what the application is up to.

commit 4fd7c23754aba93888cb94203bc714668a170e25
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 6 15:59:12 2018 -0700

    gapis: Fix tests broken by #2112

commit 3a9e8ed81b795118609061d6d906efef630cb423
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 3 11:26:29 2018 -0700

    gapic: Fix following of memory pointers.
    
    The pool of the pointer that was followed was lost.

commit abb50fd711988731667314d24e7729831f099874
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 3 11:23:24 2018 -0700

    gapic: Fix formatting of slice pointers.
    
    Show the pool number if it's not the application pool. And don't use
    "nil" if the address is 0, which is common when referring to any pool
    other than the application pool.

commit 020102badaab53555f9cc846aa4720c9470ba948
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Aug 8 11:56:45 2018 -0400

    Vulkan: Fix bugs about linear images (#2127)
    
    1. When piping the image data to UI for the texture view, if the image
    is linear and has row pitch, depth pitch larger than a tightly packed
    blob, we need to cut off the extra data.
    
    2. For MEC, when pulling image data at the tracing side, if the image is
    linear, we may need to change the image level pool size, and when
    mapping the data to the pool, consider the row pitch and depth pitch.

commit a3712b666e221996ef68eed469bb71a27aef3f87
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Aug 7 11:11:05 2018 -0400

    Make sure we don't use uninitialized memory in BaseSwapchain::Destroy

commit f9a3b3c7221a99b85ee2c2864da6affb28b11aa0
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Aug 3 15:53:37 2018 -0400

    Clean up platform-specific handling

commit d6e2539d492c37e3b492ac952f4be1c212224706
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Aug 2 17:58:36 2018 -0400

    Use surface types created in trace as hint

commit 589e71ff5281ae934da10ccd3f78ed5d5f802050
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Aug 2 15:58:30 2018 -0400

    Ignore sigpipe in gapir

commit 7c03a177a83e7012475e00050ddff8188c167e16
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Aug 2 15:36:33 2018 -0400

    Handle xcb events

commit 5d724ef3037f5ded3d2c9cdfbe597c3b66112d7f
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Aug 1 15:06:50 2018 -0400

    Add Win32 support for displaytosurface

commit 32a2fad22889526ceea25482a81603425e946daf
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Aug 1 14:06:49 2018 -0400

    Create Xcb patch for render to surface

commit 3dec793e0d28d77b7ea92bae6661aebdf0f6c543
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jul 27 11:24:44 2018 -0400

    Mask out potential high bits in D24 primer shader

commit 37b60d0d7124d2ba94498e9b32e5a6261ad8f7d1
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jul 26 16:45:07 2018 -0400

    Overdraw: use only supported formats and convert if necessary

commit 62478b31fe7db0b41dc49ce2f19045a1f402129a
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jul 26 16:43:50 2018 -0400

    Enumerate format properties and store it in trace state

commit df8421cdcba8fc0f30c0c8bda14c94806bf8bf1c
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jul 26 16:42:45 2018 -0400

    Add C++ methods to iterate over enum members

commit 7ff6745ce5a51ee115f6cd25d2f421fb1f8611ca
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 2 21:46:31 2018 -0700

    Fix the gapic build warning introduced by #2120.

commit 3338f6c8a37bd4fab1b2f9785f94612697c97ce7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 1 14:20:34 2018 -0700

    gapic: Look Ma, no Client use in the views!

commit a9d28d49337b836e8101fbd56e2bafa0924327fe
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 1 14:17:01 2018 -0700

    gapic: Move command tree searching into the model.

commit c761a6cf1e74229ffefc66bf5e3fd112cba84982
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 1 14:13:03 2018 -0700

    gapic: Move texture and framebuffer loading to the models.
    
    Renames the Thumbnails model to ImagesModel (Images is already used in
    multiple places, sigh) and gives it the ability to load textures and
    framebuffers.

commit cd8ec880ece4507abec9a7cb709fa5caf79fb7e8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 1 13:44:18 2018 -0700

    gapic: Add a memory model.
    
    This model is responsible for loading the memory data and observation
    ranges. This is a refactoring change, which moves the RPC logic out of
    the view into a model class. As a side-effect, fixes some timing issues
    in the memory view.
    
    Also: collapses observation, read and write ranges so that the observation
    drop-down doesn't explode on draw calls that read from the application
    pool and the read/write highlights don't have random gaps.

commit 50a245c7536852775883420efc522b451604c590
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 31 15:44:05 2018 -0700

    gapic: Don't use the client in the state view.

commit fa72ba96179daccbd2f9da209106fcc2a0068f04
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 31 15:30:08 2018 -0700

    gapic: Move resource loading logic into the models.

commit 214e0fb200f84f37f80a881b5a7d3bdf764d70d4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 31 15:10:30 2018 -0700

    gapic: Use the thumbnail model to load texture thumbnails.

commit 3c90fc48db9717f6a1049cd1d879d011f0ba4352
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 31 13:03:35 2018 -0700

    gapic: Add a geometries model class.
    
    This model is responsible for loading the geometry mesh data to be
    shown in the geometry view. This is a refactoring change, which moves
    the RPC logic out of the view into a model class.

commit 39bccc9fdbbe47cf251c9640a30bfffdfa679e43
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 1 14:47:14 2018 -0700

    Pin mingw-gcc to version 7.3.0-2.
    
    The current version, 8.2, fails to build.

commit df5c9b358e416ffa00dbd39c3441491564255ac0
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 26 09:17:23 2018 +0100

    gapii\client: Use a timeout for the Dial
    
    Instead of blocking indefinitely, we can now cancel the trace.

commit 28806b1fda935b8a4a27f0dee1ad0160118887aa
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Aug 1 12:53:56 2018 -0400

    Fix missing gofmt

commit 78d387bf68beabc9d99b3cf1b68aa80363a3a0ae
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Aug 1 12:48:34 2018 -0400

    Set timeout on base acquire image to UINT64_MAX
    
    We can't set acquire to 0 here, since the image hasn't necessarily done
    presenting.  This is guaranteed to finish because the only way all
    base swapchain images could still be in use is if the present hasn't
    finished yet, but there's nothing blocking those presents.

commit ef786baf1e1fe078bf53db62c19273f8fef973b1
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Aug 1 10:30:40 2018 -0400

    Remove displaytosurface from video since it chunks replay

commit 0e2a5d7f019c826ec2f750f82f2b3b3ac84445a5
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 31 18:11:59 2018 -0400

    Use #if defined instead of #ifdef
    
    It results in more consistent #if's when multiple platforms are
    supported.

commit f6b11697c425ab19aab1fcbb9bd28dcea2c64913
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 31 17:31:05 2018 -0400

    Fix incorrect image blitting layout

commit 6854cea3b6c5179fcf84b29194bb70c65aae82e8
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 31 16:20:09 2018 -0400

    Fix clang-format with different clang-format version

commit 3ec347661984f99c1a8aefaec87aafc9b0eca0d3
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 31 13:07:26 2018 -0400

    Apply clang format

commit 5c327135052d764dd3dcb95068cae29b8256f886
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 31 13:06:45 2018 -0400

    Remove vkWaitForFences for base swapchain present

commit 4b9329479ae44bb95509b0ba6c3b60ae862a03e8
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 31 11:16:57 2018 -0400

    Add display to surface flags to gapit replay clients

commit c56ce7b93fd05793b63ba4b9de49b6b634d0bb48
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 31 11:16:42 2018 -0400

    Add configuration option to enable rendering replay to surface

commit e48d4dba2cfd9bd6c23ae663f4146f5ad8acacc1
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 31 11:12:11 2018 -0400

    GAPIR: Pass surface create info if available and enabled

commit fec827067208e9b77ed0565152440f1ca3c8eb61
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 31 11:08:32 2018 -0400

    Add support for rendering to a surface in virtual swapchain
    
    - Only Android supported for now

commit c9745948e3038ebc992c82b360a1a3a5aec04e35
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Jul 31 16:47:41 2018 -0400

    Do not crash when built without Android support.
    
    If you build without Android support, and plug an android
    device in, bad things happen.
    
    This fixes that by not showing any Android device if built without
    support.

commit 6a72076afaf058f44665ff7d833efde7350d8e78
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Aug 1 12:04:10 2018 -0400

    Fix bug with linear images.

commit f6da4e804a93ad250718c9c6c3edc269570d2e9b
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Aug 1 12:03:35 2018 -0400

    Allow more memory in gapir if we are on desktop.

commit 3a19da907965fa46116931a61b30bdb20195f863
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 31 13:19:36 2018 +0100

    core/os/android/adb: Fix tests.
    
    `bind.Simple.String()` now returns the device name if it is non-empty.
    The name field of the `device.Instance` is now also set.

commit 9b3a06a2ff14f0ecc6fa749a457614fdc80862ed
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 31 13:12:07 2018 +0100

    core/os/device/remotessh: Fix test.
    
    Use `DeepEquals` to fix the error:
    `panic: runtime error: comparing uncomparable type remotessh.Configuration`

commit 680caf438e96f4e9b47b175d5acecdc783a4786e
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Jul 31 10:17:03 2018 -0400

    Re-add the ability to connect to a server-local local port
    
    This makes it easier to start up applications apart from gapit.

commit 36beb54724cf6d4d6ea25960380554316190512d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 30 15:55:11 2018 -0700

    Nicer android device name.
    
    If the model name and/or manufacturer is available, use them to form
    the device hardware name: e.g "Google Pixel" instead of "sailfish".

commit 316bb3959e5e9313e01e228a3572bd33261429e3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 30 13:56:41 2018 -0700

    Show a file dialog when tracing locally.

commit ff434c3ecbe1fe500bbbdd07f17b82ebcd155a1b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 30 13:17:15 2018 -0700

    A bit of polish for the trace progress dialog.
    
     - Don't attempt to open failed traces.
     - Better button labels and handling.
     - Better status labels.

commit 7997163de8c6fcea688c8a1d71669af634a8512a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 30 12:58:21 2018 -0700

    Don't return the WaitingToStart status until MEC is ready.
    
    The WaitingToStart status is used to signal that the trace is ready
    to capture frames and is waiting for the user to start the trace
    (or the "start frame" to arrive). This status is currently erroneously
    returned a single time, when an MEC trace starts, followed by
    Initializing n-times, and then WaitingToStart again.

commit 595a1ddb944576f2347b5e2fec11bf6d2516b015
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 30 12:34:06 2018 -0700

    Better device labels.
    
     - Move the label gen into the model, so it can be re-used.
     - Show the OS kind along with the name (version).
     - Show the GPU kind
     - Serials can be empty, don't show an extra `-` in that case.

commit e8abf988b2e99baa3eb52e98236abe4fddbd59e8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 30 10:38:38 2018 -0700

    Don't scale image to 0 width or height.

commit 0d5a003816a14f90bcfb6c048e827a9f4d541b79
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 30 10:25:24 2018 -0700

    Fix disposing and re-loading of thumbnail scrubber.
    
    The scrubber de-registered itself too early from thumbnail events and
    was thus not updating the images when the thumbnail change event was
    broadcast.

commit 92d9a9f03f86ca9f117541cbc45007e3dd81295d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 31 14:53:17 2018 +0100

    Fix #2109

commit bb9aea5ffa56a231088e916c55ffa5741546e0b6
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Jul 30 12:11:32 2018 -0400

    Don't merge stdout/stderr on remote device-info.
    
    If the remote device-info produces stderr output, but does not
    fail, we should log it, but not try to parse it as json.
    
    Also clean up some minor issues with Windows->Linux remote.

commit 29937b6aa9445f6c3d7e71424a94320df6bf72d4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 30 09:44:40 2018 -0700

    MEC: Some cleanup.
    
     - remove now unused field from the Sampler class.
     - remove the struct typedefs

commit 39e26d82dc80efd48862d8853ab8a3e85208d1b7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jul 27 12:00:04 2018 -0700

    MEC: Use RGBA8 for compressed RGB textures.
    
    RGB8 is not color renderebale.

commit 334a6c0939c32c9208fa400a9d0b600abbd3c880
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jul 27 11:58:38 2018 -0700

    MEC: Handle SNORM formats.
    
    For now, read them as float16 textures.

commit 36242ce3a889f04e02c4cadf09336387b5b615a1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jul 27 11:57:39 2018 -0700

    MEC: Handle RGB integer formats.
    
    Unlike the R, RG and RGBA integer formats, the RGB formats are not color
    renderable. Coerce them into RGBA formats.

commit 92e5a4b4d37e42d3b2f779f14f23aaf517a9f44c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jul 25 21:31:05 2018 -0700

    MEC: handle float texture formats.

commit ccdc8ba5a3b51697b9888d984b65d9946ca1667c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jul 25 15:24:19 2018 -0700

    MEC: handle SRGB without alpha

commit bb88294e8634c8fa72b5afde12babc4273fb8c78
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 24 11:52:00 2018 -0700

    MEC: Also set texture min/mag filter before reading.
    
    There is no guarantee that the texture's mipmaps are complete and/or
    that the texture's min/mag filters have been changed from the default
    values, which require mipmaps.

commit 751cc96f2049a78b4f363d10ef027e3291becd2a
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Jul 23 13:28:31 2018 -0400

    A few minor updates to the tracing interface.
    
    This allows you to specify environment variables in your
    ssh config, (instead of having to add them every time).
    
    It also exposes portWatcher for external use.

commit 31c8b3170877bbc534f52215567c9d39fe8f1fea
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jul 25 16:17:44 2018 -0400

    Warn when imageview aspect flags not subset of image aspects
    
    Previously the tracing would just silently crash

commit 33ee0ff19fecf242839c0fc50839ae07f799d9ee
Author: Jimmy Casey <casey.jimmy@gmail.com>
Date:   Sun Jul 29 18:57:37 2018 +0000

    Fixed Spelling.

commit eb74996a3bcca85025592d5f848ae962afca0761
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 24 11:29:46 2018 -0700

    Fix the handling of the friendly name in the trace dialog.

commit 3234d0d68a664e01f9915335a8943116bbb92ec2
Author: Sean Purcell <me@seanp.xyz>
Date:   Fri Jul 27 12:22:44 2018 -0400

    Add overdraw as option to GAPID UI framebuffer view (#2070)
    
    * Present overdraw in UI
    * Add proper tonemapping for count images
    * Make gles overdraw not supported more clear

commit 6583f9b746c67d3ec9ca9e7332fd4b0490bd022b
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 24 13:36:40 2018 -0400

    Fix overdraw case where clear values weren't set properly

commit 26cf6898d089a63c4ddd59cadfd20f0cb53bd47c
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 24 11:33:55 2018 -0400

    Fix review comments

commit cd7c17f1dba5215ee930e2484522ba63b0045f3b
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jul 20 17:08:50 2018 -0400

    Copy depth aspect by rendering in overdraw
    
    Specifically do this for the store end (i.e. new depth/stencil image to
    old image), so that we don't have to add TRANSFER_DST to all depth
    images.

commit 7020a1178b120be6d246be218d9775bcbdadfb76
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 15:28:50 2018 +0100

    Remove the now unused gapis/api/testcmd package

commit ef33b2d1174946f780ec7dcac0b526187c736bd7
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 15:27:56 2018 +0100

    gapis/resolve: Switch get_set_tests to using test.Cmds.
    
    This involved changing the tests as commands cannot store the complex types as parameters that the test previously used.

commit b472d898f7575481554f09327e34ee0de6a9d171
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 13:12:20 2018 +0100

    gapis/api/transform: Switch tests to using test.Cmds
    
    This involved separating the tests into their own `transform_test` package to break a cyclic dependency.

commit c76118bbe79b445f1ebe7e2833eaf8b0bd30ebf4
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 13:07:33 2018 +0100

    gapis/api: Change testcmd.API.Index() so it is unique.
    
    This collided with the `gapis/api/test` API index.
    Improved the error message when a collision does occur.

commit 228a227060ab77c6c124c1eac58dd47cb824241e
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 11:52:44 2018 +0100

    gapis/capture: TestCaptureExportImport switch to using test.Cmds

commit e47e2d55ac09b9e82d7e6db832e00b4b1043fcc9
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 11:51:55 2018 +0100

    core: Add the ability to assert with custom comparators

commit cb3e016dbd56b666a4bdc2120798f2e9fa3002fc
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 11:19:49 2018 +0100

    gapis/api: Move testcmd.Writer to transform.Recorder

commit 77a6857fcadffb1b63bf31c7ba2ec648a55c6e48
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 10:40:55 2018 +0100

    gapis/api: TestToServiceToCmd switch to using test.Cmds
    
    Move from using `testcmd.`[`PQ`] to `test.Cmds.`[`AB`]
    
    Unlike those in `testcmd`, `test.Cmds` are generated by the templates and so test the code generation.
    
    This uncovered the following issues which are now fixed:
    * `api.CreateCmd()` did not take an arena, so the created command had a nil arena.
    * `api.CreateCmd()` had an initial value of 0 for the caller - this should have been `cmd.CmdNoID`.

commit 46ee23ecb949b50d82d306e7c1d5b7a6cdb80e80
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 19 18:28:15 2018 +0100

    gapis/api/test: Add cmdTypeMix
    
    Declare some of these as sample commands that can be used by other tests

commit 9b882d3e9953f1cdc72645bd99d275b4ff11b45d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 19 17:54:26 2018 +0100

    gapis/api/test: Split api files up, rename TestExtra

commit 87d8ad20c73b0557806e4fc1c2daa9cba4b2df6c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 24 10:30:48 2018 +0100

    gapil/compiler: Use an output pointer for extern results
    
    There are a number of externs that return aggregate types.
    These cannot be returned directly as these types are not natively handled by LLVM - we'd have to incorporate ABI calling conventions into the codegen.
    
    Returning by pointer is the simplest solution for now.

commit 709a84e1d76d615026fe96c22da90d9448e5d905
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 20:09:11 2018 +0100

    gapil/compiler: Cast return expressions to the signature return type
    
    The resolver only promises that they can be cast, not exact types.

commit a863be0f6d4b8d8dd64cf2e6b6f1efbd7a355d4a
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 20:08:20 2018 +0100

    gapil/compiler: Handle enums in AlignOf & SizeOf

commit 1308e957d1bb276de52a1db29fcff3f51c2af4da
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 20:07:56 2018 +0100

    gapil/compiler: Fix codegen of functions without an else block.

commit 008772918a50fb2cb4cd9e44ccd2a01174805d9f
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 20:07:33 2018 +0100

    gapil/compiler: Namespace functions by owning API.
    
    Now that we're trying to compile multiple APIs into the same LLVM module, we're hitting collisions.

commit 09c0df92afdb3ad35f9a163d4420ec76023ed576
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 19 16:46:03 2018 +0100

    gapil/executor: Use a RWMutex where we can

commit d830645353f521d638119e250314745e7b51a9e4
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 19 16:45:24 2018 +0100

    gapil/compiler: Handle Uint in the mangler

commit 35ce4650b948896821d90fec95c2bb9138abfe37
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 19 16:44:53 2018 +0100

    gapil: Lazy init the mappings

commit 78fb5655c1adcb41f4f011e0f2d672cf089c150d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 19 13:39:28 2018 +0100

    gapil/compiler: Handle multiple APIs instead of just one

commit 8287cf64d691cac5daf4baa93ea509acf3a6aec7
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 19 12:34:02 2018 +0100

    gapil: Remove 'alias' support.
    
    It wasn't used by gles, gvr or vulkan.

commit 810fd6c2690e1785b556513b43b29b999c896c19
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 16 10:27:09 2018 +0100

    gapil/bapi: Add serialization of Sem<->AST<->CST mappings

commit a86a333c318f267107f41ed3de347cfcc55cfe8a
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 23 22:38:13 2018 +0100

    Add core/app/linker
    
    Exposes `ProcAddress` function which translates to `dlsym` or `GetProcAddress`.

commit 81386b8b42ffa9bb1ce2062a1f905276fc9518a0
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 26 09:19:17 2018 +0100

    core\cc: Optimize resource hashing
    
    We were previously hashing the data twice (16 byte hash + 4 byte hash) to build a 20-byte combined hash.
    
    Instead, perform a 16 byte hash, and append the 4-byte length as the extra entropy.

commit 6f8cb409fa341ca1d238a7f58f4c983d1f6ac2fb
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Jul 25 16:06:59 2018 -0400

    A few more small fixes around images and descriptor sets.
    
    It is valid to call VkAllocateDescriptorSets even in the cases
    where it will fail. (1025 sets in a 1024 set pool).
    
    Clean up some warnings that the validation layers were throwing
    from the state rebuilder.

commit 5f65a7b113ad09ee714987486f36b1f86f1fb8e9
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Jul 24 11:14:46 2018 -0400

    Add an option to GAPID to disable unknown extensions.

commit 4a568d9af678d584db64e28a8c98bf281b4de70b
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Jul 24 11:15:13 2018 -0400

    Add a couple of checks around image usage.

commit 0a32147f6651231aad9b2a922a7528ac5e8c3666
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 23 16:55:20 2018 -0700

    MEC: Fix reading of GL_COMPRESSED_SRGB8_ETC2.
    
    GL_SRGB8, unlike GL_SRGB8_ALPHA8, is not color renderable.

commit fc8d5e0d7101aedd802c52e2474482f2775b127a
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jun 22 09:12:36 2018 -0400

    Move tracing into the server.
    
    This replaces the tracing that was happening in GAPIT
    with a tracing RPC through the server.
    
    This means: You cannot trace without the server,
    however now all of tracing uses the same interface for
    all targets, and the client does not need to know the differences
    between trying to trace for Android vs. Desktop vs. RemoteSSH.
    
    Thanks to pmuetschard for the Java work. I squashed this, but
    he did all fo the Java work.

commit b73a3ec56d577378f3ea046ceec7a00c629d8e02
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Jul 23 12:43:42 2018 -0400

    Add one-shot interrupt handlers.
    
    This allows us to temporarily override things like Ctrl-C to
    cleanly cancel a trace.

commit 8587d3d95e6e2d154c99384cfd7ece2de42d992b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 23 14:05:50 2018 -0700

    MEC: Disallow copying of TempObjects.
    
    Ensures the temporary GL objects are only deleted once.

commit 41fe0999f5318c62cd19383caa35a96e96b6f0c3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jul 20 12:34:02 2018 -0700

    MEC GLES support cube maps.
    
    Support reading back data for cube maps for non-renderable formats.

commit f9f5b9908eba199726213581f8b4decec0c78997
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jul 19 15:06:14 2018 -0700

    Refactor GLES MEC code for readability.

commit 4e541c191f4ff3e14361b92e831ecd791cb61c7a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jul 19 14:32:48 2018 -0700

    MEC GLES support 2D Texture Arrays.

commit 13c73edabd2d65485e6662e4e345e902f1876f2c
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jul 19 14:51:42 2018 -0400

    Use framebuffer extent in depth aspect copy, fixes #2071

commit 05d91116872eb5f8050f3bef7c17eea4566949b5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 17 15:05:33 2018 -0700

    GLES MEC: Support 3D textures.
    
    Adds support for 3D textures to GLES MEC for texture formats that
    are not renderable (renderable formats are already supported).
    Implementing by drawing a layer at a time via a draw quad and reading
    the pixels.

commit cc9361acfef278e21c4ae7b00be4c8cf71cbe7aa
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 17 17:44:14 2018 -0700

    Remove an errant `fmt.Println`.

commit a7730af3dbfec95ed0aa2b866a657e9fa17571ac
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 16 16:39:24 2018 -0700

    Remove the "X11 open display :0" work around.
    
    The tests now are run in a way that they can read the `$DISPLAY` env
    variable and so this work around is not necessary any more. It was also
    quite naive - i.e. my machine has the display on `:1` by default and
    attempting to open `:0` causes build spam (in apic).

commit e03713952c65274904f5366f033248b3e1182875
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 16 16:37:39 2018 -0700

    Silence the unzip message when extracting from .apks.

commit 834debaaed20313e4bd1c0154da66b62e5eca782
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 16 16:37:21 2018 -0700

    Silence a log message in stinggen.

commit bca43f3843ce421f906d8a7327fef21e250b929e
Author: Aliya Pazylbekova <aliyap@google.com>
Date:   Tue Jul 10 17:38:04 2018 -0400

    Add ability to replace all resources of a type
    
    Currently only works for shaders
    UpdateResourceBinary should read the resource data from
    standard input and output the modified resource data to
    standard output.
    Also modifying replace_resource to consume spir-v
    disassembly to replace a single shader for consistency

commit 4fdffef5b750ed9a03350ff58af45029b8e4fb67
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 12 17:23:43 2018 +0100

    Add gapi/bapi package
    
    This package exposes functions for serializing and deserializing resolved APIs.
    
    It currently does not store any mapping metadata (CST<->AST<->ST). This
    will be done as a followup CL.

commit af88bf55e8e4e12043a81e4f309ca1a3b4499328
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 12 17:32:26 2018 +0100

    gapil: Change the parser and resolver to emit nil for 0 length slices
    
    There was inconsistency between empty slices being 0 length or nil.
    Standardize on nil as this is what proto uses.

commit 6fe9ea3b4ac49eca9f688bbb0f05aef85ab334ff
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 12 17:23:27 2018 +0100

    core/text/parse/cst: Remove pointless custom comparators

commit 5da44dbddc820285c1973d3f69d088ee11aae1cd
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 12 17:22:09 2018 +0100

    core/data/compare: Use black magic to compare hidden fields
    
    Nasty hack, but this:
    
    1. Lets you see differences in hidden fields without having to register a custom comparator for the struct.
    2. Fixes the issue of false-positives on a struct with hidden fields, when one its downstream nodes fails `reflect.DeepEqual` but passes a custom registered comparator.
    3. Is faster as we no longer compare everything again using `reflect.DeepEqual` on structs with hidden fields.

commit e68026efb653f5430cf7584e35b06518d981a3f8
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 12 17:15:24 2018 +0100

    gapil/semantic: Change Abort.Statement type from Node to Statement
    
    ... it is a statement afterall

commit fdd34e2fbedcc6d53fb1fb51d8521fc6dbc0a004
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 12 17:08:33 2018 +0100

    gapil/semantic: Add SortMembers() method on Owner type
    
    Members need to have consistent ordering for comparisons used in tests.

commit 9cb1125ffbca9175432f6cc7c1d2172f4b59cbe5
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 12 17:07:18 2018 +0100

    gapis/api: Declare filegroups for the API files
    
    These make ideal test data for the new binary API serialization library.

commit 03a2eae6f33eba3cf073fc9abda8e65545ae5c14
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 18:50:26 2018 +0100

    gapil/compiler/plugins/replay: Implement more replay payload generation.
    
    This plugin can now emit the opcodes as expected by the `gapis/api/test` tests.
    
    Still missing constant buffer functionality not currently covered by tests.

commit fd4f4a09e1002612e195294382e71ee205405fd4
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 18:35:57 2018 +0100

    gapil/runtime: Add callback to store data into the database

commit e5f380b9b31ae5275abfe7c97d00ea9c9d2a07c5
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 17:18:17 2018 +0100

    gapil/resolver: Restrict permitted types used for command parameters

commit 07cdbc30368eb75945eb83d2107417012ce9a2f9
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 16:42:23 2018 +0100

    gapil/runtime/cc: Move cloner logic to subdirectory.
    
    This isn't core runtime - it's enabled through the cloner plugin.
    Move it to a subdirectory to match the compiler/plugins structure.

commit 921c31371015d860e4b3d52f7fa20685fb985679
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 16:36:50 2018 +0100

    gapil/runtime/cc: Add buffer.inc
    
    This is a friendlier C++ interface to compiler buffers.

commit 63bb16ed4a7c16ffb402cf93d4e6e35abcc55af0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 16:34:13 2018 +0100

    gapil/runtime/cc: Add create / destroy / append buffer functions
    
    These are also implemented by the compiler itself so they can be inlined.

commit 10c403cfe8d0126ae1761871ff6203d1604b336d
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 16:17:44 2018 +0100

    Remove gapis/replay/protocol/payload.go
    
    This isn't used any more - it's now declared in
     `gapir/replay_service/service.proto`

commit baf5432975833fa62ebc364e095d3b030ab761f5
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 16:15:54 2018 +0100

    gapis/replay/opcode: Add String() methods for all opcodes
    
    Helps readability in tests

commit 0bb492ad86319b0e771940cf1add779a03df6d8d
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 16:13:58 2018 +0100

    core/cc: Extract core::Range(), add CustomIntervalList::index_of()

commit 59b3b3cb243b7707667d29f5321d50170c16b4a0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 16:12:00 2018 +0100

    gapir/cc: Move VM types and enums out to gapir/replay_service
    
    These are to be used by the new replay compiler plugin.

commit 6e2414a43fd1b5ca19ad26efdc7d06b1a46bbd43
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jul 16 18:52:03 2018 -0400

    Vulkan: Fix a DCE bug with vkCreateBufferView (#2065)
    
    This fixes a crash when replaying Vulkan applications with DCE on.

commit 915d57380edaf8af0362383a99254681ebeb9a50
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jul 16 10:21:43 2018 -0400

    Vulkan: Reduce the num of cmds for state rebuilding again (#2056)
    
    This CL reduce the number of state rebuild commands of a typical Vulkan
    application by 70%, and save the `gapit report` time by ~8%.
    
    1) Do not recover the commands in submitted one-time-submit command
    buffers.
    
    2) Call vkAllocateDescriptorSets for each descriptor pool, instead of
    each descriptor set.
    
    3) For scratch tasks, when binding and filling the scratch buffers, call
    vkMapMemory, vkFlushMappedMemoryRanges and vkUnmapMemory only once for
    the whole task, instead of once for each scratch buffer.

commit ef0b90b1e8d399cf6119f609a083a92726b201f9
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jul 13 15:52:10 2018 -0400

    Don't use tabs for spacing and print missing keys

commit 9603c21f919dbb13d89d604a4cdffcf9e02bfcd2
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jul 13 15:36:45 2018 -0400

    Fix review comments

commit ba17885da69e1eeaf3c4274d3d671f7a97e59a41
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jul 13 15:04:45 2018 -0400

    core/assert map support

commit ff9627a06ef9a8793e4d46266fc20af0fcacafa7
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 17:02:47 2018 +0100

    kokoro/presubmit: Also check gofmt

commit c0c3f4725ce7289a1f03334d71d0aa1b28ced35d
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 17:04:36 2018 +0100

    Gofmt all .go files

commit ae9205b80f10531ebe4881077b0bbff07822b283
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 13 12:48:15 2018 +0100

    kokoro/presubmit: Add a dot argument to find
    
    Without it, on my mac I get:
    
    ```
    Running check clang-format... find: illegal option -- n
    usage: find [-H | -L | -P] [-EXdsx] [-f path] path ... [expression]
           find [-H | -L | -P] [-EXdsx] -f path [path ...] [expression]
    ```

commit c8464bd2d674ac92ca6f171724091eed6d657309
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 21 13:23:25 2018 +0000

    Remove bypassLocal params to xxxGetProcAddress

commit ac671d460a67efb44933d966836ef5ca51b908e5
Author: Jay Conrod <jayconrod@google.com>
Date:   Thu Jul 12 13:52:26 2018 -0400

    gazelle: move prefix from rule to directive
    
    The attributes passed to the gazelle rule are translated into command
    line arguments, which may be replaced if additional arguments are
    given on the command line. It's better to set options like "prefix" in
    directives (special comments in build files) so that Gazelle will
    always see them.
    
    Fixes #2054

commit ce2078263d274ee40562eb19cee931b300d15af9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jul 12 16:28:25 2018 -0700

    Kokoro presubmit configs.

commit 53cb4fde3ca5d19e28ff1bae72c5c1b86afbea47
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 20 11:27:47 2018 -0700

    Presubmit scripts.
    
    `kokoro/presubmit/build.sh` to be used by Kokoro to run the checks.
    `kokoro/presubmit/presubmit.sh` can be run in a clean workspace to
    as presubmit checks.

commit 9c4951fca60a66e31f978cedc32f9895a50ab69b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jul 12 16:21:40 2018 -0700

    Rerun gazelle.

commit b8838b3235e3de4a4119d89854550a81de83033e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 19 21:01:17 2018 -0700

    Run buildifier.

commit d85513d32c23c0a8b3bd80492cc0b3f095f5b829
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 19 15:34:52 2018 -0700

    Run clang-format.

commit 070c72ae679809774fc952fba6844be23216f365
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jul 12 15:58:34 2018 -0700

    Fix build error introduced by f973691d.

commit 335f340edf03ca9296de7e9f31e300d64f14265c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 12 08:13:48 2018 +0100

    gapil/compiler/plugins/encoder: Minor simplification.
    
    There's no need for the `LocalInit`s here - they were only there to keep SSA for an if statement.
    That if statement has since been removed.

commit 37742b1997a6c52fc94139a44b5c17be9bbe50a4
Author: Aliya Pazylbekova <aliyap@google.com>
Date:   Wed Jul 4 12:54:47 2018 -0400

    Add copts for local_jdk include files
    
    When building as a child repo bazel adds "external/gapid"
    prefix to strip_include_prefix. In order to avoid that,
    use copts instead.

commit 2268a1fc15e60480aa477b3d5098b52b1c53461e
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jul 4 10:53:19 2018 -0400

    Implement draw calls per frame for gapit stats

commit a3cf82d38cfec5d2b5c01b16d57e40f9c69cfa3b
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jul 4 10:49:04 2018 -0400

    Create path.Stats endpoint and implement draw call stats
    
    For Vulkan, it creates a dependency graph for the synchronization
    primitives and uses that to determine which draw calls are complete.
    For other APIs it just assumes that all commands are blocking and
    executed in order.

commit f973691d3c0bccc54ca3428327765141ed985cea
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 11 14:47:57 2018 -0400

    Small fix to state serializer.
    
    Clean up after we are done with state serialziation. We were leaving
    our buffers around, but we shouldn't do that.

commit fe1c0302e1613860f98ebaeddae77e81e6df699a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 11 16:45:20 2018 +0100

    Remove AST -> CST mappings from core/text/parse/cst
    
    Having this here was odd - `parse` and `cst` only deals with CSTs, yet it had AST -> CST mappings.
    Reworked the `core/text/parse` package so that the parser isn't returned in the callbacks - this encourages the user to hold parse state in closures, which is now where the AST<->CST mapping is held.

commit af4cb5e83c5bb533156f3b1ec6aa1f6558fe97c1
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 11 13:54:51 2018 +0100

    core/text/parse: Move CST types out to a subpackage
    
    This separates out the parse output types from the parser itself. This mirrors how the gapil parse/ast and resolve/semantic packages are structured.

commit 3dca33c4c9e619f0e3b879ff0e47e8a3535112e4
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 11 11:37:50 2018 +0100

    Move gapil/resolver.Mappings to gapil/semantic

commit e7e38b59b7026fe26ad02ad94acac3ba89663e1f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jul 11 16:26:01 2018 -0700

    Fix encoding of slices.
    
    In 8fe0726f, the meaning of a slice's base and root have changed. They
    are now offsets from the pool's base. Fix the serialization code to no
    longer attempt to adjust the slice's root and base, since they no longer
    are absolute addresses.
    
    Fixes #2051

commit 777df1265d7a0de8670359f21d00ea2c2eb7f920
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 16:27:52 2018 +0100

    gapil/compiler: Add OnPreBuildContext() method to ContextDataPlugin.
    
    This can be used to build any additional types that are returned by `ContextData()`.

commit f3c8e195f6feabd598d8eeb34677b0611ea19299
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 16:15:29 2018 +0100

    gapil/compiler: Split types by memory and storage.
    
    Capture types are kinds of `StorageTypes`, as will be replay types.
    
    Move all the storage type logic out of `types.go` and into a new `storagetypes.go` file.
    
    Clean up the function signatures for getting size, alignment, etc.

commit ad63d6d008ba5f627db2b6057a95bb4da96ba9d9
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 16:11:30 2018 +0100

    gapil/compiler: Add OnReadListener and OnWriteListener interfaces
    
    These can be implemented by plugins to codegen on memory accesses.

commit 4c9349febbc72f79633953f46402e492fef0c8d0
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 16:06:38 2018 +0100

    gapil/compiler: Split buffer function gen into two passes.
    
    Let's the plugins reference them before they're fully implemented.
    
    Also link these as private. We do not intend to have these called outside of the compiler.

commit 7ab4ac3f16cf588e9753bd4a28c12b6c3e125b93
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 16:00:27 2018 +0100

    gapil/compiler: Call the OnFence method for fenced copies

commit 86ef5e3ea4e2f4923861255d6febf8a741006e26
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 15:51:49 2018 +0100

    gapil/compiler: Store a stack of statements and expressions.
    
    Let's plugins inspect the current statement / expressions that are being built.

commit d1a419fe2c248b61bccc6442d309da00676886bb
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 15:57:14 2018 +0100

    gapil/semantic: Change Fence.Statement type from Node to Statement
    
    There was no good reason for it being a `Node`.

commit 5b39406af463ba5008f3027fece8f140424d2f0c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 15:47:16 2018 +0100

    gapil/compiler: Refactor castTargetToCapture and castCaptureToTarget
    
    Fix a golint issue, correct a bad error message.

commit 9efec3af2adc25e4afb390175f18b3bf212f25ae
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 15:42:32 2018 +0100

    gapil/compiler: Always put the *S parameter first

commit 89ca0a4ce270ef938594ab30f5d5b641d8dc034e
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 15:39:23 2018 +0100

    gapil/compiler: Rename 'Storage' to 'Capture'
    
    'Storage' doesn't indicate whether we're dealing with capture data or replay data.

commit 6f5927fc8653597b42bec1b4edfc9070878cf8bf
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 14:26:46 2018 +0100

    Rename gapil/compiler/type.go to types.go

commit 8fe0726f47054fbb8f3617e5e6a9af63df5d45ee
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 14:21:12 2018 +0100

    gapil/compiler: Change slice base and root from pointers to offsets
    
    Added `gapil_pool_data_resolver` which is called whenever a slice's memory needs to be accessed. This function takes a new access enumerator, which can let the underlying system decide how to deal with the buffers.
    
    By keeping these as offsets on a pool, we can also more easily track memory for replay generation.

commit 5a7c8036422501a2443e7f34b517447b02850b1e
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jul 11 15:54:56 2018 -0400

    Vulkan: State rebuilding optimization reduce the number of commands (#2044)
    
    * WIP: Vulkan: State rebuilding optimization reduce the number of commands
    
    This CL does:
    
    1) Batch buffer->image copy commands, defer the command submission until
    a scratch memory is full. This reduces the number of
    VkCommandBufferBegin/End, VkQueueSubmit, VkQueueWaitIdle calls.
    
    2) Batch the commands for 'priming by rendering' in the similar way.
    
    3) Track image last bound queue at 'ImageLevel' level.
    
    For now, on a typical Vulkan app, this reduce 30% of the initial
    commands. For `gapit report`, saves ~10% of time.

commit 49ecaae0811074dcc865b8e29d79933296125b95
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jul 11 11:25:45 2018 -0400

    Vulkan: Fix the crash during tracing vkCmdFillBuffer (#2048)
    
    Fix #2047

commit 3226e9f5a247e2ba0425b901198e12cc694eca16
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 10 15:27:15 2018 -0700

    Fix the build on OSX.
    
    Remove the `--strip always` option from the symbols config. This
    isn't needed since `-c opt` doesn't strip anyways and we are not
    dumping go symbols.
    
    This is a work around for an issue in rules_go
    (https://github.com/bazelbuild/rules_go/issues/1591).
    
    Fixes #2045

commit 414cfb90b18bb6eb1c1bb42aa4381355db7d2514
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 13:03:14 2018 +0100

    core/codegen: Change FunctionType.String() to be readable
    
    The LLVM output is super spammy.

commit 872a86fb4f3a809d40308f77671be0b8c7e817f2
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 13:02:16 2018 +0100

    code/codegen: Parse 'char' types in function signatures.

commit a5856f42f2547532826bc067d67ca521f806fef3
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 13:01:45 2018 +0100

    core/codegen: Display a helpful error when passing nil call arguments

commit a7d1aa00581e894827a01ddc5d9f2e2b334e140c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 13:00:50 2018 +0100

    code/codegen: Add Alias types.
    
    These act like Go `type` aliases, in that they create a new distinct type.

commit ba82827ab7ec58a95c2ace59f60733e6c92ddc9d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 12:54:44 2018 +0100

    core/codegen: Add Enum types.
    
    These lower to `int`, but can be named.

commit dce8e1ed838b6fde4ef5f7915ad4b235042ec805
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jul 9 17:54:10 2018 -0400

    Use proto.Equal instead of reflect.DeepEqual for device memory layout (#2043)
    
    As we updated the protobuf, this should be updated too.
    reflect.DeepEqual() does not work correctly.

commit 8b0e6fcd0b83563959aec6f7dcb26ced74e150af
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jul 5 15:43:51 2018 -0400

    Add color attachment option to screenshot

commit e43b2c5b8ee80ac346e5cdad11f25304d4bcf822
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jul 6 10:43:29 2018 -0400

    Remove replay.DrawMode in favour of service.DrawMode

commit 95b51193fb2fa25374ddd0b04f2e0957d4581387
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jul 9 09:40:03 2018 -0400

    Vulkan: Fix Crashes caused by not using NewXXX ctor (#2041)
    
    * Vulkan: Fix Crashes caused by not using NewXXX ctor
    
    Fix crash when rebuilding command buffer commands.

commit 6c8e614ce341dcbefcb1f005157294957a502a12
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 3 15:07:03 2018 -0700

    All go tests should be in a *_test package.
    
    rules_go/gazelle no longer seem to support private tests.

commit 826f43c65debf287c0f5dd3fb150c329ea48fa16
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 22 15:07:46 2018 -0700

    Update the `tests` target.
    
     - `go_default_xtest` -> `go_default_test`.
     - Add missing tests.

commit aa0889634d7b86d6f132c1aaaaa55c9a1263b720
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 22 14:43:09 2018 -0700

    Run gazelle.

commit 80b8f0863fe9ae3cd626d1c2ab001e70d1d615a4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 21 17:29:10 2018 -0700

    Update rules_go and gazelle to latest.
    
    This is to get a fix to rules_go's pack step, which had a race
    condition on Windows, causing flaky builds.

commit 167fad30be7c50929fd9ac86097f82017755ca32
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 3 15:39:46 2018 -0700

    Update to a new version of go protobuf.
    
    This is the same version that rules_go uses at HEAD. At rules_go HEAD,
    we will no longer be able to override the golang protobuf version used,
    and so will need to rely on rules_go's version.
    This may be fixed with https://github.com/bazelbuild/rules_go/issues/1548.

commit 47b14d7260c869e5096ac5baa4548e6f9ca0b98e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 3 15:37:43 2018 -0700

    Don't use protos as keys in maps.
    
    New versions of protobuf generate structs with a `[]byte` field and so
    can no longer be used as map keys.

commit af1bb19bceb867fd25dbad1693474a3f2c8ab83c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 3 15:35:18 2018 -0700

    Use `proto.Equal` to compare protos.
    
    New versions of protobuf generate structures with "internal" fields,
    which causes standard go comparision (both `==` and
    `reflect.DeepEqual`) to fail.

commit 9c06ab6397b9291d15455a0c6a0b88e7810fdd07
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 20 14:42:58 2018 -0700

    Use the field names when construction proto messages.
    
    New versions of protobuf generate structs with additional "internal"
    fields, which requires the `name: value` syntax.

commit dfe46112948d7f07cefe4bc091a049a03274bc50
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 22 11:52:18 2018 -0700

    Use compare.DeepEqual for slices, instead of reflect.DeepEqual.

commit 133a03a3e6eea55fb6803787aaaa045d61de1476
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 22 11:50:54 2018 -0700

    Compare protos using proto.Equal in the compare package.
    
    Newer versions of the go protobuf generator add protobuf internal
    fields that break comparision, both using `==` and `reflect.DeepEqual`.

commit 5c105f03581c05f20129eef45a9e98b9440f7ab6
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 11:54:49 2018 +0100

    core/memory/arena: Fix reallocation of small buffers.
    
    Add tests.

commit f2bb54a228c7014c610e3d3282f356726625911c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 5 11:54:28 2018 +0100

    core/data/slice: Add Cast() function.
    
    This is full of voodoo and will likely break in future releases of Golang. However, I believe the performance efficiency and usage convenience may justify the magic here.

commit 944d5c975fb3bf563077d4b4a120ca905492dd44
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jul 5 14:39:02 2018 -0400

    Add warning for overdraw saturation

commit c5a3d02940dccc0ca33246626c211b4c026f28d8
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jun 27 18:34:21 2018 -0400

    Fix overdraw validation issues

commit 81bfec54e9a2ad66173fe9603c7dddb02be38e4f
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jun 26 10:42:29 2018 -0400

    Refactor overdraw add

commit c05f70d5754bef5ad0475c31ed78f14dfba9be2e
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jun 21 15:54:19 2018 -0400

    Add support for passing a subcommand index to overdraw

commit 0990ae6726907456d9a268a1ac8fe5bc72222a33
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jun 21 14:29:42 2018 -0400

    Make sure overdraw respects depth load/storeOp

commit f799ba900cee839d02e05ca7259655752ebac983
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jun 20 18:13:25 2018 -0400

    Fix infinite loop

commit 980e08f918cc94b6e95eea011d6a454fbfa13568
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jun 20 15:32:02 2018 -0400

    Fix some review comments

commit 4bf41af14e3ef79e839591262cc99157fae70026
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jun 20 14:23:36 2018 -0400

    Small changes to submit selection/attachment processing

commit b6c589ddcbf65c394e02dfc4ca8e3afe78e3ef83
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jun 19 17:52:03 2018 -0400

    Fix review comments and add checks around map lookups

commit 66387c5898567361ad8ffc18638243840d78c949
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jun 19 11:25:25 2018 -0400

    Add overdraw options to gapit screenshot to display results

commit 35a49d7e594714c8dfc4e878c17d671dcde00a09
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jun 19 13:55:49 2018 -0400

    Support secondary command buffers

commit a7cf5df87ad17c55782ceb456c77e80ba2151f7f
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jun 19 10:29:40 2018 -0400

    Support pre-existing depth buffers

commit 55efa5ab9b7524aeb5b5e1c91d70db4e14fb3781
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jun 15 16:49:32 2018 -0400

    Add overdraw option for vulkan replay

commit 2181a33fea8edb90d35da553c9cf5fff84d8d643
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jun 15 16:42:12 2018 -0400

    Add overdraw transformer for replay
    
    - Doesn't yet handle pre-existing depth/stencil attachments

commit 42cd294407a4c71b52ba92c5ac6c5179ae6c741b
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jun 15 16:13:37 2018 -0400

    Change WireframeMode to DrawMode to allow other types of drawing

commit 509d46a36061728dacd4dc8169676d9f2f75a102
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jul 4 18:15:54 2018 -0400

    Vulkan: Fix the unit test failure due to nil query pool object (#2034)

commit 015842f5477aa24e45e4d5f735a8ee2ad43ae918
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 3 20:26:46 2018 +0100

    Workaround #2027
    
    If `getResourcePackageName` throws a `Resources.NotFoundException` in `filename()` return `null`.
    
    Change the interface documentation of `FileCache.Builder` to allow for `null` return values, so that these are not cached.

commit 59e8d57519bce615f14447a3d8464bf89f21e983
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jul 3 20:21:52 2018 -0400

    Vulkan: Improve the queue selection logic during state rebuilding (#2028)
    
    Make sure queue family properties are cached in the state
    
    Prepare for command buffer/command pool usage optimization

commit 07b0cae3d727594aac4df268a10c9c12279a2c69
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jul 3 10:15:42 2018 -0400

    Document config option for mapping logger

commit 1f19dd88772a123f9bac22557a5156d7c4df2203
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jun 28 14:52:27 2018 -0400

    Create transformer that dumps handle mappings to file
    
    It dumps the mapping from the handles in the original trace to the
    handles used in the replay.  Useful for debugging replays with
    validation layers as they print the new handles, not the original ones.
    
    Writes to "mappings.txt" and looks like:
    
    ```
    <...>
    VkPipelineLayout(230575652): 140240292132736
    VkQueue(140256319542576): 140240287537760
    VkRenderPass(140256326180576): 140240310809728
    VkRenderPass(1632168291): 140240292132224
    VkRenderPass(2945999679): 140240291907504
    VkSampler(140256326179936): 140240310823840
    VkSemaphore(140256326176336): 140240283299536
    <...>
    ```
    
    Doesn't work for GLES at the moment because GLES uses extra data in
    their remapping keys making it hard to determine what the right size to
    read is.

commit b1623ee7b11df536704ad854ce9dc6f3f03f4145
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 19 09:32:32 2018 -0700

    Reduce the rim lighting a bit.

commit 7cb3661d352abc6a4c9fa4fe249e80e6aec12470
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 29 13:02:13 2018 -0700

    Use the system's DISPLAY env variable for tests.
    
    On linux the correct value for the $DISPLAY is required to open
    the X display to initialize the GL context. On systems, where the
    value is not `:0`, the tests currently fail.

commit ecaf48cfded12e02f576145699e6291fac844b6c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 28 21:27:22 2018 -0700

    Rebuild programs with shader source from their link state.
    
    Use the shaders and their source as they were when the program was
    linked, not using the program state on serialization. Shaders can be
    detached, have their source change, and even deleted, while the program
    that they were used to link stays unaffected.

commit 898d78493dd18d5b0903e924a6eb599915311f0a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 28 11:55:56 2018 -0700

    Show a warning when doing MEC for GLES.

commit 1c6b106cc25dc6f14098a7c39c7bd826a067b226
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 12 15:10:03 2018 -0700

    Read the GPU data back for GLES MEC.
    
    Introduces mechanisms to read back data for renderbuffers and textures
    from the GPU for MEC.

commit 1abe0292b0b4c00e1e023f825dd3867cf946ae1d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 2 09:45:15 2018 -0700

    Enable MEC for GLES in the UI.

commit a610f65071d9b3d25a30cd4ebfc693297232c72e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 12 15:09:59 2018 -0700

    Fixes to extras for MEC:
    
     - Don't put references into the extras in MEC state rebuilding.
     - Clone extras before using them in the new state.
     - Handle null context extras.

commit 116b3ad217a6b17b8b32ed301c890885c690a799
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 12 15:09:56 2018 -0700

    Don't recreate destroyed contexts.

commit 9e483adb993f1c01759c4b970de41d317046eb67
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 12 15:09:53 2018 -0700

    Ignore eglGetError calls while recording state.
    
    Android drivers love to call eglGetError from within other egl*
    functions.

commit adb9076865eb5dc909de127c5c737df6ae328ce7
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Jun 28 15:07:49 2018 -0400

    Vulkan: Fix Device Lost error due to using wrong queue for querypools (#2022)
    
    When rebuilding state, using a wrong queue to recreate query pools and their states may result into device lost error and crash or hang the whole replay. This CL makes the rebuilding logic uses the correct queue.

commit c421b96e9455dfd9833167dcc67ecb65f0fd8888
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Jun 28 11:15:15 2018 -0400

    Vulkan: Allocation optimization for byte slice during state rebuilding (#2017)
    
    Vulkan: Allocation optimization for byte slice during state rebuilding. This **probably** saves 200MB+ on GAPIS for replaying a trace from a typical Vulkan application.

commit eb846653e28fe2439e871514792647cee12f34c7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 27 10:50:57 2018 +0100

    gapil/compiler: Fix tests to use True() and False() subroutines.
    
    These were declared, but not used.
    Makes no differene to the test result, but should prevent any aggressive constant folding / DCE trickery.

commit 21f540064634b12b1571f84687c88ab3d9602c9e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 27 10:50:57 2018 +0100

    gapil/compiler: Handle short-circuit expressions
    
    Bug: #2018

commit f0b1387a5b33bfc0b20120b0ccba87e02645e57c
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 27 10:45:28 2018 +0100

    gapil/resolver: Add Options to control ExtractCalls & RemoveDeadCode
    
    ExtractCalls breaks short-circuiting, and RemoveDeadCode is already handled by LLVM.
    
    These are both enabled for template generation, which makes this a no-op change for runtime.
    
    Bug: #2018

commit 5a2d0b5121271a3d5b5c3683e71c3a283ab67f00
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed Jun 27 15:43:35 2018 -0400

    Make associativity explicit for copy_clear_commands

commit aa82473fe2105ea3cbf4a7a7f120ca1bdc385cb7
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jun 26 11:10:19 2018 -0400

    Fix gapidapk ABI/abi field name mismatch

commit 2929922e28d1bb0e86f2f4d8e5efe4cc5eb213e7
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 21 15:53:42 2018 +0100

    gapil/compiler/plugins/cloner: Various changes
    
    * Fix duplicate function names. This is the same method for deduplication as used by maps and release / reference functions.
    
    * Add the clone tracker parameter to all public `clone` functions. These trackers need to be passed down from Go for cloning a struct type and the state block.

commit ef25974469208fe4603ec0a9f0d0b3b963ea2be1
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 20 17:10:32 2018 +0100

    Make compiler.delegate public
    
    Useful for plugins

commit af6a3d1964e52458dd20f85ebe9a3d8fbd655808
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 21 15:55:24 2018 +0100

    gapis/api/test: Refactor the test code
    
    This is equivalent to the existing test code, but also works with the upcoming changes to move us to the compiler types.

commit 2b87456e34d128be74049ab1cab8e0f7cc1cfb46
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 21 15:30:59 2018 +0100

    core/data/generic: Add placeholder types: TO and TP.
    
    `TO` is a placeholder type that represents the type that is being checked for interface compliance (`ty` parameter to `Implements`).
    
    `TP` is a placeholder type that represents a pointer to the type that is being checked for interface compliance.

commit e2708840c55c51d9d6d8562353dfd38959651392
Author: Qining <lqn.anthony@gmail.com>
Date:   Sat Jun 23 21:22:39 2018 -0400

    Add support to BC4 and BC5 format (#2013)

commit 77af5dfff705575e80fe072f40ae2949916b4d3c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 14 14:51:15 2018 -0700

    Remove unused loads.

commit 0c79be1230ee7c301ddad237b6fa91398d91f4bd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 14 14:24:38 2018 -0700

    Remove the bad and unused "filter" rule.

commit b373698afdce617c925ffa2a7453584b6c848cef
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 14 14:19:46 2018 -0700

    Fix gapic's runfiles parsing for the string table.
    
    The strings field is the directory containing the string table.

commit daeffcdae568d32a0bea8f5ee7caa2096175e7a1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 14 14:19:02 2018 -0700

    Get the string table to show up in the runfiles.

commit fe10c099df16023199265626ff7e630e76a4575d
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jun 22 11:10:38 2018 -0400

    Fix a bug in current DCE (#2012)
    
    For vkCmdWaitForEvent, the 'read' to the event handle and signals should
    be carried out no matter whether there are memory barriers

commit d90b5fc7cd7ad8f871037fe6bbb131d453defc02
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 20 17:02:09 2018 +0100

    Rerun gazelle

commit 14145ef6e080bdfe6aed07aef1050dddc219c149
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 20 17:01:56 2018 +0100

    Fix tests that got broken in #1995

commit 4cc41df62d897032419d83263f0d8879d32d66ef
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 18 16:32:19 2018 +0100

    Another clang-format

commit 62464bb55ad963ba1f972322c52f74b8cc8ea2d6
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 20 10:01:16 2018 -0400

    Fix the build failure due to proto format (#2004)

commit dcec0eedf99125f97dbf5995ef4f1fbf94af5ccf
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 20 09:44:32 2018 -0400

    Lazily resolve Vulkan commands (actually all indirect commands) (#1990)
    
    * Lazily resolve Vulkan commands
    
    This is probably the 'minimum changes' approach. It uses lambda
    functions, which will take a copy of the handles used for command resolving.

commit e5b2d6b0f03df944d1b85f74f0d895d0e595b506
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 20 09:42:23 2018 -0400

    Vulkan: Fix crash at VkDestroyDebugReportCallbackEXT (#1998)
    
    If the application uses debug report callback, we should not use our
    synthetic commands to process their callback handles.

commit ea00362a2063281ac8e8db0bcee04027f7626a44
Author: Sean Purcell <scppurcell@google.com>
Date:   Mon Jun 18 17:50:02 2018 -0400

    Add footprint data for ReplayAllocateImageMemory

commit e0623fb846f94d24e59489fb4e231e61d665056a
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue Jun 19 12:51:30 2018 -0400

    Fix type assertion breaking secondary command buffers

commit 1077321bb27f3046c78df31a272be44369e4d1cd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 15:26:49 2018 -0700

    clang-format all proto files.
    
    `find . -name "*.proto" -exec clang-format -i -style Google {} \;`

commit 5543ccc0ddfb73badb299da039fa3371f5023511
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 16:50:41 2018 -0700

    Stylize pkginfo.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit d5bb00805c4e55a5e31696ce2b078ba94b4f6f1c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 16:44:18 2018 -0700

    Stylize capture.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit f39bdbaa425684458a1fa246d02e35f51cd509e6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 16:31:44 2018 -0700

    Stylize memory.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit af8786033db5ee1f64ba7d985a7c99a8bbd332ef
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 16:24:59 2018 -0700

    Stylize path.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit 606fd8c1a1ae4372a8b1dff070663b278ab02a1f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 16:01:54 2018 -0700

    Stylize service.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit 644e1dac7a0e413055007c50c86862c7a47d9e90
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 15:54:12 2018 -0700

    Stylize gles/extras.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit 6699d3895f4acfe93f9e3bf930581e9782e97a33
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 15:52:01 2018 -0700

    Stylize api/service.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit 418432ae56bc5cd738da2b8a51bf383f3fd70ba3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 15:47:24 2018 -0700

    Stylize gfxtrace.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit 251a9e41c015779987a3f7a2c9b1d7b7b23ad80f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 15:45:49 2018 -0700

    Stylize resolvables.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit dbf009dc7329f052ab4ce45d7d74c958c49812bc
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 15:43:24 2018 -0700

    Stylize replay_service/service.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit 52f5fe72dfdf2ee8df0e748f68b6282e57939545
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 15:26:49 2018 -0700

    Stylize device.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit 6dafd3cc7e6c4d9692673a0815e40383e93cb40e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 14:40:10 2018 -0700

    Stylize apk.proto.
    
    Make all fields lowercase and '_' separated (except for
    abbreviates for go).

commit fb336c7c0c18d8b3f59ae2c37b81c31847239c1b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 18 12:23:42 2018 -0700

    Work around a protobuf/libc incompatability.
    
    Fields named "major" and "minor" will cause problems in the future.
    See https://github.com/google/protobuf/issues/4654.

commit 90c9c60e071b6ff64fb1c1e890843fbbe22bd4e2
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 19 11:31:13 2018 +0100

    gapis/api/gles: Expose GLES devices as a WIP replay target

commit 6dc5b81dba361859b7425752acc20fef1ec6c211
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 3 20:41:37 2018 -0700

    gles: First changes for GLES on device replay
    
    * Don‚Äôt try converting shader source if replaying on a GLES device.
    * Read from GL_BACK on GLES devices (GL_FRONT) is not accepted.
    * Read back framebuffers using accepted formats, and convert.
    
    Reading depth / stencil buffers does not currently work.
    More complex GLES apps can crash GAPIR.

commit d24359cbb75c0f0d675ac3b3f58a6fa80cbcb00d
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jun 18 17:06:34 2018 -0400

    Vulkan: Fix missing fetches of physical device properties (#1997)
    
    When mutating for replay, the new physical device enumeration commands
    does not fetch the properties, this results into failure when using the
    physical device object later

commit 789339cab83eef42b870e09e8aac858054658671
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 14 15:39:58 2018 -0700

    If run via 'bazel run', use the shell's CWD, not bazel's.

commit 08332b43ea17eee8dab8220db776a4071348b8fe
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 18 13:06:56 2018 +0100

    Clang format all C / C++ / ObjC
    
    `find -iname "*.h" -o -iname "*.cpp" -o -iname "*.mm" | xargs clang-format -i -style=Google`
    
    I've done a spinkling of `clang-format off` statements around things it really messed up.

commit 0eff820aa06aaca46f2f5797aa5873a3b150000d
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jun 18 09:58:44 2018 -0400

    Vulkan: Fix the errors reported by validation layers about using virtual swapchain layer (#1988)
    
    * Vulkan: Fix the errors reported by validation layers about using virtual swapchain layer
    
    * Remove the virtual swapchain struct type def in api file

commit 4cca64e07d19be196479b1d260f3a450e3f6ed84
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 15 23:36:44 2018 +0100

    core/codegen: Error if a function is redeclared.
    
    This was never an error as LLVM would append numbers to the end of the function name making these unique. In reality, duplicated functions is probably unintended, so make it an error.

commit dfadb62337b0fba766d6ee6f59d61ef75823213a
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 15 23:34:55 2018 +0100

    gapil/compiler: Jump through some hoops to ensure functions are only defined once.
    
    There are a number of methods on types where the sermantic and codegen types are unique, yet when lowered, produce the same function with the same signature. This results in multiple functions getting the same mangled name.
    
    Not only is this inefficent (we're producing more code than we need to), there's something funky going on with COMDAT being ignored with these duplicated functions, causing spurious build failures on windows.
    
    Ensure that functions are only built once for a given mangled name.

commit bcd5173db9d1aa061f7acefbacea156acee9f41b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 15 23:19:45 2018 +0100

    core/codegen: Use fail instead of panic
    
    `fail` can be caught and may provide additional info in the future.

commit 4cc505f5fe48c50752b41ad154abe65eb91f94fb
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 15 23:11:27 2018 +0100

    core/codegen: Error if a function is built more than once

commit fd4bd5bc0eeda982d72661a64f35676a2a802fa0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 15 23:03:11 2018 +0100

    gapi/executor: Mark the go implemented function prototypes as extern
    
    Fixes a linker error on windows.

commit 9ec9839cd6d78f59af52079873f3d31693a78fc3
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 15 22:59:04 2018 +0100

    core/codegen: Pass Functions by pointer
    
    We'll be adding mutable fields in later CLs.

commit 8843460b3ddf96bcbd408b14c0654d2e9b7c64a9
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 15 22:51:21 2018 +0100

    core/codegen: Fix error message when printing bad call signature

commit 562c3cbdc970c53dc2b5c0736616a7c629175ae7
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jun 15 14:08:40 2018 -0400

    Make better use of tabwriter and move AspectType formatting to api

commit 38317fc0cc9fdc5824cbd6f4870425357c702941
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri Jun 15 13:19:21 2018 -0400

    Small fixes to memory breakdown
    
    Recommended changes by @ben-clayton in #1954
    - Change Metrics proto to not be oneof, and change path.Metrics to have
      a flag per type instead of an enum
    - Remove redudancy on flags ConstantSet index, and document better
    - Add aspectList type with Format method
    - Use text/tabwriter in cmd/gapit/memory

commit c578d8c9adf71ab843f9626370d99154abb9e6fa
Author: Sean Purcell <scppurcell@google.com>
Date:   Thu Jun 14 14:06:58 2018 -0400

    Add transformer that logs replay to capture file

commit e217e6b20d289944fd7a1e42e7ef8fbac77368e4
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 14 01:58:32 2018 +0100

    Treat all warnings as errors

commit 89a4514aad0a573c6b6df7d0f5e04fc684b4713e
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 14 09:38:38 2018 +0100

    Update glslang to fix a real warning

commit 3b865bacf4398e91eb1a628fc022a60a60e0e7d0
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 14 12:26:06 2018 +0100

    tools/build/third_party: Silence cityhash warnings

commit 411b80feda59b2c471a512b8e47ec04a6f1512d1
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 14 01:57:37 2018 +0100

    tools/build/third_party: Silence breakpad warnings

commit a58dbbdb9f2e9e07f7a38b312e67c18d85650ebe
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:52:19 2018 +0100

    tools/build/third_party: Silence glslang warnings

commit 4b144c5173bb8229ccce3d5a62a857195bf1e61b
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:51:24 2018 +0100

    tools/build/third_party: Silence LLVM warnings

commit 1631d059b5063d7b13a2fde620d88962c63897cb
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:50:22 2018 +0100

    gapis/api/templates: Silence warnings about crappy codegen

commit 68541b2e951c33032718ce8d130d89a9411f2aef
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:49:55 2018 +0100

    gapis/api/gvr: Fix warnings about illegal cdecl functions
    
    GVR has functions that cannot be represented in C.
    Remove the `extern "C"` scope around these.

commit 0edbb3c4fbca09112b76fb6070279448c3db2b85
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:49:05 2018 +0100

    vk_virtual_swapchain: Fix warnings caused by missing function attributes

commit c2a90063fcd0965fe2c3aa287414fde2df1fe85b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 14 15:36:14 2018 +0100

    core/cc: Fix warning about unused return value of posix_memalign

commit b73e9a668b1873bef956c6a6e093e4a0e6a53e02
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:48:23 2018 +0100

    core/cc: Fix warning about unused return value of ftruncate

commit dde177cb31387b69b9ff70aefeb89489dacb900c
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:48:02 2018 +0100

    core/cc: Fix type punning warning

commit 8764dc354f6555425729cca8097a1b5a661a058f
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 14 16:52:32 2018 +0100

    Fix warnings about alloca being redefined on windows
    
    Fix by just removing the includes, nothing uses `alloca` any more.

commit 78f58bdbe8ed9dd4f972e02de9aa37b31d590d0a
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 14 01:54:36 2018 +0100

    Fix warnings about std::move preventing copy elision

commit 0078493e89ec6041a01d85830cf7524667ef1364
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 14 01:56:44 2018 +0100

    Fix warnings about unused lambda captures

commit 66003bfabb2e987fb8438542c4a5c3316863a62c
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:42:20 2018 +0100

    Fix warnings about unused code

commit 260c770248bd0d62292b3ec8683053a0bc489d68
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:39:34 2018 +0100

    Fix warnings about printf arguments not being correct type

commit 36a5e88af85a0d305af348e0f71e5f2c0ee38e43
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:35:55 2018 +0100

    Fix warnings about member initialization orders

commit 49bfa635f5606dd9ea0d54e86c599d73226b06b2
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:32:09 2018 +0100

    Fix warnings about mixing signed and unsigned types

commit 7175028d3a21d17f4528ea12ef2abf9edf58eb09
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:27:33 2018 +0100

    cmd/gapir/cc: Remove call to deprecated app_dummy()

commit 3d10b245b27a031f7cae33457e27b2112f3fc9b5
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 22:26:55 2018 +0100

    core/cc: Remove the unused Encoder and NullEncoder.

commit dd630015c28f0ef28572f2b973d0425862bfb59f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 11 21:58:47 2018 -0700

    Create gapic GL contexts ourselves on Linux.

commit 68556f4069bf1cb3a23658f11006928082087a88
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 18:12:37 2018 +0100

    cmd/apic: Add --emit-replay flag to apic

commit 2816127889c12ae0504b9f6be8c232f54c1d2fc9
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 14:51:10 2018 +0100

    gapil/compiler/plugins: Start the replay plugin
    
    This is the work-in-progress replay generator plugin for the api compiler.

commit 6b92db6904d3711bdebf3d2625fb5b078a50e15a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 14:43:27 2018 +0100

    gapis/replay: Expose Opcode types
    
    gapis/replay/protocol: Change the op constants to actually use the `Opcode` type that's declared.
    gapis/replay/opcode: Add a `Opcode` interface to classify opcode types.
    Also make `PackAPIIndexFunctionID` public. The replay compiler plugin will use it.

commit 558e069ff6ed17710ef14c75038e2d42076087a8
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 14:38:07 2018 +0100

    gapil/semantic: Add API.CommandIndex method
    
    Use this for a stable command IDs without requiring magic knowledge only contained in templates.

commit 1dff11657ebda82b46720026893446786cf12054
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 13:31:11 2018 +0100

    gapil/executor: Add accessor for the c-context.

commit 0235b9080048a6bf64169f5c8d66d4dc512d43be
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 13:30:55 2018 +0100

    core/data/slice: Add Bytes() function.
    
    Returns a byte-slice from the given unsafe pointer and size.
    
    Replaced the private `byteSlice` function in executor with this.

commit e5c2d32e1ffda028d89cb4aa84d9bf954b2154dd
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 13:29:08 2018 +0100

    gapil/compiler: Add more plugin callbacks
    
    Add plugin callbacks for command begin, fence and end.
    Lets you injecting prelog, epilog and call logic.

commit f9b01c9863515eb164aea9e26b71a6a3f764e592
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 13:23:29 2018 +0100

    gapil/compiler: Add FunctionExposerPlugin interface
    
    This interface can be implemented by plugins that build new public functions.
    Added `FunctionAddress()` to the executor so these functions can be called.
    Made `Executor` public on the `Env` so that  `FunctionAddress()` can be accessed.

commit 76788174aa899157669c1686e46c459659f18251
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 13:18:13 2018 +0100

    gapil/compiler: Fix the ContextField interface

commit ae4e421bb078bf2496cbbcbd9f3e00e14a665f21
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 13:16:22 2018 +0100

    gapil/compiler: Reorder the passes.
    
    Plugins will gain the ability to add callbacks for command building, so plugins need to be initialized before the commands are built.

commit 76d3b37f1c26b1fdfd6aa577bcc8f90faec26999
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 13:13:54 2018 +0100

    gapil/compiler: Add cmd_id to the context.
    
    When generating a command call, we need the cmdID for the label.

commit 609424bde9f3fbe80e61a8cff95b82cac9c385aa
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 13:05:31 2018 +0100

    gapil/compiler: Move command arguments to the context
    
    When generating a command call, we need the command parameters.
    This call might be generated from within a subroutine.

commit dcfaa10675b82561f6546414a8884534b8f3a408
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 12:52:18 2018 +0100

    gapil/compiler: Make C.Parameter() public
    
    Useful for plugins.

commit fb8ceb994ec66eb8054f0a8088165cf9c1c6d61d
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 12:51:09 2018 +0100

    gapil/compiler: Place the context into the scope when initializing the context

commit 6945b43bdbd7f337ca72497d57d422afb5e269dc
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 12:49:33 2018 +0100

    gapil/compiler: Forward declare the context structure

commit 4f4dc7de964c3cb0311cc2309d608b6154d158ed
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 12:45:24 2018 +0100

    gapil/compiler: Make Settings public.
    
    The plugins may want to inspect this data.

commit 3c334a02c436b83ebf2e90b71a7cc39dd6c53cda
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 12:40:50 2018 +0100

    gapil/compiler: Add AppendBufferData
    
    Helper that writes a POD type to the buffer.

commit 83ec891fdaab4abe628a096c99fdc174fa4fafe0
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 12:40:13 2018 +0100

    core/codegen: Add support for indirect function calling.
    
    You can now take the address of a function, use it as a value, and call it.

commit bf6864f9bdfc8e18f30c6e7a435284e94e9f166c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 12 12:31:18 2018 +0100

    code/codegen: Use SExt when casting from sint -> uint.

commit d7243ca01043c89f7d96db0030ef86a341fcb097
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 12:22:21 2018 +0100

    gapil/compiler: Use reflection magic for plugins.Foreach
    
    Simplifies the common case where you want to invoke a
    callback if the plugin implements a specific interface.

commit f5ce53f45b4569160087b2a06ce1158249111bfe
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Jun 14 10:03:21 2018 -0400

    Vulkan: Support pending VkFence signal (#1976)
    
    * Vulkan: Support pending VkFence signal
    
    Fix #1892

commit 1b473aa032f9f32697089e7c8319eccd02a5a01f
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 14 10:25:14 2018 +0100

    Fix compiler tests on mac.
    
    a97361a6 changed the allocation of the globals buffer from Go to native. In doing so, the buffer became non-zeroed on allocation. This causes issues with the compiler tests that expecting the padding and alignment fields to be zeroed.

commit 320f3f2c676496342323caeafe903e9281a5c2b1
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 13 18:07:50 2018 +0100

    gapir/cc: Fix uninitialized variable that failed tests.
    
    Fixes: #1977

commit d20467967e997861ebc5c017c9e11d03c5dd9d68
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 13 13:17:33 2018 -0400

    Fix the warning (#1978)

commit c323f64c28e24217386634ade0092fb97cff3c3b
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 13 10:58:05 2018 -0400

    Fix a crash due to footprint builder (#1980)

commit 94a829f0755f7b0b4753b6304a58e2aabcc56463
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 13 09:55:15 2018 -0400

    Vulkan: Fix support of sparse buffer (#1972)
    
    * Vulkan: Fix support of sparse buffer
    
    1) Support sparse buffer in vkCmdCopyBuffer, vkCmdFillBuffer and
    vkCmdCopyBufferToImage.
    
    2) Support extract geometry data from sparse buffer
    
    3) 'Read' the memory of sparse buffers
    
    4) Implement doVkCmdFillBuffer

commit a97361a6443141360b337a4cb7d415558359f5d5
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 11 11:41:40 2018 +0100

    gapil/compiler: Make the context structure dynamic
    
    Compiler plugins need somewhere to hold state.
    Make the compiler structure dynamic - plugins can append their
    own data fields to the end of the context.

commit 3ff1f16787e632ca474ccb4c747e73d4b548da50
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 11 11:17:37 2018 +0100

    core/codegen: Add Types.FieldsOf method.
    
    Helps you build a new struct based on one from reflection.

commit a1131d25c6fe5ebb449e866a604ac2f0d0ce5686
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 11 11:16:19 2018 +0100

    core/codegen: Verify each function individually before the module.
    
    If you hit an error in a module, it can be a nightmare to actually
    identify the function that is bad.

commit 222c1998e812780311805616930b0f0a3cf97f28
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 11 11:13:20 2018 +0100

    core/codegen: Add Memset and Memzero intrinsics

commit 4b3ba50b74716a9d672a286e909fec1672d1ba3e
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 11 11:05:58 2018 +0100

    gapil/compiler: Promote the encoder Buffer to 1st class
    
    This byte appending structure is useful for other plugins.
    Move it up to the compiler package.

commit ec9f641f81f9aac3d087ff4fcaf755e30f1c2f15
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 12 15:34:14 2018 -0700

    Add the severity proto to the Eclipse classpath file.

commit d6c58f227aa63abe262513aba14992e98bd926ac
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 12 15:08:50 2018 -0700

    Fix cloning of references and maps.

commit 65fe67a0eb6cb45c6930ca0ea10caaa1d6506743
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 12 15:08:44 2018 -0700

    Don't lose the arena when creating/cloning.

commit 8e8a031f8539767cb42718cfb1b68729a4c0af25
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 12 14:13:53 2018 -0700

    Fix tests broken by a15485101.

commit dceb3e2bf93a06fabc29fd4f5c45af0e5b02acac
Author: Sean Purcell <scppurcell@google.com>
Date:   Mon May 28 15:51:48 2018 -0400

    Add support for memory layout metrics to vulkan API
    
    - Dumps info on allocations, mappings, and image/buffer/sparse resource
      bindings

commit 7af40af0167f7bdb63ea1d398cac5e606c193415
Author: Sean Purcell <scppurcell@google.com>
Date:   Mon May 28 17:33:15 2018 -0400

    Add gapit memory, verb to get memory breakdown from a trace
    
    Prints reported data out as well as computes memory aliasing and
    displays aliased regions

commit 56be76d0e56204a50f2117e4d619ef4feeb9362f
Author: Sean Purcell <scppurcell@google.com>
Date:   Mon May 28 15:49:56 2018 -0400

    Add metrics endpoint to gapis/service
    
    - Endpoint allows for different types of metrics to be requested at a
      certain command index
      - Only memory layout metrics are supported for now

commit f7d996152f10dcda93e1c6ac62834f1045d8f4c6
Author: Sean Purcell <scppurcell@google.com>
Date:   Mon May 28 15:01:43 2018 -0400

    Add extra to query and store VkPhysicalDeviceMemoryProperties

commit 4bca2b4f729b5c39b168b2bc28e21a2e81cb236d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 11 14:41:52 2018 -0700

    Small readability fix.

commit 6f93612bb9a4fd99f3c3134147c3fb65d579ca1f
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 12 11:19:01 2018 -0400

    Vulkan: Image/Buffer view stores back refs to their users (#1967)
    
    1) Changed the destruction order in EOS transform
    2) Store a back-ref to the descriptors, framebuffers in image view,
    buffer view and samplers, so each image view, buffer view sampler knows
    which descriptor or frambuffer uses it. So that when destroy those
    image/buffer views and samplers, we can unregister them from the
    descriptors and frambuffers without looping all the descriptor sets or
    frambuffers.
    
    This should mitigate #1965

commit a154851012180330d7c6ef2bed54b8c543466ee3
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 12 11:17:16 2018 -0400

    Pipe validation output to report view (#1931)
    
    * Pipe validation layer output from GAPIR to GAPIS report view
    
    Hide the debug report for initial commands to be shown in report view
    
    GAPIS and GAPIR use same Severity level, which is extracted from
    gapis/service/service.proto.
    
    Some validation errors relevant to the virtual swapchain are deferred to
    next CL to fix
     - vkGetPhysicalDeviceSurfaceFormatsKHR, 'count' arg not match
     - vkGetPhysicalDeviceSurfacePresentModesKHR, 'count' arg not match
     - vkCreateSwapChainKHR, 'imageFormat' does not match with 'colorSpace' member

commit 774a194d677575eeaea6ad891e66e932ff50ae09
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 11 11:56:05 2018 +0100

    core/log: Add SubTest()
    
    SubTest is intended to be used with `testing.T.Run()` for running
    subtests. These show up as child tests of the parent, which helps
    write cleaner tests.

commit 9d5b85ad72a607ef173412d2b8a739910105f960
Author: Pascal Muetschard <pascal@muet.com>
Date:   Wed Jun 6 15:46:37 2018 -0700

    Get tests building again.

commit 24f0ee0c6e166c09d87efbf65c0b6c11add479bb
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 1 18:35:56 2018 +0100

    gapil/compiler: Ensure all blocks are scoped.
    
    There was a bug in the map functions where types were not getting
    released correctly as the scope was never popped.
    
    To prevent this in the future, override all the `codegen` block building
    functions with variants that forcefully scopes the builder callbacks.

commit 26ed8d72736d4d536c78a347c28c09f50304851b
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jun 8 12:08:33 2018 -0400

    Fix crashes with Vulkan sparse bindings (#1966)
    
    Three issues fixed:
    
    1) The opaque sparse memory binding info cached in Buffer and Image
    object should not be fed to MustUnpackReadMap(), as they are actually
    mapping from offsets to info, not a list of info.
    
    2) IsFullyBound() does not work correctly.
    
    3) Since the creation of ImageLevel.Data() slice has been moved from
    vkCreateImage to vkBindImageMemory, for sparse binding images, the Data
    slice is empty. For now we just check the size of the Data slice for
    each time a sparse binding is to be submitted and if the Data slice is
    empty, create the shadow memory Data slice for each image level.

commit 97b118a18ae41fa58e39d1da908d639d0262ed82
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jun 7 11:22:38 2018 -0400

    Fix for sparse binding, when unbinding a page.

commit 5e6d4f45e9f79b230d3dc0e1317dfddf6d437700
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Jun 7 10:35:31 2018 -0400

    Find failed connection sooner so we can restart gapir quicker (#1962)
    
    A replay session will closed if heartbeat PING failed. If the interval
    is too long, the user need to wait for a longer time before the next
    request can be issued and restart a new replay session and connection.
    With a shorter PING interval, we find such connectionf failure sooner so
    we can start to process next comming request sooner.
    
    This is probably not a perfect fix. But the go-grpc currently does not
    have a 'signal' for connection failure.
    
    A newer version of go-grpc may have 'GetState()' interface for client
    connection, with which we can set a go routine to pull and set signal
    for connection failure. This may not occupy communication bandwidth. But
    the general idea is similar.

commit ce5a56b4a6b54a05490539565fc087eb3bff6f40
Author: Pascal Muetschard <pascal@muet.com>
Date:   Fri Jun 1 10:59:51 2018 -0700

    Keep track of when a GL context gets destroyed.

commit 2b0648df0218805802485f5a9643d058306439cb
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 10 12:43:23 2018 -0700

    Create a state serializer helper class.
    
    To share more code between GLES and Vulkan's MEC state serialization,
    this change introduces a new helper class to serialize the state and
    all the GPU buffers with it.

commit 338424a35954553af3b0ffe1f9055a97ace1e372
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 8 15:48:06 2018 -0700

    Refactor state serialization in the spy.
    
    To share a bit of code between GLES and Vulkan.

commit f45bafa66b372ae179c909fef590f7ff3f944307
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 8 13:45:20 2018 -0700

    Silence some warnings.

commit 79f66193eb12ca70ad9e066ef09623da7e46c35a
Author: Pascal Muetschard <pascal@muet.com>
Date:   Mon Jun 4 14:21:48 2018 -0700

    Don't strip symbols from the Android libs in debug build mode.

commit b468b98000a1504fc659277806f5dbf4082eb7fa
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 6 11:28:31 2018 -0400

    Fix for linear image with preinitialized intial layout (#1960)
    
    1) If an image has linear tiling and has initial layout set to
    PREINITIALIZED, all its subresources data pool will be linked back to
    the bound device memory, no new pool will be created for those
    subresources.
    
    2) If an image has linear tiling and has initial layout set to
    PREINITIALIZED, and it can not be used as TRANSFER_DST, render target or
    imageStore target, its data will be primed by maping memory and flush
    map memory ranges.

commit b68128253bbf7efe4d738a33cf72a845876c9982
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jun 5 11:52:12 2018 -0400

    Don't recreate framebuffers that have invalid image views.

commit 3656095726604f30ef173b900f836a41cd4a73ee
Author: Pascal Muetschard <pascal@muet.com>
Date:   Fri Jun 1 12:45:54 2018 -0700

    Fix command tree grouping by frame.
    
    Fixes a bug introduced by commit 62fa80ab0, where the "last in
    frame" events inferred from "start of frame" commands where added
    after the "start of frame" event instead of before it, essentially
    ending frames on the same command as starting them.

commit e8819a5ecbf6fd40ce921e8e0dab9ef41e5e6839
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Jun 4 10:26:15 2018 -0400

    Don't prime depth by copy.
    
    Some drivers don't like this behavior, instead of priming
    depth by copy, always prime it by rendering. We don't
    have THAT many depth buffers, and this is likely more
    reliable.

commit 6fac734855a55f821270191643c06d1a8161d95c
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jun 1 14:12:04 2018 -0400

    Cleaned up a bunch of error message in Vulkan.
    
    Instead of returning a normal fmt.Errorf(), we now return
    a proper service.ErrDataUnavailable. This allow the
    UI to show a proper error message unstead of just a
    panic in the log view.

commit 1e6bf5a70c69e2abd812611f49ba838ebb472259
Author: Sean Purcell <me@seanp.xyz>
Date:   Sun Jun 3 20:34:19 2018 -0400

    Change AsUint64 to return (uint64, bool) instead of panic

commit 3a0d4fa66fac6c1e0877abbde4f131fbcbd5ed68
Author: Sean Purcell <me@seanp.xyz>
Date:   Fri Jun 1 08:15:16 2018 -0400

    Move to uint64 switch to helper function and add comments

commit adf7138eb887bdd6f029e734a650d2ff03458b5f
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue May 29 16:48:20 2018 -0400

    Make enum value usage analysis opt-in for constant_sets
    
    Currently constant_sets uses analysis to determine which values should
    be combined together in an enum.  For enums that don't have multiple
    labels with the same value, we usually don't need to do analysis, we can
    just do the analysis as-is.  This adds a flag @analyze_usage for enums
    that do have repeat values to opt-in to the usage analysis.
    
    @analyze_usage was also added to all enums that currently have repeated
    values.

commit 58ec863a58eaca6de3d44ecf09261cccdb82c300
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jun 1 16:50:30 2018 -0400

    Handle VK_REMAINING_ARRAY_LAYER/MIP_LEVEL (#1946)

commit bdaba32e8ed925d6fa02d06953aae5f7f919e3d4
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Jun 1 13:47:12 2018 -0400

    Fixed typo with IsNil() conversion

commit d9b5dd2a98631a0da9a4d22ba9a87e9c19864338
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu May 31 18:42:56 2018 -0400

    Gapis: Added missing getters

commit a6d827e3156a4d9e55fc2a1f5d74f54e180f93fb
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jun 1 10:05:41 2018 -0400

    Allow wildcards in gapit state filter.
    
    This helps getting specific information out of the gapit state.

commit 4456cffe53c29bd65d6c5d6d23f078c8b45da243
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu May 31 12:44:03 2018 -0400

    Add an option to linearize-trace to trim the trace.

commit c4fb65fd8d86f49170dc8450aaaf74e35d9e695e
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 29 17:14:01 2018 +0100

    Clean up remaining assert statements.

commit 8e36a93f3535725df09201e5ba1b23ab8f200ea8
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 29 17:02:59 2018 +0100

    core/assert: Undeprecate assert.For
    
    It's used more commonly than the supposed replacement `assert.To`.
    Rework `assert.To` to accept the same set of logging targets.

commit 9e6e5fe721a06592e592692124b83b76849527dc
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 29 17:01:52 2018 +0100

    Rename 'ctx' locals to 'assert' when using assert.To()
    
    I'm guessing the naming of ctx is due to some old refactoring that went
    a bit weird.
    
    This does mean we're shadowing the `assert` package, but given
    that you get all the useful functionality with the local, this doesn't
    seem like an issue.

commit fa55d6736374a2d3f27ffd508012eaa5a827cc64
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 29 16:37:25 2018 +0100

    core/assert: Remove more random unused cruft

commit 28e92ebd6400436f9a62f5145b1120e72b0d42c6
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 29 16:19:02 2018 +0100

    core/assert: Remove unused assert.Manager.Print function

commit d71f9e442f008e6fdd3c2cfe82087fd60aee4d3a
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 29 16:17:09 2018 +0100

    Replace all uses of assert.Context with assert.To
    
    `assert.Context` simply delegated to `assert.To` and has been
    deprecated for a long time.

commit 5c22bba5ae8c8cdd7efb411ce56c7a6ca65c2e96
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 29 15:17:12 2018 +0100

    Kill assert.With()
    
    These checks give very unhelpful error messages, and have been
    deprecated for a long time.

commit bf6ffe8b76476435038f9f3240526e7c4d97cf06
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 29 15:42:18 2018 +0100

    Fold core/data/binary/test into core/data/endian.
    
    core/data/binary/test had a number of types and tests for ancient code.
    Remove the `Simple()` methods from `binary.Reader` and `binary.Writer`.
    Remove the unused `binary.Readable` and `binary.Writable` interfaces.
    Merge the test functionality that was only used by `endian` into its tests.

commit f7c862115cbb7849d2435aaa0c50687ac408f5ad
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 29 13:19:59 2018 +0100

    gapil/compiler: Move useful test code to testutils
    
    Move `gapil/compiler/testextern` to `gapil/compiler/testutils`.
    Move the useful bits of the compiler test code into new package.

commit b2dd7d4f9d2147d0f4d7d7cb4f89b95913de01fa
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu May 31 12:34:17 2018 -0400

    Keep vkUnmapMemory alive.
    
    This makes changes on host-pointer side. It would be bad
    to keep the memory mapped, if someone else
    maps into the same location in the future.

commit 1296714e2ba86db662dfc8036b1b78dcd4d1ede0
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 31 13:03:21 2018 -0400

    Fix a bug in virtual swapchain (#1938)

commit 4e4ced00cb575504719c2e550c5f549cdd4d485d
Author: Aliya Pazylbekova <aliyap@google.com>
Date:   Thu May 31 10:28:31 2018 -0400

    Follow the existing pattern for grpc dependencies
    
    Makes it easier to build gapid as a dependency and override
    its dependencies.

commit 0f78017c12ab338112516dc10207e0201194e259
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue May 29 16:31:48 2018 -0400

    Pass map parent value to traverse instead of nil (fix #1929)

commit 6328b87c57035ec9074fa43adec2279d10f7c5c4
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 30 15:10:26 2018 -0400

    Disable our optimization for not re-priming undefined images.
    
    This was causing some issues with some applications. We
    should figure out how to re-enable this at some point.

commit b4860ecdf763b027891c34ad1a615db1834061a5
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 30 12:04:04 2018 -0400

    Now that we clean up images from views, handle that on recreation.

commit b141212e248e16827fba5b1d2c1d9e560a436818
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 29 15:15:15 2018 -0400

    Fix command buffers whose recording spans a frame.
    
    This fixes an issue where if we started a MidExecution capture
    where a command-buffer spanned a frame, we would crash
    in generating synchronization data (other bad things would happen
    as a result).
    
    This sets up the initial state so that our intial commands
    have been properly initialized.

commit 9c9efe4c141098ba94a2b65fbf3a745078439808
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 25 10:19:14 2018 -0400

    Optimize byte slice copies

commit f2fcdf9226c00650a195c3abad5061a9b59a4f97
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 25 13:49:51 2018 -0400

    Another Typo

commit 41e5a052a23ed32f702b7ed16bb9b5de884a8be0
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri May 25 13:37:33 2018 -0400

    Fix the crash of Vulkan MEC due to physical device properties (#1919)

commit 40cd92faa126d1ee4f8fe9cdf5d942d7e7f0a4f4
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 25 13:29:40 2018 -0400

    Fix missed getter.

commit 79050d83c0ae65d703dc8e27f6e607f4402df33d
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 25 11:14:26 2018 +0100

    gapis/api/templates: Add cgo generation templates
    
    Currently not used.

commit d031af0c1860b97a970bf05e9e586cf08ab8f9f7
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 25 11:13:00 2018 +0100

    api.go.tmpl: Add Format method to classes

commit 891895ab52ec7c5c3118ec63a7d7036aa311c624
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 25 11:09:55 2018 +0100

    api.go.tmpl: Minor refactoring of "DeclarePseudonym"

commit f0a32819c9c0ec92f63a0788909dabcbca1bf5df
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 25 11:07:04 2018 +0100

    api.go.tmpl: Switch to using slice getters...
    
    ...instead of the fields directly.
    These fields will not be easily accessible with the switch to cgo types.

commit 267981a2802e1820c1f43da32553deff71796490
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 25 11:01:08 2018 +0100

    go_common.tmpl: Don't mix size with alignemnt

commit 857987f417d43733d93e1431a9e4f849edf5e96d
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 25 12:14:13 2018 -0400

    Fix silly typo

commit 4392580757ae91d64b02b63397ecbabbd5534322
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 25 09:38:06 2018 -0400

    Make Arena::free behave the same as free().
    
    If the given ptr is nullptr, then do nothing.
    Fixes #1916

commit a0d8bf64edaddc5da8ba81fbfdff9f27f6b4c1b6
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu May 10 15:25:01 2018 -0400

    Elide ALL commands that we are not trying to trace.
    
    We were ignoring some of the data, but not all of it. We would
    end up adding the commands to the tree, but no observations,
    this caused havok with the new memory work, since replaying
    those commands would cause OOB memory accesses.

commit 3d6f11c4ce78bc670bb1ca3c2508f29169df5e39
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 17:00:40 2018 +0100

    gapis/api: Add arena parameter to all API type constructors.
    
    Currently unused.

commit df76945d8cb0f5501594a5ec5ebf7fa8fc90ca22
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 24 17:21:07 2018 -0400

    Vulkan: Guard the use of prefetched physical device properties (#1914)
    
    To prevent crashes

commit 4d57b216e30925e7587cbdd43133fadf44c35db6
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu May 24 15:28:09 2018 -0400

    A couple minor cleanups.
    
    Use switch instead of a bunch of if statements.
    Use the existing text.Quote method.

commit 716ada4c95a65ea49f8c2c85fcfb1b407aa4610f
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu May 24 15:12:16 2018 -0400

    Replace local-app with desktop-app.

commit fddac3955bfbf013dec74cfb1aae933ec41f1ffb
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 22 15:44:02 2018 -0400

    Set up remote tracing.
    
    This allows us to specify a remote SSH target for tracing.

commit 8415902c470c9493341e199fc0cbf9cff9c6db42
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 15:17:43 2018 +0100

    gapis/api: Add arena parameter to each command Clone() method
    
    Start using this method instead of struct copying.

commit 5bd4ad405405249c8159879c5d64bae558ac63ab
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 14:38:20 2018 +0100

    gapis/api: Add arena field to CommandBuilder
    
    Currently unused.

commit 92c04b1fd782b1274394aeda0ef1f169d505215c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 13:27:44 2018 +0100

    gapis/api: Add arena parameter to api.State.Clone()
    
    Currently unused.

commit d8beeb83900dfabf9dcbfdce86fc0c4415c9fc0c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 13:08:20 2018 +0100

    gapis/api: Add arena field to each GlobalState
    
    Currently unused.

commit 56a64d1cd460f36354cedd3073a49790604b5cf2
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 15:49:38 2018 +0100

    gapis/api: Kill map Set method()
    
    This has been replaced by Add() and its existance is a relic.

commit d894df86a38b7590f5769e6396276298a59f7c3d
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 24 10:51:43 2018 -0400

    Remove inserted command for fetching image/buffer memory requirements (#1909)
    
    So that we won't see an extra vkGetImage/BufferMemoryRequirements
    command inserted by GAPID after each vkCreateImage/Buffer command in the
    command tree.

commit 6cad8a78eef689abd88055ed7e0399c5c5e935d5
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 12:40:05 2018 +0100

    Rerun gazelle

commit eb83f799e78ddd0f3e320e8032d600dc7630bec5
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 12:22:10 2018 +0100

    gapil/template: Add GeneratePath global.
    
    This does some hacky string magic to produce a path of the current
    template relative to the bazel genfiles directory.

commit d13ee2ed34dfb600f9792a115f79214dee0ca973
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 12:16:06 2018 +0100

    gapil/compiler: Mangle release and reference methods.

commit 46e814537a7b63252bdb05d7365873df0376f2d5
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 12:14:24 2018 +0100

    gapil/compiler/plugins/cloner: Fix map key cloning.
    
    These were only getting cloned if the type were a class or ref.

commit 028ea2f7f28214dcc76c0be86d1dbe5983cce4aa
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 12:13:38 2018 +0100

    gapil/analysis: Fix for cyclic graphs.

commit 5f6b20ee2e5c1b86a8df23b71f7b992a8e0d616f
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 12:12:54 2018 +0100

    core/codegen: Fix bad copy-paste error message.

commit 6326aa93da165345dd56a74a084640b0074e6661
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 12:12:35 2018 +0100

    core/memory/arena: Add String(), minor cleanups.

commit 2922c491ecb00a11661b0cf1bc4c14579176a29f
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 24 12:11:19 2018 +0100

    build: Permit a types-only apic compile
    
    If the emit list is empty, we won't get the execution functions,
    nor any  plugins. This is still useful for generating things
    like map methods.

commit 6109e748253a7357a0211e43b73301a82291a3bc
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 24 09:44:49 2018 -0400

    Encode physical device properties in extra (#1908)
    
    Fixes #1766
    
    So that we won't insert extra vkGetPhysicalDeviceProperties after vkEnumeratePhysicalDevices.

commit 27242660891744d872fb2427b3386a4e18928d59
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed May 16 15:30:04 2018 -0400

    Add API calls per frame stats to gapit stats
    
    Average, stddev, and median are provided

commit cbe2595bd11d101a5a2fa6d9e840d0ffae1417a1
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed May 23 13:48:51 2018 -0400

    Add Histogram type to core/math/sint
    
    Allows for computing average, stddev, and median of the stored data.

commit 62fa80ab0b8cf9b003aadd8175abf2f1369e8db1
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed May 23 13:20:47 2018 -0400

    Make command events be between FirstInFrame and LastInFrame
    
    There is an exception for FramebufferObservations because sxs_video
    assumes it will be last.

commit db72e9f3141f71f4c8f1c43ba0366e329f94a221
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 23 14:39:29 2018 -0400

    Fix to windows header includes

commit 15eeef5873efaab10d7fabad53536c470b1b4cf6
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 23 12:53:14 2018 -0400

    More comment updates.

commit 91bd0f1e64e5fc7d5e0514578aa17c9b54c6d4c1
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 23 12:30:51 2018 -0400

    More updates for comments

commit 3168ad3f21e9449a7b3f6b1122afd3ed5283534b
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 23 11:25:07 2018 -0400

    Fixed a bug with the command output.
    
    We were writing both stdout and stderr to the same buffer
    in a very thread-unsafe way.

commit f11630798376a1d82384e5ee9f42862e16c0e152
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 23 11:06:53 2018 -0400

    More fixes based on comments.

commit 0ec2aa0d0928d35c8ce37eed35ba08c13192df12
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 23 09:47:11 2018 -0400

    Fixes based on feedback.

commit d0e419f232a878cf13512401b17d5c42e1e7755a
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 22 11:39:56 2018 -0400

    A few minor cleanups and some additional documentation.

commit 1825dfc68cfa68ebc7f4c589f65e7b317959ff30
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 22 11:25:01 2018 -0400

    Hide the remoteSSHConfig flag by default.

commit b5a8534f8d679acf31ca58db31017955491b8e39
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 22 11:19:53 2018 -0400

    Added Experimental Remote SSH replay support.
    
    This allows an ssh configuration file to be created,
    and used to detect a remote SSH device.

commit d7b9017ee56be5e17c3ee57c7c268659b0eb62ae
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 22 11:18:37 2018 -0400

    Added device_info executable.
    
    This will print the device information on stdout, as either
    json or a binary protobuf.

commit d72cd43eb2d761cbfb02be98e1aa0b9deaf873d7
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed May 23 11:57:52 2018 -0400

    Vulkan: Move most override functions out of template (#1902)
    
    Most of the override override API functions and extern functions of
    Vulkan are not generated from the template system. So move them to
    vulkan_extras.cpp from vk_spy_helpers.cpp.tmpl.

commit 9ad569dd4c1d71285450c75b09bf01d79185b009
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed May 23 11:33:13 2018 -0400

    Fix tracking of image layout (#1893)
    
    This fixs #1850
    
    - Track and check image layout at each image aspect/layer/level
    - Rename ImageInfo->Layout to ImageInfo->InitialLayout
    
    Tested with validation layers, no new error

commit 3bf9dd51cb9086a763ef7a7edee05928ad6afea3
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 23 13:37:41 2018 +0100

    gapil/compiler: Mangle in a separate pass.
    
    Attempting to mangle during type building may result in dependencies on types that have not been mangled yet.

commit c78e5aa79b1a6694eee4fd2d3971b332f2d7bdb0
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 23 11:28:03 2018 +0100

    java: Rename Atom to Command

commit 1a401c6b9b71efc048a30dd3979b72129fc78489
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 23 11:30:50 2018 +0100

    docs: Rename Atom to Command

commit 6587dc6d5d0debf472d60dc4e077967811180ee2
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 23 11:30:38 2018 +0100

    c++: Rename Atom to Command
    
    Also kill the now unused kMaxExtras constant

commit 2ddfdc56d98a44409e8dfdc175672efde0fd7488
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 23 11:30:13 2018 +0100

    api: Rename Atom to Command
    
    Also kill the ancient and deprecated `contextInfo`

commit 59a9a3608380ab5658bd1979cbf498ed8ffc6016
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 23 11:29:41 2018 +0100

    go: Rename Atom to Command

commit 2105d7dcf3804332beefb3d7acae505b386677f5
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue May 22 17:12:02 2018 -0400

    Minor fixes/edits to frame ranges

commit 27e2f44953897698a6211d66a78d2ea3144adb1c
Author: Sean Purcell <scppurcell@google.com>
Date:   Tue May 22 16:41:46 2018 -0400

    Remove debug print

commit 1e201ed4d1c019c19b41580b344a5eaaa099ec51
Author: Sean Purcell <scppurcell@google.com>
Date:   Wed May 16 15:29:56 2018 -0400

    Add frame range options to gapit stats
    
    Options emulate those of gapit video:
      - frame-start is the frame to start at
      - frame-count is the number of frames to consider after the start

commit 6073f1fbba2a173e3cf8f68655f009be9a504702
Author: Sean Purcell <scppurcell@google.com>
Date:   Fri May 18 15:12:42 2018 -0400

    Fix typo in help

commit 31c552ab1a2c1ddbef19d2e88e1badcebe28470a
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 22 11:11:46 2018 -0400

    Allow all executables to take packed args.
    
    This makes it easier to pass arguments from process to process
    without having to know all of the various splitting rules
    across each. It can all be done in one place.

commit d88f76e30488565ba84199120e53acea06d8c9a5
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 22 10:15:14 2018 -0400

    Add a workaround for some Linux drivers.
    
    We can get a crash when cleaning an instance in some
    circumstances with Vulkan drivers on Linux.
    
    If we force the Loader to keep an instance alive, then
    we won't run into this problem. The downside is that we
    leak a single instance.

commit 46970b61a74bbd70d8d76c1282fe78265db55113
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 16 14:41:14 2018 -0400

    A few minor fixes to Allocator usage in GLES.

commit 98112c0c62b80d44b7e3257bdcabc463eeee6524
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 22 11:43:56 2018 +0100

    Rename template map.Range() to All()
    
    `Range` was seemingly named by the use of iteration over the map entries.
    Having it called `Range` for getting a Go map (what it returns) is odd.
    
    I've named this `All` as it will convert all the map elements from C.
    (in a future CL)

commit f7ad676acc0158ee3cd1f7d8f309c6beede7bc0b
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 22 10:29:06 2018 +0100

    Fix tests.
    
    Most were broken by the new gRPC replay changes.
    `TestNewContextUndefined` gives slightly different results
    on different GPUs, so I've bumped the threshold a little.

commit 17450e695db7ad1f54d6dafeda3645a499964d65
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 17 16:44:17 2018 +0100

    test/integration: Add a test for framebuffer texture clears

commit eb6a2cee6fba94c71cfe5e0bab065e6e60b2fdfc
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 17 16:43:40 2018 +0100

    gles: Mark glClear as writing to the framebuffer.
    
    Fixes an issue where clears were not appearing in framebuffer textures.

commit a32d98794e079dbf69be3f88d3d10b9613671124
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 17 20:49:50 2018 -0400

    gRPC for GAPIR (#1861)
    
    * Use gRPC to handle GAPIR-GAPIS communication
    
    - **Requires** Bazel to be upgraded to **0.13.0**, this is to utilize
      the new flag: `--experimental_shortened_obj_file_path=true` to
      workaround the 260 MAX_PATH limit on Windows when compiling with Android
      NDK prebuilts. This solution might be a temporary workaround, in future
      we need something like the mingw wrapper for Android NDK prebuilts.
    - On Android, use file system socket for communication. GAPIS uses 'ls'
      to check if the socket file exists or not before dialing to connect.
    - Do not build C-ARES for Windows as it is not supported (C-ARES is
      dependent by gRPC).
    - Overwrite the gRPC's build file with our own, to fix build for Android
      and Windows.
    - Force static link for build on Windows by adding `-static` to the
      linker flags for mingw toolchain. Otherwise, the bulit 'protoc` won't
      start due to `not found dll` (because the gRPC Bazel function does not
      pass any ENV to the `protoc` when using it to generate cpp/h files)
    - On Windows, run `pacman -Sy mingw-w64-x86_64-crt-git` when fixing up
      the env, this is to fix the '__imp___* undefined reference' error.
      (The real reason of the error might be an incomplete `pacman -Syu` call)
    - The GAPIR Memory manager and crash handler do not handle mutiple GAPIS
      connections, a mutex lock is added to make the accesses to them exclusive
      to only one replay request. Other replay requests will be blocked, until the
      current replay finishes.

commit a51941decd3a2344d5df4ad72f3285c43be568e6
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 20:20:19 2018 +0100

    test/integration/gles/replay: Split tests into multiple files

commit 73cf03991fa5b358a56b5e07b043e9a65385db01
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 20:09:23 2018 +0100

    test/integraion/gles/replay: Avoid using 'trace'
    
    A trace is a verb, not a the resulting capture

commit 94da39b64406b0bf021f77824fecfc388946ac7f
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 20:07:04 2018 +0100

    test/integration/gles/replay: Simplify capture exporting

commit b0d9c7bfac156270c15a67549ed70c021f5cfaf4
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 19:42:53 2018 +0100

    test/integration/gles/replay: Cleanup use of checkReplay()

commit d291ffbba82a47cf449753cb9c46c3ab8d99b85f
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 19:37:35 2018 +0100

    test/integration/gles/replay: Simplify check functions

commit cd5dc1b879715d61381177b5d4862e938029473c
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 19:19:02 2018 +0100

    test/integration/gles/replay: Expunge Fixture

commit 24005e4b4733af17eabd2374fab9a982ba41d59e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 18:19:31 2018 +0100

    test/integration/gles/replay: Move check functions into own file

commit 954d6354a8247d50abdadf4ac288ea398980e629
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 18:16:31 2018 +0100

    test/integration/gles/replay: Remove the rootCtx
    
    It wasn't actually used by anything.

commit 12ad3d4bb80c515c9d40607a7d5f800459fefdf5
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 18:11:43 2018 +0100

    test/integration/gles: Move the bulk of the tests over to snippets.
    
    We had a duplicate code in gles_test and in snippets.
    This moves the majority over to just using snippets.

commit 0fa89ef5ba2d3beb2312e4905fcc8f37e224d46e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 16:01:55 2018 +0100

    test/integration/gles/snippets: Expose the Builder, tidy functions

commit 8a91484b81e905f043120e7e3281a5722d25ded2
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 15:31:30 2018 +0100

    test/integration: Shuffle code into more sensible directories

commit 5505706208446e705b3fdbc018de37dd07fc9037
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 14:28:15 2018 +0100

    Remove dead C++ code
    
    This is cruft that has accumulated over the years.
    It is not currently used. If we want to use it again,
    let's use version control to bring it back.

commit d2417a22ad6fb17d2d17cfabe5375dbc3590e945
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 14:45:27 2018 +0100

    gapis/api/vulkan: Fix TestCallReflectedCommand
    
     VkCmdDispatch was crashing as it was
    expecting state that was not there.

commit 131ea5445d9b2791e0506bbaa1f15aaa4426c0f7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 16 14:44:52 2018 +0100

    gapis/memory: Adjust Encoder / Decoder offset for Data()
    
    This was causing misaligned reads and writes.

commit d76b26d4d24bde1dcb19fd2089f92d1bae69dec7
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue May 15 21:10:10 2018 -0400

    Fix crashes in state rebuilding (#1880)
    
    As the setter/getter arch needs explicit clone/new

commit 4fb8ba285a7ebec444e18c180415795a132c5bc2
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 15 09:29:22 2018 -0400

    Fix a small bug introduced when trying to replay within a renderpass.

commit b9e524b3d1c993a0cc3720223a3b110bc0e2cd48
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 14 20:15:53 2018 +0100

    gapis/memory: Optimize reading / writing of byte slices
    
    Gives a healthy performance boost for certain traces:
    
    sha                         | aa9649         | 33bf4f
    ----------------------------+----------------+----------------------
    report-time                 | 50.480215421   | 25.445148844 (-49.6%)
    linearize-time              | 57.02636714    | 41.965205702 (-26.4%)

commit ae55b6aa35f0af1a35eaf37f013401b633c93815
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Apr 20 20:56:25 2018 +0100

    Replace API direct field access with getter / setters
    
    Required for the new compiler generated Mutate logic.
    
    Has unfortunate code bloat, but performance is faster for some large vulkan traces:
    
    sha                         | master         | getter-setter
    ----------------------------+----------------+----------------------
    gapis                       | 64416616       | 84937576     (+31.9%)
    report-time                 | 67.81601269    | 52.711060383 (-22.3%)
    linearize-time              | 80.960385507   | 69.742342503 (-13.9%)

commit 0456a956f53f68c7a1faeabd02d8008c991f16a5
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 9 10:17:37 2018 -0700

    cmd/regres: Time linearize_trace.

commit a388d23ce5bcf431b30d548bb4398f28028979ff
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 8 15:55:42 2018 -0700

    cmd/regres: Add flag to time 'gapit report'

commit 691486aa4d9f2981af786347f2b61f26ebc9ff96
Author: Aliya Pazylbekova <aliyap@google.com>
Date:   Wed May 9 14:41:55 2018 -0400

    Add a replace_resource verb to gapit

commit 552f73a3f56018224a9a1ac6e124191e966c59e5
Author: Aliya Pazylbekova <aliyap@google.com>
Date:   Wed May 9 12:23:02 2018 -0400

    Add SaveCapture action to the gapis server

commit 037091bc4ad0af2a916d6b24c7cf127396e4840f
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Mar 16 13:38:35 2018 -0400

    Gapil: Removed check for null slice when creating a sub-slice.
    
    If a slice can have a null `base` and a non-zero count, then there should be
    nothing wrong with subsliceing such a slice, since the subslice operation
    doesn't read anything from the `base` pointer.
    
    Slices with null `base` and non-zero count are created from pools with null
    `buffer` and non-zero size, which are created, e.g. in
    VulkanSpy::prepareGPUBuffers (vulkan_mid_execution.cpp).

commit 881de3d0c9c6d69716450933b776a4143d71aacd
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon May 7 09:17:39 2018 -0400

    Vulkan: Fix map iteration index in dovkCmdBindVertexBuffers

commit 999ad497aa1f0e5374dc8925d1b994b2ea6a6cc3
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Apr 16 15:09:00 2018 -0400

    Vulkan: vkCmdBindDescriptorSets now reads the PipelineLayout
    
    This ensures a dependency from vkCmdBindDescriptorSets to vkCreatePipelineLayout

commit 5b89b6cad180ad7d4c7c0b37aac1b618143a7b74
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Apr 30 14:12:00 2018 -0400

    Vulkan: Storage buffer/image bindings now write to the buffer/image.

commit dad51e525e38ac362052d50f184a202fbbd6e3b7
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Apr 30 14:09:31 2018 -0400

    Vulkan: Correctly handle dynamic buffer offsets in descriptor bindings

commit 89db9d387260a591b1fcba765f4d77fc508f9428
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Apr 30 14:03:25 2018 -0400

    Vulkan: Renamed readMemoryBufferViewBindings -> readMemoryInBufferViewBindings

commit 1285b2b911b32a011da2f6d60dee2658debb2c4e
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Apr 30 13:58:28 2018 -0400

    Vulkan: Image descriptor set bindings now read the underlying images

commit c1047d22cf5ccf5af369ee52725f7bb18fcd6fe4
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue May 8 14:13:30 2018 -0400

    Vulkan: Correctly handle bindings for compute pipelines

commit 0f5cff8be1ed222e9b4687a1f6a9ee8f84b6532f
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue May 8 14:09:58 2018 -0400

    Vulkan: fix vkCmdBindDescriptorSets binding iteration.
    
    The previous implementation incorrectly assumed that binding numbers were
    contiguous.

commit 802bde453e3c687056cb3e4400cdfb77cda2c315
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Mar 27 15:07:01 2018 -0400

    Vulkan: dovkCmdResolveImage now reads the src and writes the dst images

commit c62516eb0d9241de3b565328b123718a3487bbdb
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri May 4 10:51:16 2018 -0400

    Vulkan: Correct handling of loadOp/storeOp in VkAttachmentDescription

commit f2bddd47870efad4dd3933156993116ce61e56e7
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Mar 19 15:26:32 2018 -0400

    Vulkan: image layout transitions now trigger reads/writes of the image memory.
    
    This is necessary to pick up dependencies of/on commands that transition image
    layouts.

commit a34d78c1526d6d42f91b3276382b3bf777be11e0
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu Mar 22 12:52:42 2018 -0400

    Vulkan: vkQueuePresentKHR now reads the swapchain image.

commit 15614183e8b174f96d09462e6df4fb134952f518
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Mar 19 15:15:30 2018 -0400

    Vulkan: dovkCmdBindDescriptorSets now reads the data in bound images.
    
    This is necessary to pick up dependencies on earlier commands that wrote to the
    bound images.

commit b310a2ae067dfa204010cb924bc3998fa5977dd9
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu Mar 15 12:47:44 2018 -0400

    Vulkan: Added vkErrorImageLayout to report incorrect image layouts

commit dbb4e46f6dcff4b39306bea352933fa4ddcda0d6
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu Mar 8 16:35:56 2018 -0500

    Vulkan: vkGetDeviceQueue now reads the associated QueueFamilyProperties
    
    This makes vkGetDeviceQueue depend on vkGetPhysicalDeviceQueueFamilyProperties;
    without this dependency, existing footprint code crashes on trimmed traces.

commit 90b75791acb83bbaed9c43dc91e67cdce841c716
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu Apr 26 15:31:35 2018 -0400

    Vulkan: vkResetFences now correctly unsignals the fence

commit 8659fb24e0dd0796accc842c31ccc8a70533bb0e
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu Mar 8 16:41:07 2018 -0500

    Vulkan: vkQueueSubmit now correctly signals fences.

commit 2be56409560822699eea4d2202f192374e558559
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Mar 16 16:49:02 2018 -0400

    Vulkan: vkQueuePresentKHR now checks the semaphores it is supposed to wait on.
    
    We still need to add logic to handle the case when it is not yet signaled.
    
    Independent of actually handling the case when the semaphore is not yet
    signaled, reading the Signaled state is necessary to pick up dependencies on
    the command which signaled that semaphore.

commit 15ad3c7d7b1f16fdda0ebfa97c8fde660194bc6f
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Mar 19 12:38:40 2018 -0400

    Vulkan: added capability to track non-coherent reads/writes of device memory.
    
    This is necessary to pick up many dependencies.

commit 0632a56603999fffd62afb7494c6568a5c8b4663
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Mar 16 16:00:10 2018 -0400

    Vulkan: moved initialization of image level data to vkBindImageMemory.
    
    This better reflects the actual state of the image level--it has no backing
    memory until the vkBindImageMemory call.
    
    This was also necessary to pick up dependencies on vkBindImageMemory.

commit c0ebcf8a19bee580e5100ca9026cf54711518824
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Mar 16 15:54:48 2018 -0400

    Vulkan: vkQueueSubmit now checks that the command buffer is complete.
    
    This is necessary to pick up vkQueueSubmit's dependency on vkEndCommandBuffer.

commit 8bebbe385a2802ec2c2d9d4299b986ff3663941b
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Mar 16 14:59:12 2018 -0400

    Vulkan: reuse queue objects when repeating calls to vkGetDeviceQueue.

commit dca1a77bea68feedd87fe97322f681bfc7037613
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Mar 16 14:53:36 2018 -0400

    Vulkan: removed unnecessary rewrites of refs in global state maps.
    
    These maps point to references, so the values can be modified directly, without
    needing to put the modified value back into the map.
    
    These extra writes of the maps also cause spurious dependencies.

commit 666e51738da6c9100767aa6cc886330a6a20a970
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Apr 16 15:06:28 2018 -0400

    Vulkan: vkCmdBindVertexBuffers now correctly uses firstBinding

commit 62951f67daf51294514ae57187076eddb69a453e
Author: Benson Joeris <bjoeris@google.com>
Date:   Wed Apr 25 17:10:16 2018 -0400

    Gapil: Fence tracker now ignores reads() and writes() to internal slices.

commit 2a48f61f776631dae7301a67dba5171b091f3c8f
Author: Benson Joeris <bjoeris@google.com>
Date:   Tue Mar 27 15:06:20 2018 -0400

    Gapit screenshot: added -out flag to specify image file

commit ba4f81daab22c455d252b6cc73b79c1d3ff22089
Author: Benson Joeris <bjoeris@google.com>
Date:   Fri Mar 9 17:04:47 2018 -0500

    Gapit screenshot: added -frame and -context flags

commit c60cb74b40435073f12df8a2f3f84791e1120265
Author: Benson Joeris <bjoeris@google.com>
Date:   Mon Apr 9 14:19:05 2018 -0400

    cmd/gapis: Added -profile-mem flag to store a memory profile

commit 008d8f9d7e3dfcfd5738915a4803374638e50527
Author: Benson Joeris <bjoeris@google.com>
Date:   Thu Apr 26 10:50:31 2018 -0400

    Gapis: Never start a new gapis process when the client specifies a gapis port.
    
    The previous behaviour made it impossible to connect to a running gapis process
    from gapit.

commit 29eed3677e2ccb31b87b5e5ea2225b6b6a31eab4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 8 10:50:55 2018 -0700

    Update to a newer version of SPIRV-Cross.
    
    This version no longer mangles some legal GLSL identifiers.

commit 2eb16d0f8038d2c30bb10738c29786069cc91fcd
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 8 09:20:09 2018 -0400

    Renamed GetInitialCommands to BuildInitialCommands.

commit 260d2478b3d3ad6ab00e80c0a16b6dd9d6a9169a
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 4 13:29:18 2018 -0400

    Use the cached initial commands for dependency graph generation.
    
    This does not change functionality, it just prevents us from
    doubling up intial command generation.

commit 8021ef37119b4069f751d7bb4411ad336af8592b
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon May 7 16:22:29 2018 -0400

    Add context destruction blacklist.
    
    This will cause a context and window leak, which is bad, but
    only for certain hardware combinations.
    
    We can remove once we figure out exactly waht is causing
    this behavior.

commit ee972b26b0b5c2402684d59ed97d365000bd5c5e
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon May 7 19:50:37 2018 -0400

    Drop debug logs in image primer (#1866)

commit cb827620c235c18a7d1d589746e173de285d0973
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 4 15:07:33 2018 -0400

    Added a command-line option to disable replay optimization.
    
    For gapit video and gapit screenshot, added an option that can
    disable replay optimization.

commit fe901a28f8bc4658ddea94606eb2bd7af97a2834
Author: Ben Clayton <bclayton@google.com>
Date:   Sun May 6 09:53:06 2018 -0700

    gapis/api: Declare Properties
    
    This is a new type that represents a getter / setter pair on an object.

commit fc5249b4eaafa0467e59866049cc102972642776
Author: Ben Clayton <bclayton@google.com>
Date:   Sun May 6 09:47:42 2018 -0700

    core/data/protoconv: Use the new generic functionality.
    
    Let's us delete a load of bespoke generic code.

commit 6ef305f92c816a746a1d3fd3eb8519b25b5653a1
Author: Ben Clayton <bclayton@google.com>
Date:   Sun May 6 09:47:11 2018 -0700

    core/data/generic: Add support for non-interface matches
    
    Let's you determine that a collection of functions all conform to
    the same type substitutions.

commit 381e0662606cc380376e02412463a9c4f93cdbc6
Author: Ben Clayton <bclayton@google.com>
Date:   Sat May 5 14:45:44 2018 -0700

    gapis/api: Fix struct encoding / decoding
    
    The tail alignment logic was wrong.

commit de3b6851454fa6215049544c54d2946206586082
Author: Ben Clayton <bclayton@google.com>
Date:   Sun May 6 09:28:25 2018 -0700

    Bump GAPID version

commit 65c34a51b3762327f2ccc90fe115970d153895ee
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 4 13:56:39 2018 -0400

    Allow pruning of the state tree to particular nodes.

commit 934e45b23007bd291c6a20afa2cd6acf807b851f
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 4 13:31:51 2018 -0400

    Add -depth option to gapit state.
    
    This allows us to prune deeper parts of the tree.

commit c5dfded1719626f9eb2b812065f990ae53047b4c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 3 12:42:14 2018 -0700

    Add intergration test for gles undefined framebuffer patterns

commit 0f4d2944bced3e4879746c2744f09d23921cc51e
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 3 12:41:53 2018 -0700

    gles: Fix the rendering of undefined framebuffer patterns

commit 6362e73969ee9d2660d7b799a04be4dabec04a9d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 3 12:41:27 2018 -0700

    Fix the test build

commit f0c05d51c8cdeb3251fb36a9f54d5ea092fd8cbd
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 3 12:40:47 2018 -0700

    cmd/embed: Stop the build log spam

commit d23be2ebac55688fa30d8366bfd6abe293ed0e94
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu May 3 15:38:56 2018 -0400

    Remove the runtime dependency on libGL again.
    
    If libGL.so can not be found, continue to be able to trace
    and replay vulkan applications.

commit 4e14db45e1b13286a183917dc8c073abcd66aecd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 2 12:28:17 2018 -0700

    Small fix and warnings from the trace UI changes.

commit dc6a0f01600302a3bd8aaa757549c3fbb134e7af
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Apr 25 14:05:42 2018 -0400

    Rename output shaders for filesystems that do not allow <>

commit 16ecbec3bb3a05f4c9d6aee43ea8c91e2dc1a1bc
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 2 13:30:49 2018 -0700

    gles: Fix for GPU texture readbacks
    
    The size field of slices was not being set.
    This got broken in eca98c386

commit 621373914d1af38e1546d2e699c72b6c394b308c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 2 16:51:13 2018 -0700

    Revert the threadId when a command is reverted.
    
    The replay builder can revert commands (e.g. due to GL errors).
    However, the revert was not reverting the command builder's state
    correctly when the thread changed with the reverted command. Thus,
    if in BeginCommand it was determined that the thread has changed,
    a `SWITCH_THREAD` opcode is prepared, but then reverted, while the
    command builder would go on, assuming it has switched threads.

commit 88bbc1bcb9f38b595b6b6b2c80fdfb2fc86da2dd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 26 11:54:10 2018 -0700

    Make some gapit flags hidden.

commit ebab37ea8fca7b841b3dc3e1aeb6b79a8d8deca4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 26 11:45:34 2018 -0700

    Clean up gapis' flags.
    
     - remove the quotes around the gapir-args help
     - make some of them hidden flags

commit 3dfb216bdd30ff3187ea5aa57a39dae426425af4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 26 11:39:29 2018 -0700

    Make the runfiles flag a hidden flag.

commit 6b51a87869c1ace1ca22d146f7da772a4f0a0885
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 26 11:38:02 2018 -0700

    Clean up the help verbosity handling.
    
     - Add a -fullhelp flag that causes the verbose help to be printed.
     - Show a message that flags have been elided in non-verbose mode
     - Remove the now useless autoHelp function

commit 3b1f53e2116322cbf824ea9f5b1c6965701339ce
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 26 11:35:29 2018 -0700

    Hidden flags are now actually hidden.

commit ddae44f7e750fd4cc0b7890c06e1556e21b21ed5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Apr 27 13:26:32 2018 -0700

    Allow the user to override the vertex semantics.
    
    Adds a new settings-gear button to the geo view, that when clicked, shows
    a dialog where the user can assign the sementic type to each vertex stream
    of the current model.

commit 7fdd7c749f686c2018c8b15dbc8bed079579260e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Apr 27 10:38:38 2018 -0700

    Allow fetching of a Mesh without any data and semantic hints.
    
    Fetching the mesh without data allows clients to query the mesh metadata
    before deciding how to fetch the data. The semantic hints allow overriding
    of the not-so-state-of-the-art semantic AI guesser.

commit 464e1401a13d85742790b018ac79633ebabd1364
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 6 11:49:06 2018 -0800

    Fix various warnings in the client.

commit 2ac05a8e85908148132fcacf1ef57ef34cb09cf4
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 2 09:30:10 2018 -0400

    Actually construct the final command if it failed in the middle.
    
    We actually add partial commands to the command list.
    This means we can actually display the command that caused a crash.

commit 923ff4ebcf3f7e376e87fbbdfc31deacd21805df
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Apr 27 13:29:53 2018 -0700

    Turn --direct_run on by default.
    
    Now that we're requiring a new enough bazel, make --direct_run the
    default for `bazel run`. This will cause any `bazel run ...` to 1) not
    hold on to the bazel lock, allowing other concurrent `bazel run`s and
    2) use the console stdin, so that `bazel run gapit trace ...` actually
    works.

commit d57ca282579e195deb42ef41255e6b6772cbfec1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 1 12:45:05 2018 -0700

    Remove the manifest_merger rule attribute.
    
    It's been removed in bazel 13.

commit 3ebcfd04da3ba5c8bb8d7ee0b251666533e55816
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 2 08:07:16 2018 -0400

    Added flush buffers mode to GAPIT.
    
    This forces buffers to flush after every write. This allows us to
    get all of the relevant information if an application crashes.

commit 0db11322810000736efd6ea34d7d4a84643e5621
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Apr 30 13:49:31 2018 -0400

    Vulkan: Fix the hang at tracing due to a bug in memory tracker (#1844)
    
    std::prev(some_container.begin(), 1) is an undefined behavior, should
    not rely on it.

commit 54268c5ceef8271c31291695b21867d7ad953301
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 26 10:32:02 2018 -0700

    Allow local override, yet use of our build file, for breakpad.

commit d1e3d117d1a1a0931ddaeada3a7a7dee56f7bd25
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 26 10:24:43 2018 -0700

    Use underscores instead of dashes in repository names.
    
    Some things actually care.

commit ac40722e1409336e00fab8fa208f7dc279b5ef65
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Apr 27 09:07:13 2018 -0400

    Read coherent SSBOs.
    
    We were not doing this, meaning some data was not getting captured
    correctly.

commit 57d06924bc96b2d624dce532a9790f570ef9a9e8
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Apr 25 14:20:19 2018 -0400

    Remap the allocator during replay.
    
    This means we can replace pAllocator with nulltpr when
    necessary.

commit 015f2bf94a6146626c0d61463299cf104722597f
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Apr 24 11:56:20 2018 -0400

    Update to read_framebuffer to allow compute presentation.

commit 363e2ba67f9d5468fdfc6a84d9d807f2e267b0cf
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 24 11:16:18 2018 -0700

    Don't explicitly link with libstdc++, let the toolchain decide.

commit fd7bf0e744324fea3981295a73ef7659d0dabc88
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Apr 23 13:13:59 2018 -0700

    Update to latest LLVM.

commit 8dd82d7c22fc25fdcb80e901feda71691cbd7ef1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Apr 23 16:09:57 2018 -0700

    Use the LLVM libc++ Android toolchain.

commit 0fc79e4652f5b61c3c552daade039137f973bb38
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Apr 23 10:44:28 2018 -0700

    Small fixes to the llvm-build generator script.
    
     - Use spaces instead of tabs in the output.
     - Sort the deps to minimize diffs in the future.
     - Propagate errors
     - Actually ignore ignorable LLVMBuild lines

commit e2d09da9e27a882bb020c9bb5cb32537dc1cfe71
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Apr 23 16:09:57 2018 -0700

    Update the building instructions.

commit 5372b2b7ab229bf66f104cbd278077be8f7ffd50
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Apr 23 10:37:09 2018 -0700

    Build with the Android NDK 16b on Kokoro.

commit 4a31e29c7262968c8698f8c63fed3f54bc07ca98
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Apr 23 10:33:20 2018 -0700

    Build with bazel 0.12.0 on Kokoro.

commit 796bbe973d3aff877ff6b42ad699639d23361d6e
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Apr 24 14:50:54 2018 -0400

    Vulkan: Split the vulkan.api into multiple files (#1791)

commit 6a5bb9079836cb5ea5eab9aa91c2211639d99a6a
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Apr 24 14:41:10 2018 -0400

    Vulkan DCE: Track the use of immutable samplers (#1831)
    
    The read of immutable samplers should be tracked at
    vkCreateDescriptorSetLayout, so that later use of a descriptor allocated
    based on the descriptor set layout will keep the samplers alive.
    
    It is more correct to have the samplers filling in the descriptor slots
    in the corresponding binding/array elements of the descriptor sets
    allocated based on the layout. But this is not necessary, as the
    dependency has already be tracked by the chain of desscriptor set ->
    descriptor layout -> immmutable samplers.

commit 4fb343724d464b0c2c60d11237f4c81e6429f584
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Apr 24 10:06:17 2018 -0400

    On starting a queue-submit, clear the last draw info.
    
    During this submission, we have no valid draw info at the
    start of the submission, don't try and use it.

commit 5825009437d8e37bf242dd29b03bdc22ec01b358
Author: Pascal Muetschard <pascal@muet.com>
Date:   Fri Mar 16 12:49:20 2018 -0700

    Config to build //:pkg without Android.
    
    Use it thusly:
      `bazel build --config nodroid pkg`

commit d08f065ea49257ea29acc7ca2448585c138ba61b
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Apr 23 15:18:15 2018 -0400

    Updated slice method to handle 0-element slices.

commit c2f37f8509ccd0e127b445b968ae689bee8cd90b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 19 13:41:39 2018 -0400

    Don't strip binaries when building in debug mode.

commit c93853d274a82c32f018e20b45f0f3480e9da811
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 23 16:52:40 2018 +0100

    api.go.tmpl: Fix for bad initialization of state.
    
    I mistakenly dropped the use of `Go.DefaultInitialValue` in 8dd34e.

commit 43bcef8ae7a7fb3779398debfdcf409fa9b5a71a
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Apr 19 14:58:40 2018 -0400

    Fix for callback swapchain incorrectly mapping layers.

commit 9bd053265145562f7f109a39a8fc058fc61c1b90
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Apr 17 10:27:28 2018 -0400

    Added a custom allocator.
    
    This allows protecting all memory that was allocated using the
    allocator.

commit b18f87ffd74958e4e4fd80292e5d2567f981c59d
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Apr 19 18:15:05 2018 -0400

    Vulkan: DCE needs to know the images and buffers in requirements2KHR cmds (#1823)

commit 59171df274fb390a596bddb1922ab34b9e1610b7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 12 12:06:56 2018 -0700

    New JS based robot ui.
    
    Still very much a work in progress, but shows the main Robot grid view
    and allows inspecting the trace/report/replay results.

commit b92fec0b0715869c1c096da57d57badad96ed68f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Apr 13 16:43:35 2018 -0700

    Grid data JSON endpoint.
    
    Currently only filters by package and aggregates by subject, but this
    can easily be extended.

commit 7aba9ff910df619724cc825bbb545041cd4218b5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Apr 13 15:13:12 2018 -0700

    Add a package chain JSON endpoint.
    
    Follows the packages' parents from the given head to the root and
    returns the list.

commit 3dd00fa9383b9ea5d9fc18fc83771ab4c3b79417
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 12 14:30:16 2018 -0700

    Remove the outdated angular code.
    
    .. and simply redirect index.html to grid.html for now.

commit a3963adbf25263a8fb988ca7d626e8a9b95e2989
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 12 14:22:26 2018 -0700

    Embed fixes.
    
     - the embed() rule should output to genfiles, since it generates
       go source code.
     - allow the same named files (in different directories) to be
       embedded together

commit 1f15d346c898ee43886cdabf015e812beb784706
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 18 19:27:41 2018 +0100

    gapii/cc: Don't logcat spam when using EGL_KHR_no_config_context
    
    `EGL_KHR_no_config_context` lets a context be created with
    `EGL_NO_CONFIG_KHR`. `eglChooseConfig` will error if
    passed `EGL_NO_CONFIG_KHR`, so don't do it.
    
    This does mean we cannot get dynamic context state for these
    contexts, so for these contexts we will be relying on defaults.
    If this becomes an issue, we'll have to figure out how to get
    this information back another way.

commit 30975a527ef042f2937e5e34f644cff62bf41fb4
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 18 21:50:59 2018 +0100

    Refactor of Go templates
    
    Renames:
    
    `api` -> `œüapi` for the api package.
    `d` -> `œüd` for the memory decoder.
    `œüs` -> `œüg` for the global state.
    `œüa` -> `œüc` for commands.
    
    Removed unused macros.

commit 8dd34eef13d87f1c4da55348c04bfef49c0146ad
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 18 20:50:17 2018 +0100

    api.go.tmpl: Arrange API declaration macros in call order.

commit 38ecd4b637df42da16b7fc637e454fe38f9ffd6f
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 18 20:41:42 2018 +0100

    api.go.tmpl: Don't create enums into a separate file.

commit 471dc17d50b09cda57d8ccdca7ed78a4ed124656
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 18 20:36:14 2018 +0100

    api.go.tmpl: Clean up main declaration macro names

commit 37f285291943a0f81a00adab28f30da0af869fb0
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 18 14:50:16 2018 +0100

    cmd/gapit: Allow 'none' to be an option for --gapir-device.
    
    Sometimes you don't want to replay for a report.

commit 079b7a92fc995eadacb8285063648107e0eab136
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Apr 19 12:28:00 2018 -0400

    Fix for vkGet{Buffer,Image}MemoryRequirements2KHR

commit 1a4f08583f43a88b684122c681801dd2a1f6e34f
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 16 19:58:42 2018 +0100

    Rework API encode / decode
    
    Move away from reflection based encoding & decoding for a more
    explicit template generated implementation.
    
    This is required as the compiler will implement this for us, and
    in the interim, the reflection based approach will not work using
    cgo wrappers.

commit d39ac8a565f3478c3e0bbdf8c75a5656256747a3
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Apr 17 02:16:10 2018 +0100

    Remove pool identifiers from pointers.
    
    The API language allows you to convert a pointer into a slice, not
    the other way around. Because the only way to create a non-app
    pool is to create a slice, there is no possibility of having a
    pointer in anything but the application pool.
    
    This has a number of knock on effects for the API, including
    how slices are read / written.

commit 3d315c85b73b0eeb4beb679a8d34ddfed3b9fb47
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 16 17:00:01 2018 +0100

    gapil/template: Add more go keywords
    
    Add more keywords that should be substituted when generating go code.
    `Format` is a commonly used identifier in API files, so most of this CL is
    changing those usages.

commit d943999bf4b8f78f3ccc0c1671985a11eedec0c3
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 16 16:14:39 2018 +0100

    core/memory/arena: Add context Get() Put() functions.
    
    Putting arenas in contexts is going to be A Thing‚Ñ¢.

commit 901f64a3c8bfc8c65a74b5c4dd807b6ca245e74b
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 16 16:13:59 2018 +0100

    core/memory/arena: Assert the arena is not nil.
    
    Does the check go-side before calling into cgo stuff.
    Makes the nullptr explosion easer to understand.

commit eca98c3862f32faf8f13fe3968eb7c9b8591a1ba
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Apr 13 16:35:45 2018 +0100

    Add Size field to Slices.
    
    Note: This is a file format breaking change.
    
    We've switched between using Size or Count a couple of times now, and
    we currently only serialize Count, however the new compiler relies on
    Size information. Converting between these two requires the memory
    layout with is awkward to get at when deserializing.
    
    Given that we've already broken file formats between v0.1.3 and the
    next release, I've simply added the field and bumped the file format
    version again.

commit 5461c4b8281596ddfd9398b491e6fb0e82fc7730
Author: Ben Clayton <bclayton@google.com>
Date:   Sun Apr 15 12:02:11 2018 +0100

    core/cc: Work around #1788

commit f9364bb44ba4a8e374152081898eb95353a78601
Author: Ben Clayton <bclayton@google.com>
Date:   Sun Apr 15 12:36:46 2018 +0100

    gapii/cc: Fix assert when MEC tracing.
    
    There was a mismatch of counts when `is_suspended` returned true.
    Also added another assert to check the nested counts don't
    climb something crazy.
    
    Fixes #1801

commit be2cf540f0254bd8ad10209cd034b73b7770d2bd
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Apr 13 15:06:05 2018 -0400

    Vulkan: Fix trace crash with Vulkan loaders (#1799)
    
    So that tracing with VulkanSDK loader won't crash.

commit 2ce48b35193aad0406fab8006bc8410e9aeb3d4d
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Apr 13 15:24:00 2018 +0100

    glsl compat: Convert to highest GLSL version accepted by the target driver
    
    With many more apps using GLES 3.1+, we're now hitting the case where
    GLSL 330 is not sufficient. Unfortunately GLSL 420+ is not supported on
    mac (which has been stranded at 410), so forcing output to anything
    above 410 will completely break mac.
    
    The only sensible option here is to give up with the GLSL compat and
    either use a ref-rast, a 3rd party library to convert to metal, or require
    on-device replay. All of these options are substantial work, so for now
    generate code at the highest supported shader level for the given host
    device driver. This means shaders using GLSL 420+ features should
    now work on decent Windows / Linux drivers, but will (continue) to
    fail on mac.

commit 766c03a47e0e05953806c9e90e45bb2ae3625315
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Apr 13 12:48:55 2018 -0400

    Vulkan on Android: Keep VkGraphicsSpy layer around after VkCreateInstance (#1796)

commit 4849645d07fa6283bf17c5010ad1fad25c60d97b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Apr 13 16:37:14 2018 +0100

    bazel: Don't use named arguments in bazel rules.
    
    Fixes build.

commit 0b09e479e554912421d86e70a476f45eae5fb347
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 12 13:31:14 2018 +0100

    gapil: Add cloner compiler plugin and runtime.
    
    This implements clone functions for ref and map types and commands.
    
    Tests require wider changes, and will be submitted in a followup CL.

commit 852cb36643201bb8b0dff32d0f98e25fa8ae77a2
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 12 13:24:38 2018 +0100

    gapil/template: Skip nil values in stringify.
    
    These can occasionally creep in and cause mayhem.

commit 5b298b82193ea743c7b581cfbc49ffd28ee3e304
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 12 13:23:53 2018 +0100

    gapil/template: Add HasSuffix string function

commit 46f2425e95197ea0ed0cf3b76a1383a01db7a13d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 12 13:22:54 2018 +0100

    gapil/runtime: Add more debug logging.

commit 2c5234abaacf1adecb3875dd3db3d1ab72aa7e07
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 12 13:21:18 2018 +0100

    gapil/runtime: Fix behavior of make<void*>
    
    This was incorrectly returning the arena pointer instead of nullptr.
    
    Added tests.

commit 6c496b9cd19f8dc91aa92d9f6dbd802dabcd6f53
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 12 13:13:06 2018 +0100

    Gapil/compiler: Expose command parameter struct type.
    
    So it can be used by plugins. Also add the thread-id to this struct.

commit 7739ca88ceea303215b68988743c82e7fc5eed3b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 12 12:55:06 2018 +0100

    gapil/compiler: Create a bunch of public functions for callbacks.
    
    These can be used by plugins.

commit 8fbafddb54b72e391578cb7de20190df87265e90
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 12 12:52:59 2018 +0100

    gapil/compiler: Remove pointless conditionals.
    
    API.Functions is only commands, never subroutines or externs. This field
    should probably be renamed to avoid confusion.

commit 2138864d28627f4ada3cf72afb86ca1505252a0a
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 12 12:51:21 2018 +0100

    gapil/compiler: Make the MapInfos public so plugins can use them.

commit 3f508f636eb029703782ff9466e542e0e29d235e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 11 18:23:14 2018 +0100

    mangling/c: Include template types in c mangling.

commit 96d8e71accf6424e6baf7f4830932edbbba0e99f
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 11 18:21:56 2018 +0100

    gapil: Move isStorageType function to semantic.
    
    This can then be used by the templates.

commit e2f82259dc3f8063782833022256519892e09fbd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Apr 11 12:31:17 2018 -0700

    Be a bit more descriptive in the OBB permission warning.

commit c2c8ead8b92c54e5a20cf363525cf8a21f2495ae
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 10 15:52:25 2018 -0700

    Be a bit more verbose in robot about what it's doing.

commit 0b2dec3b7e8ded4a64ea31bd2d458e71ea7889e0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 10 14:13:37 2018 -0700

    Handle nested on{Pre,Post}{Start,End}ofFrame calls.
    
    For many devices for GLES, for example, `eglSwapBuffers` calls
    `eglSwapBuffersWithDamage` underneath. Since both of these commands
    are annotated with the frame boundry annotation, the callbacks are
    invoked nested.
    
    With this change, we will no longer attempt to observe the framebuffer
    in the nested call, nor count nested calls as their own frames.

commit 07134e340942af3827d83cc69521016146f62006
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 10 11:34:45 2018 -0700

    Get ctrl-c working again for robot's local master.

commit 5146dd92aa31a81618873a9693d3414099a71566
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 12 11:53:26 2018 -0700

    Quote-escape some innocuous looking paths on Windows.
    
    Windows's copy command has special handling for plus signs in filenames.

commit 7b5570fca15215d2bb9d48f857858b3ade8a54f2
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Apr 12 09:09:37 2018 -0400

    Vulkan: Handle the overflow descriptors at vkUpdateDescriptorSets correctly (#1785)

commit 3b16e56ad0dbbb160de94ec7c27fa02fcdedfb0b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 5 11:45:41 2018 -0700

    Fix a small robot bug introduced in #1777.

commit 6214904e0a5a2c1c0a21d4f8e2f821496ad41cda
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Apr 4 14:57:54 2018 -0700

    Clean up the package info logic for package uploads.
    
     - Allow non-tagged build bot packages
     - Don't get stuff from git for build bot packages
     - Assume non-clean for local packages until it can be verified
     - Get stuff from git, even if the CL is specified

commit e0ede4984056555f821213cccc453b3db781ed49
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Apr 4 14:28:37 2018 -0700

    Be a bit more sane about merging builds.
    
     - don't require a unique tag per buildbot package
     - only merge build bot packages based on CL, since only on the bots
       does the CL capture things like build flags
     - still allow merging using tags

commit e06a5c3c5e507d8b24f463598f34cd27a3503dd0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 3 14:39:26 2018 -0700

    Allow equal comparison of fmt.Stringer with strings.
    
    This makes it possible to query on proto enum fields.
    Also, be a bit more verbose with type mismatch errors.

commit 5b0ddbbb47e9589590d09b40739c9f6c2d4d7b6b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 3 14:38:15 2018 -0700

    The lingo rule should output to genfiles.
    
    It generates source code after all.

commit b1adf57b8df58addd79cdbdc6ac5456a56344726
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Apr 10 10:34:22 2018 -0400

    Vulkan 1.1 Enums and structs (#1781)
    
    * Vulkan 1.1 Enums and structs
    
    * functions already exist in previous extensions and do not alter the state

commit 441a1c215d727890aa95b83de71cb902f0d5432c
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 9 13:03:59 2018 +0100

    Restructure core/data/dictionary to use code/data/generic.
    
    We‚Äôre moving to a world where dictionaries are backed by a non-go map.
    
    Instead of using a `dictionary.Provider` to provide a go-map wrapped by
    a dictionary, check the type conforms to the `dictionary.Source` generic
    interface, and call these methods instead.

commit ea0fc84c2a6797dc237cb58ce00c539796265f7e
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 9 13:00:02 2018 +0100

    Add code/data/generic package.
    
    This package provides methods to test whether a type conforms to a
    ‚Äògeneric‚Äô interface - one where placeholder types can be substituted
    consistently.

commit fd476462065d2e8442c9119068ac8b7c24efe93a
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 9 12:55:07 2018 +0100

    api.go.tmpl: Rename map Delete() to Remove().
    
    More natural counterpart to Add().

commit 5fe11c000900fd863fb8edc48c8490ab12b03180
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 9 12:35:30 2018 +0100

    Maps: rename KeysSorted to Keys
    
    There are limited places where the sorted nature is important.
    As a general naming convention, just use the common name.

commit ed0f836de0fe4a3160fa30124b535c8cd0745dcc
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Apr 4 13:55:59 2018 -0700

    Kill the unused binLayout.

commit 12c6856e5fbc8e71b85ec6ba74b8950df8dd795c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 3 11:58:34 2018 -0700

    Use the standard package layout for robot.

commit 7c3abf7c0da3139bddf99b782b1ef2e0afc3a7df
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 3 11:29:50 2018 -0700

    Simplify the robot build upload.
    
     - removes `robot upload package` in favor of `robot upload build`, with
       the latter taking on the functionality of both.
     - if given a directory, its contents is zipped and uploaded as a package.
     - if given a file, the file is uploaded (expected to be a zip package).

commit 957a56d50298d81ff22dcdffbd25370270d943dd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 3 11:27:12 2018 -0700

    Fix an index out of bounds panic.

commit 8ede2fd0f5dbc0ceec773ddccfb3577d2a3c0ebd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 3 09:56:41 2018 -0700

    Adds a "ZIP view" layout to exctract tools from a package.
    
     - Used primarily by robot to allow uploading of buildbot zip packages
       without unpacking-shuffle-repacking.
     - Allows robot to handle packages for OSX and Windows.

commit ea78a8b1575285fde9f85cf2a3aa3a2cf2a5e89c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 3 12:30:03 2018 -0700

    Fix a compile error in robot, oops.

commit 346c1b87e5809e181843b26038b60fe079e77c80
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 28 16:17:20 2018 -0700

    Fix subject trace-time vs capture-frames handling.
    
    If no number is given for the observe_frames hint, don't override the
    trace_time hint.

commit 7ab42587a2a8c2032b69637c6d41c02a6f59866e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 28 15:59:46 2018 -0700

    Update the device info in the ledger each time a device is found.
    
    In case the first time the device was seen, the information was incomplete.

commit 2be616423453ff528a4fb05f67aebc2aa76b3c90
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 28 14:45:22 2018 -0700

    Add the gapid APKs to the robot runfiles.
    
    Robot needs them to identify devices.

commit 9294597e4997016aa08e88efe25d5071c0c4d1d1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 28 14:44:50 2018 -0700

    Fix the ABI to APK mapping for the runfiles layout.

commit 4eece7dc9fe90cf8635627e1470504d7f7ddb53d
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Apr 3 13:58:37 2018 -0400

    Vulkan: Prime data for storage images (#1770)
    
    Prime data for storage images so that we won't need to add an extra TRANSFER_DST usage bit to recover the state for mid execution capture

commit edbf7057c49ddfbcb10573e00dee9938af455143
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 28 12:51:54 2018 -0700

    Allow local repo overrides in the gapid_dependencies macro.

commit 1471cc4192f8d379e25280597485143bc48cf674
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 28 12:17:15 2018 -0700

    Fix a bad merge that brought back com_github_google_protobuf.

commit 3ae3b5f33c383e8bf3de620e21ddcec5b03e80db
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 29 09:38:01 2018 -0400

    Enable compiling GLSL to SPIR-V (#1768)
    
    So that we can compile shaders in GAPID. The first use of it is generating the shaders used in priming image data for Vulkan mid-execution capture.

commit cdd25f3e39c181e586d8d068c5fa3ac6a798c662
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 28 11:05:38 2018 -0700

    Clean up the test tags and add a test_suite rule to run all tests.
    
    `bazel test tests` to run all tests.

commit 61ecc69ba0168d1e6a364315e66f52455c430c6c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 27 14:23:12 2018 -0700

    Add test rules for our C++ tests.
    
    ... and get them passing.

commit d454bab57bfe7d19431615e1d3e93ad83e6cbc58
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 27 14:20:10 2018 -0700

    Clean up -ldl.
    
    Only add it to libraries that actually directly need it.

commit 4c78975c1583cc3a49d8a81bdc87e2346255eded
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 27 14:05:18 2018 -0700

    Use the github repo rule for gtest and name it correctly.

commit f5708fff8664b77172eabd223b6b137b58469645
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 27 13:03:31 2018 -0700

    Move the GLES DCE test to the gles_test package.

commit 3f88862d8e832a634c92d5e2578462155d1ae2dd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 23 16:36:01 2018 -0700

    Make all other tests pass.

commit 9fd3095191cd104b5f6cfd54ee7fd28f7de22b48
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 27 10:57:19 2018 -0700

    Get the replay integration tests building and passing.
    
     - the integration tests require to be run outside of the sandbox, though,
       as they otherwise generate GL_OUT_OF_MEMORY.

commit f1222ae489a9ea52e1ea6d1b86adfddbe88a83da
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Mar 26 13:41:19 2018 -0700

    Handle unboxing of dictionaries inside containers correctly.
    
     - Adds a test that fails when run at HEAD, because of incorrect handling
       of unboxing of dictionaries in containers (structs, slices, maps, and
       dictionaries).
     - When boxing a type that is a dictionary, box it as a map to mirror
       the boxing of values of that type.
     - When copying to a slice, initialize the destination slice with its
       type rather than the source type.
     - Fixes the //gapis/capture test as it was failing due to the unboxing.

commit f5fa72522000b8e15bc154dbe18b269fba156e4c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 23 15:11:06 2018 -0700

    Rerun gazelle.

commit 1b445b6137ef46efed17154ae31da7d5a4e4d5b4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 23 14:50:12 2018 -0700

    Minor structural changes to satisfy gazelle.

commit 4154e3bc453ee1f23cc6dc186793ca2bcdc4b783
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 23 13:15:50 2018 -0700

    Add runfiles support to the client.
    
    `baze run gapid` now runs the client.

commit c67f48c99eb415753eaceb0903c9aba9649c3734
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 23 13:12:55 2018 -0700

    Cleanup the client's tool finding.
    
    Removes the side effects of the static findTools function.

commit d88f6db99e2e9e522fae679f5d38c09ad2efc216
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 23 13:08:40 2018 -0700

    Add --jar flag to gapid executable.
    
     - Adds a new --jar flag that can be used to specify the gapic JAR file
       location, overriding the default $PWD/lib/gapic.jar.
     - Removes old cmake based gapic.jar finding logic.

commit f3e7c43addf6fc5e4c2cc5c941133a90ffb1b80e
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Mar 28 10:45:50 2018 -0400

    Fixed replay on machines with dual-gpus.
    
    Our device remapping code was completely broken.
    Fixed this bug, now we can replay on machines where the
    gpu index changes.

commit 27959993319cf768be1d1930023ea595108f9a6a
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Mar 27 14:50:32 2018 -0400

    Incorrect surface types were being exposed.

commit d911080866a1fd42e2aa2b208d441b0b6e183d0b
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Mar 26 17:02:30 2018 -0400

    Vulkan: Prime stencil image data (#1756)

commit ea23fc7cd4460f89e1c990f9044496f9d8034d78
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Mar 26 14:10:27 2018 -0400

    Vulkan: Cache the pipelines used for priming image data (#1750)
    
    Also refactered the priming logic

commit bbf18303913c45e4c3726f2cd76f07879c0531fc
Author: Pascal Muetschard <pascal@muet.com>
Date:   Fri Mar 9 23:14:46 2018 -0800

    Deal with long file names once and for all.
    
    - Adds wrappers for gcc and ar that fixup paths into the
      \\?\ form, so they are not subject to the ~250 char limit.
    - Uses a slightly newer version of rules_go, which has some
      long path fixes.

commit 6b16e36f1136cdfd0506bf759233016b98f25278
Author: Pascal Muetschard <pascal@muet.com>
Date:   Fri Mar 9 14:43:14 2018 -0800

    Refactor our WORKSPACE into callable macros.
    
    This makes it possible for other projects to inlcude GAPID in their
    bazel build.

commit dbb7e58454a2c0c02b571f052a524142d600d468
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Mar 17 12:56:33 2018 +0000

    bazel: Don't strip the gapid executable
    
    Work around for #1753.

commit 1cd4af0c76f14de3aeb8f7af441c88bd9d871bef
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Mar 19 17:51:43 2018 -0400

    Vulkan: Fix a crash at VkDestroyImageView (#1751)
    
    A crashed revealed by our async_compute sample

commit 89000258bb33b8e5a9ed4c4d7e59cd5a1abefd0d
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Mar 17 12:53:53 2018 +0000

    bazel: Update glslang to latest
    
    Includes support for `GL_NV_shader_noperspective_interpolation`
    
    Fixes: #1681

commit 164f590da1cc441890a821b23f06e83d1e16fc69
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Mar 15 16:35:35 2018 -0700

    Update to a newer version of SPIRV-Tools.
    
    - Also update SPIRV-Headers
    - Updated the SPIRV-Tools generated code
    - Added a readme outlining how to upgrade the generated code
    - Moved from spirv/1.2 to spirv/unifed1
    - Updated our code to work with the new SPIRV-Tools
      - debug sections were split
      - ir::Module is now wrapped with a ir::Context, which is required to
        construct instructions
      - it++ -> ++it ... the pain is real
      - set_options was renamed to set_common_options
      - other random small API changes

commit b18cafafe2beb4c026a901d37922059d3acbfb9e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Mar 14 17:18:19 2018 +0000

    gles compat: Replace GL_BACK to GL_FRONT for glDrawBuffers()
    
    We only render single-buffered at the moment.

commit f00b839ed9794cd59ebc9d6bc50d925dfd96086c
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Mar 14 17:16:07 2018 +0000

    gles compat: Handle unaligned buffer modification when bound
    
    We have to jump through hoops to support replaying on targets where the
    minimum uniform alignment is smaller than the trace target.
    
    There was a TODO for handling the case where the buffer is kept bound
    while the buffer is updated. This CL fixes this case.
    
    Issue: #1563

commit 2b8d0e705e6a78e929f6c626658676d4e51886cb
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Mar 15 17:27:57 2018 +0000

    gapic: Fix average calculations.
    
    This caused some exciting tonemapping bugs.

commit f37a0edbc01584a7387cc7bd0ffb591c85e467e3
Author: Pascal Muetschard <pascal@muet.com>
Date:   Fri Mar 9 23:14:46 2018 -0800

    Use latest rules_go package.
    
    It no longer uses com_github_google_protobuf, so our work around for it
    can now be removed.

commit 2205f959e9a41caa367003e27d3587b2b9dc5411
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Mar 14 11:36:16 2018 -0400

    Vulkan: Prime depth image data (#1739)
    
    If the depth image has TRANSFER_DST usage bit, copy into it through
    buffer.
    
    If the depth image can be rendered, render to it using an staginge
    image.
    
    This does not prime the stencil aspect data unless the image has
    TRANSFER_DST bit.
    
    This CL will make the trace file larger (as more data is recovered) and make
    the replay slower (as more images to be primed).

commit a9fd5270c6e1b196b6e1db773e76667a627e502b
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Mar 13 07:13:36 2018 +0000

    Update glslang and spir-v cross

commit 206a92c2fedbd2d02b824b246745e1fc45d2d31d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 6 13:49:44 2018 -0800

    Fix support for bazel runfiles in the package layout and strip rule.

commit fe05479c5c9dc738052343016d1aef8ec67892da
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 6 12:27:32 2018 -0800

    Make the strip rule executable and add some aliases for bazel run.

commit f06f1f784475cb26de29f0d5fd662dfb8e684ba0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 6 10:58:00 2018 -0800

    Stabilize the shader and uniform order.
    
    Fixes #399

commit 3faf39f88236505ca93148c5b6a32d74d6427cf1
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Mar 12 14:51:11 2018 -0400

    Vulkan: Fix miscalucation in BufferImageCopy (#1742)

commit 4830f686e82196e037477e1d943da029f405655b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 9 17:08:11 2018 +0000

    gapis/api/gles: Fix panic when calling DataTypeSize(GL_INT)
    
    Rename the file, and refactor another place we were calculating type size.

commit cbdf70d549bcd96a5d5ddd64462451d72f2b895f
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Mar 12 12:17:15 2018 +0000

    gapii: Fixes for PCSs
    
    * Fix bad encoding of commands when PCS are diabled. Commands should be a group.
    * Also handle `ARB_get_program_binary`
    * Fix compiler warnings about missing brackets around program hashes.

commit 0fce02f114d34f5cc9fa2c5a94c178981dee9461
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Mar 12 13:47:25 2018 +0000

    gles: Log compat errors to the report view.
    
    Few people will look in the log view to find the reason why shader
    conversion is going wrong.

commit 8537f40b0d70c4d5c8345f230ce1bb9c96192a05
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 9 16:58:31 2018 +0000

    gapil/compiler: Add functional compiler tests.

commit 24e0a2b20ef7cb61b26c704ccac952cfb4516ffc
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 9 16:57:40 2018 +0000

    Add gapil/executor.
    
    Used to execute API functions in a Go environment.

commit 54dc0e59d7fffa18c4e69afddd6ff591c13ca41a
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Mar 9 12:18:58 2018 -0500

    Vulkan: Handle D24 format correctly (#1735)
    
    * Vulkan: Handle D24 format correctly
    
    For D24 format with either X8 or S8 channel, the depth element size is
    different for copying through buffer and storing in the image. We need
    to manually strip the MSB byte when processing the data if the data is
    retrieved through buffer image copy.

commit a729b0ca72b2a9fffa208577578725345695ed72
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 8 19:24:48 2018 -0500

    For storage bit images, we still need to prime their data by copying (#1728)
    
    The fallback mode should only be dropped when the feature is implemented

commit 6fbceb559d6b4abaa003486fc7b67ddb6f2ad061
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Mar 7 07:54:29 2018 +0000

    cmd/regres: Transpose output stats and add % diffs
    
    Fits more data on the screen.

commit 33cab807351efe8d70ba1b1e2dbce05432c341b2
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Mar 6 20:42:29 2018 +0000

    cmd/regres: Add trace stats.
    
    Does a capture for one minute and then gathers stats on:
    * Number of commands
    * Number of draws
    * Number of frames
    
    Depends on #1720

commit cc2237489b1c9050fa7b53789f9f76c335d570cc
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 8 13:36:01 2018 -0500

    Merge depth and stencil image data for resourceData (#1732)
    
    Fix #1724

commit d28080d53ba24dd51e739a19a880b26c6bbd27d4
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Mar 7 21:39:13 2018 +0000

    core/java/jdwp: Overhaul of the JDWP library.
    
    Add a debug mode which prints every send and recv.
    Add string helpers for the majority of the message types.
    Flesh out thread-reference APIs.
    Reimplement the event request API to be more strict about thread suspension.

commit 020af7112746272ac7ed7b2c5b664a9de370b454
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Mar 7 15:49:59 2018 -0500

    Re-work encoder.go so that it generates correct armv7.
    
    It looks like the code is correct in both cases, but previously
    the instcombine pass would make armv7 generate incorrect
    code that would end up overlapping the memory locations of
    root and base, causing incorrect values.
    
    We should still check to see if anything else can cause this,
    but for now this unblocks tracing on armv7.

commit c46f94aa73c6d1fbb513eca5be399c65762998ef
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Mar 7 16:56:45 2018 -0500

    Add an 'ImageAspect' layer to the chain ImageObject->ImageLayer->ImageLevel (#1724)
    
    Now the chain is like: ImageObject->ImageAspect->ImageLayer->ImageLevel.
    
    This is to prepare for copying and priming data of depth stencil images.

commit da1c158d71e7e6409581edeb74e1b521260d6bb0
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Mar 7 15:58:03 2018 -0500

    Fix a crash in VkDestoryDevice caused by destoryed images (#1727)
    
    This CL is actually a bandaid, we need to guard all such cases for all
    handles in future.

commit 28a17ff4400f4a8e8b8878e1027773fc3d6ada50
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 6 14:49:05 2018 -0800

    Allow a custom fuse-root for gofuse.

commit 7b7e629ea4924bd7bc18359096c41f4affaad847
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Mar 6 20:42:12 2018 +0000

    cmd/gapit: Replace useless info verb with stats
    
    Gives you command, draw and frame stats for the capture.

commit 0ef40ada250053bf3828641ebcfa7e52db353299
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Mar 6 19:40:27 2018 +0000

    gapil encoder: Un-inline write_zigzag
    
    It's used everywhere and produces masses of code.

commit 9d1c854d55df4c5aabae8647129453b7d54c7b74
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Mar 6 19:39:39 2018 +0000

    cmd/apic: Add option to dump IR
    
    Useful at peeking at what we're attempting to compile.

commit 2e6af73c3538731f80f2d4b996b8c44dbe5b249d
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Mar 6 17:44:06 2018 -0500

    Priming color image data by rendering to it (#1656)
    
    If the state block image does not have VK_IMAGE_USAGE_TRANSFER_DST_BIT,
    but has VK_IMAGE_USAGE_COLOR_ATTACHMENT_BIT, we can rendering to it to rebuild the
    state.

commit f1dad3a5fa30add9f65e12366fa29d48ec70ec0a
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Mar 6 17:43:17 2018 -0500

    Should use VK_BUFFER_USAGE instead of VK_IMAGE_USAGE (#1706)

commit 4ba3bfd8af52066d5f7d598875ac5f05647a2ca3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 6 11:18:17 2018 -0800

    Allow range selections in the command and state trees.
    
    Fixes #1066

commit 3f3475d3a73960567a70a4d3b1eb75a407d700c6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 6 10:46:19 2018 -0800

    Move the Eclipse setttings into the right place.
    
    With bazel, the Eclipse project for gapic needs access to the bazel
    output folders (for the generated code). The eclipse project
    configuration of the client was already moved previously, but not
    the settings.

commit 3a70a3bade601df9ee97648a608d4f5de1014d19
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 6 10:44:41 2018 -0800

    Don't add quotes to strings in the state "detail" view.
    
    Fixes #767

commit 47bb3f1728907e9213278342df184ed0f30c28c7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 6 10:27:24 2018 -0800

    UI support for the -android-additionalargs trace flag.
    
    Allows the user to specify extra arguments to be passed to am start.
    See: https://developer.android.com/studio/command-line/adb.html#IntentSpec

commit 3528d48bae19649b18864f31e596971fdc055d19
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Mar 6 11:45:16 2018 -0500

    Work around a "feature" in mesa.
    
    In mesa drivers (at least those shipped with Ubuntu 17.10) they
    dynamically link against libLLVM-*.so. This means that since we a
    static version of LLVM, we get name collisions on llvm, and
    subsequent failures. Instead of all of this, preload libLLVM*
    with RTLD_DEEPBIND before we even try and load libGL.
    
    This means those llvm symbols will not try and resolve
    any of our symbols.

commit 0d84997a12e75cc4cadd13e1ea14144980bca2cf
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Mar 5 13:08:09 2018 -0800

    Re-enable macOS symbol dumping.
    
    Disables the sandbox when building on Kokoro for macOS, which makes
    the symbol dumping work.

commit 37f25a808dc9f78ff65f07a65c8bc142af4c621c
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Mar 5 05:13:27 2018 +0000

    Add cmd/regres

commit 227bc2cc8f65f205ce96ae787e9213cb6d3a755f
Author: Pascal Muetschard <pascal@muet.com>
Date:   Fri Mar 2 17:28:57 2018 -0800

    Disable symbol dumping on OSX, as it's sadly broken.

commit f11fdcd21243b0409d7e472ec78d68df4c3ec2c3
Author: Pascal Muetschard <pascal@muet.com>
Date:   Fri Mar 2 17:27:59 2018 -0800

    Optimized build and symbol dumping on Windows.

commit 6e5d16388f6f26353096a739bb1373a2f124f123
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Fri Mar 2 13:47:17 2018 -0800

    Update BUILDING.md

commit 9e3872f56ab280248c85d1e739e4526a6609cbdd
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 19:13:45 2018 +0000

    gapii: Optimize apic generated encoder code.
    
    Disable the `FunctionInliningPass` for now - seems to make compiles crazy slow.

commit 8b1da6a40ff383b70dc3c682ce3e5b493c9a462b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Feb 1 12:47:48 2018 +0000

    Switch from protoc encoding to api compile encoding

commit 3ff5101e75a2d4f9de0f1cebadb79c4c2ecd3069
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Mar 2 16:03:26 2018 -0500

    Fixed a NPE on image destroy.

commit e73ac48f4e98981aff455dd793182c41116266a1
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Mar 2 10:41:00 2018 -0500

    On device destroy clean up presentation and submission images.

commit b45397ba47f9298876948b19e5b48bae2a398ccc
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 20 07:43:51 2017 -0700

    Handle GL_MAX_VIEWS_OVR in glGetInteger.

commit 0c50b23186d22c44ca30366aa16a0d997aa08099
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Feb 27 16:22:57 2018 -0800

    Generate the symbol dump files as part of the build.
    
    Not yet enabled on Windows, because on Windows passing "-g" globally
    fails, due to running out of sections when compiling protoc generatd
    code.

commit 70d23b318fe7a9151fdace336b063d6a0e8c1c76
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Feb 23 14:30:14 2018 -0800

    Symbol dumping for macOS.
    
     - Rename the OS specific crash_handler.cpp file, so that dsymutil
       can find the .o file, since there would otherwise be two
       crash_handler.o files in the .a file, which dsymutil can't handle.
     - Update the symbol dumping rule to first invoke dsymutil to create
       the .dSYM directory used to dump the symbols. For this to work, the
       sandbox prefix has to be removed from the debug paths to make them
       relative, so dsymutil doesn't try to access things from a no-longer
       existing sandbox and choke. This needs to be done by passing
       --copt "-fdebug-prefix-map=<prefix>=." to the bazel invocation.

commit a207bd2b290d743f86224f5b2e3a95d071191df5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Sat Feb 17 14:01:40 2018 -0800

    Symbol dumping for Windows.
    
     - Ask the linker to embed a build-id, which creates a tiny debug
       ID segment in the output, which is read by the OS when creating
       a crash dump.
     - Create a repository rule for the breakpad library that applies a
       patch (if on Windows), which removes the ELF dependency from the
       symbol dumping code, which is only needed for "split DWARF",
       which we aren't using anyhow.
     - Add a new symbol dumping utility that supports reading Windows PE
       files. It looks for the above mentioned debug ID segment for the
       identifiers and uses the linux DWARF symbol dumping code to read
       the symbol information from the debug segments.

commit 62d53604168951aba85694324eed471d4f456220
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Feb 27 11:33:49 2018 -0800

    Symbol dumping for cc_binary rules for Linux.

commit ba17ab3b5bf58cd7ce8c39ec0ccdcf454d213c77
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Feb 13 18:13:16 2018 -0800

    Build rules for breakpad's dump_syms utility for Linux and macOS.

commit 44604700a831d48968980830c2bf339085398b32
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Feb 13 18:13:16 2018 -0800

    Strip binaries (executables and shared libraries).
    
    Currently doing this for all shared libraries and gapi[drst].

commit 42f00d6aaac1237384e9aa204ab0fc945fd459ab
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 2 09:30:28 2018 -0800

    Init the go rules repositories *after* all our go repo rules.
    
    This is so that ours will always take precedence.

commit 85f4b7b040d7a9ad499f29e4be1869aea06000c1
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Mar 1 12:05:38 2018 -0800

    Only set build type to BuildBot when Tag is present.
    
    There were some strange edge cases where uploading a local build would
    set the build type of the artifact to BuildBot. Specifically when using
    the go_robot_go script which specifies base CL when uploading local
    artifacts.

commit abe7908954cc8b987978fb4a190ac07414348cf9
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Mar 1 11:56:46 2018 -0800

    Switch default subject upload to be frame based.
    
    It is much more useful to specify the number of frames to capture when
    tracing a subject in robot, since there are a minimum number of frames
    and some traces run at a very low framerate (gvr titles especially).
    This change is to make the control script use frames to observe when
    uploading subjects, as well as in the robot trace client, make sure the
    captured frames lines up with the number of frames to observe. The names
    of variables have been updated to reflect this.
    
    To ensure we capture this number of frames across many situations, the
    default trace time has been extended to 10 minutes, which should only
    really happen if there are far too many frames to capture, or the trace
    has an issue freezing the app.

commit 6f31be24b8142f9c312ece5243512c12d84755e1
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Feb 26 19:04:05 2018 -0800

    Adds robot control script.
    
    This is a script I've been using to control robot. It starts a
    background process to swipe on each phone every minute to keep them
    awake and unlocked, then starts the master server. It also supports
    uploading the local artifacts, uploading subjects (autodetecting obbs
    and vulkan api, as well as overriding the trace time), and cleaning the
    shelf and stash. There is also support for manual testing by handling
    the install/uninstall of apks/obbs and starting the client for you.

commit 9d9cb7b749e090bd8fa33b36a355223c5878f5d1
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 16:53:12 2018 +0000

    core/codegen: Only add COMDAT for windows targets
    
    macOS doesn't like it.

commit b30cb2b58f0ff491700f6838559a9936bcd46196
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 10:47:45 2018 +0000

    core\codegen: Set comdat for LinkOnceODR()
    
    Fixes duplicate symbols on windows builds.

commit 2ec72377bd86946141213ce3babae48027a80295
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 10:47:11 2018 +0000

    Switch to a private fork of LLVM that exposes COMDAT apis.
    
    I intend to upstream these changes shortly

commit 2ecfa7ba1dac03e09ade084076fcd825c86847e0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 10:48:19 2018 +0000

    core\codegen: Yet more tweaks to the windows triple.
    
    3rd time's a charm.

commit 58c39573e5f51a106c12ca4d21cdf24a26436e03
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 10:48:36 2018 +0000

    gapil/semantic: Add String() methods to the semantic types.
    
    Greatly helps with debugging. No idea why it took us so long to add
    these.

commit bb23a6d3f5ef1bfd330e94f987ed7b5d9e337d69
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 11:17:58 2018 +0000

    gapil\compiler: Fix Ref!T mangled name

commit 49c898ba04078f0171411d5e872fa33f481e32a7
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 10:49:02 2018 +0000

    ia64: Fix mangling for class template members.

commit 32cbf1ba386bfc47cec617754602ceed33465e42
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 28 23:40:34 2018 +0000

    Add gapil/compiler/plugins/encoder/test.
    
    Tests the encoder plugin.
    Sits in its own package as it requires non-test cgo logic.

commit 69bd0803eb21d6e494b45fbbbec28fa1dd110629
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 28 21:36:40 2018 +0000

    gapii: Put the state into a single state field.
    
    Instead of flattening them into each Spy.

commit e18da56fec3c70b2da0cab2a767d4afdab051497
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 11:24:52 2018 +0000

    gapil\runtime: Debug print to the logger.
    
    Printf isn't always visible.

commit f5453993fd3dc000991c785fdb2e50d269cda7e4
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 2 11:24:25 2018 +0000

    core\cc\log: Write to OutputDebugString if on Windows

commit a9a89da9de6a6fe0511f55591927d36720a949c6
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Mar 1 16:06:49 2018 -0500

    Clean up queues and LastBoundQueue when we destroy a device.
    
    Otherwise we will try and create framebuffer requests
    after a device has been deleted.

commit bee3e6d63bccc41581cedbeb3d57deea0cf786d1
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Mar 1 11:24:19 2018 +0000

    deviceinfo: Do not explode if there's no GL driver available.
    
    Taking the changes in #1658 further still.

commit 0702cf75ffd2ca5df1c3ea38f965f2623bfed7b9
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 1 12:52:09 2018 -0500

    Skip tracking the data dependency of destroyed framebuffer images (#1657)
    
    * Skip tracking the data dependency of destroyed framebuffer images
    
    * invalidate the image view and image in the api file
    
    * also invalidate the image info in the descriptor sets

commit 87695fe42335678f2b6b7eff394fd60f0b5d6999
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 28 20:22:13 2018 +0000

    jdwp-loader: Drop workaround for N preview.
    
    There's devices that will only work with System.load() now.

commit 892901ad521ea8e5efb1a535d82c8f65a98a5dea
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Mar 1 12:50:40 2018 +0000

    core\codegen: More tweaks to the windows triple.
    
    mingw64 has its own way of doing things.

commit 9701aabba37c1c1f62b9fe8fd242a5759265eed9
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 28 23:36:18 2018 +0000

    code/data/compare: Deref pointer diffs
    
    Previously it would just display two hex codes when it was actually comparing the pointee's data.

commit 48b291a290880bffbdd903fd9c1a3f90b7044774
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 28 23:34:02 2018 +0000

    core/memory/arena: Fix cdeps.

commit ebbdc3262c199a10bcebf1f8c5a6c2eb49579a11
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 28 20:29:37 2018 +0000

    core/os/device: Declare ABIs for OSes we care about.
    
    These were fluffy definions before, where some memory layouts were actually incorrect.

commit 8d94c214c1cbf22fd12ec169c5b7947f73fbacf9
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Feb 28 12:44:51 2018 -0800

    Fix SXS video batching.
    
    Previously the regular video source batched replay commands by 32
    workers, but the side by side source just used a waitgroup to request
    all of them at once. This ran into an unfortunate issue with Vulkan
    replays in particular where memory would run out and we would get only
    empty replay frames back. The fix is to use similar batching logic when
    requesting frames in the side by side video source.

commit 5b5b1318daf246fe3408c03dfaa0480263bfe386
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 28 20:34:41 2018 +0000

    core/codegen: Fix triple for windows.
    
    Mingw64 has its own magic triple.

commit 4bec15dd48f9b81e8af97e4e967b513cf388dca0
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 28 20:32:34 2018 +0000

    cmd/apic: Add x64_windows target

commit a79969a56f6ddbcafcb34560b9b8d8d4aff98ccf
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Feb 27 16:41:38 2018 -0800

    Fix several issues running Vulkan replays on robot.
    
    GapidAPK would previously freeze if it was relaunched by GAPIS when it
    was already running. An unbroken infinite while caused an ANR issue from
    the looks of things. Another issue is that it seems that GAPIS mistimes
    sending the connection request when relaunching the apk. The current fix
    for this is just a bandaid to get vulkan running on robot, by
    force-stopping GapidAPK after the robot task finishes.

commit 2dfda9eed40f416911539a4cb14228efc2444833
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Feb 28 10:37:40 2018 -0500

    Update from comments.

commit 22b0196b8fce146dcd6cbe29bdff415cb692a3b0
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 27 12:59:10 2018 -0500

    Remove the link-time requirement on libX11 and libGL.
    
    This is only on Linux. Now gapid can be built/run without
    libX11 being present on the trace/replay device if it is
    not required.

commit 57b50695dfbf150687c21fb5845fdf64f3dd2057
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Feb 28 13:31:15 2018 -0500

    Fixed a silly mistake. Not sure how it didn't get hit by the trybot.

commit 6f66913c5ae0389ebcb33a650e17762c17175c61
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 27 13:47:08 2018 -0500

    Move hash.h into its own file and use std::enable_if

commit dce1cc82ffa646618925e10825a905beb699a9c7
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 27 10:57:13 2018 -0500

    Updated our hash implementations to match getween go and C++.
    
    This is eventually necessary, it gives us the added bonus
    that for a very common case (hashing small sequential integers),
    we will get much better behavior.

commit 4ceeef0481ce7efa29f55e435169132e6cbc486f
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 27 15:53:24 2018 -0500

    Add instructions to get ADB to build instructions.

commit a5ba87ee7fd95dcc4535c4024b8d00b222104418
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 23 10:19:15 2018 +0000

    Protos: Simplify maps and drop the '_pb' suffix.
    
    Move maps out of nested proto messages and into their own top-level messages.
    Having the maps nested meant there was no possibility of reusing the map type.
    
    Drop the '_pb' suffix from the proto package name as there's no good reason to keep this, and changing this later will break the file format.
    
    This is a file format breaking change.

commit 41e94feb9bb1fc19093b80953703339ef370da19
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Feb 15 18:09:18 2018 +0000

    Don't use string in cmd parameters and emit consts.
    
    We were using a mix of string and const char* in the api command signatures.
    This is a nightmare to deal with in templates and even harder with the compiler.
    Switch all command signatures over to using const char* which is more self-consistent anyway.
    
    This is a file format breaking CL.

commit 57c5bb5c49b7857f3a3a55dcfd4b633ff05a7869
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 23 19:09:24 2018 +0000

    Bump the capture version

commit cf2e2e7c1e286099e58e1213afcb05e2e29f62d4
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 27 18:59:24 2018 -0500

    Fix maps

commit 756f13bf9b6b3f4b527fb1590cfb92637c70910b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Feb 27 12:44:37 2018 -0800

    Ensure the manifest hasher gets all of the Java source.

commit f384eb5a774314d8bc2865db191ec4486afab3af
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 27 20:03:02 2018 +0000

    build: Fix gapid.apk hash not being applied on windows.
    
    Partially fixes issue where APKs are not being pushed to the
    device (there's another issue we're trying to uncover)

commit b320ea97b9c7b47feb61405a1bbd5ab8a7f0edc1
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 27 10:05:57 2018 -0500

    Add an assert to the compiler for map sizes.
    
    We require that they are a power of 2, otherwise we have to fall
    back to a slow % operator, instead of &.

commit 780eb0507cb51b0f56674a80d288734ba5f6f29a
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 27 09:56:44 2018 -0500

    Clean up the build rules slightly.

commit 359e3878bbb8a2c3addd63a63044dad3a30271b5
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 27 09:02:58 2018 -0500

    Disable arena tracking in libgapii.
    
    This is a significant performance improvement.

commit ccdf900f8e4175cab7faa23bc0f054c6bcd18255
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Feb 26 14:42:36 2018 -0500

    Mod(%) on arm is particularly slow.
    
    Replace % with bitwise arithmetic. This helps reduce the
    performance regression seen between 1.03 and master.

commit 91c223bb05eb4b8b5c4d78094f5cdcb437cc9cd8
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Feb 26 18:47:03 2018 -0800

    Fix for large text preview in web client slowdown.
    
    Attempting to preview a log file that is very large (due to verbosity
    and logcat) could cause a really long hang in the web ui. This adds a
    quick check to limit these previews to 1MB or less.

commit 2a56d0ae1a8612765b676f7b93f6e7c57d647c86
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Feb 27 01:02:31 2018 +0000

    Shorten some bazel rules to avoid cgo paths hitting windows limits

commit c7f4a8ec64bcec6cc5f618efc1569d6dbd097d32
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Feb 27 00:33:04 2018 +0000

    llvm.BUILD: Put the cgo deps into a separate cc_library.
    
    This is a work around for failing builds on windows as the
    previous rules resulted in cgo.exe being called with too many
    parameters.

commit b17f8a8801dfa3679d7adbaf26a01d1fe37d367c
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Feb 26 16:47:29 2018 +0000

    bazel: Add apic_compile rule.

commit 0f6572ffcc112a149f25e6a12f694c59f0a4fb3c
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Feb 26 16:46:34 2018 +0000

    cmd/apic: Add new compile verb.
    
    Uses the gapil/compiler framework to produce object files containing the
    exec and encoder functions.

commit 5ab40fee8c96cf87b052945b929337b6f9f29ab0
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Feb 26 16:45:25 2018 +0000

    Add gapil/compiler/plugins/encoder: A proto encoder compiler plugin.
    
    This plugin produces encode() functions on each of the API encodable
    types (classes, states, command parameters, command calls).
    
    This allows us to completely replace the protoc generated code for all
    the API defined types.
    
    The serialized format requires the format changes listed in #1643.
    
    Tests will be submitted once #1643 lands (without that PR the tests
    will fail to compile)

commit ac8ee3e1504158b332e4ee2cf33456397ff9e3e1
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Feb 26 11:21:01 2018 -0500

    Create aligned pool for image and recover/prime layer by layer (#1644)
    
    This is to unify all the cases.
    
    When recovering the image data from trace side and priming the data to
    rebuild the state, we calculate the staging buffer offset by the aligned
    size. So the pools must be created with the aligned size.
    
    Also when recover/prime the image data, create image buffer copy layer
    by layer so that we don't need to assume the boundaries of multiple layers
    in one copy are aligned.

commit b57d4cef5ff2d115db9e3a6d20cce3e6ab57bcd1
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 23 18:02:09 2018 +0000

    Add Dedupe to core/data.
    
    Dedupe returns a new byte slice containing the concatenated bytes of
    slices with duplicates removed, along with indices that map slices into
    the into the new slice.

commit 5bb3ea7bbe12fc2680be59ceee021d2a7467b70e
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Feb 23 15:07:58 2018 -0500

    Fix leaky maps.
    
    We were failing to call child destructors on member on
    destruction.

commit 7b70d4a9fc94883d704f1560acc2544f3bdf2246
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Feb 23 11:16:49 2018 -0500

    Fixed a bug with map iterator++.
    
    We were derefing end() which is invalid.

commit 00bc3c784c9691f595734cea23cff77cea747685
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 23 15:22:23 2018 +0000

    Run gazelle

commit 6bbd5ec467b202eb739b87555092a0aecc8727ef
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 23 15:09:07 2018 +0000

    Add gapil/compiler package.
    
    Implements a true compiler for gapil .api files.
    
    Co-authored-by: AWoloszyn <awoloszyn@google.com>

commit 5406e602127adce65f957459d75d339c4418217b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 23 15:06:02 2018 +0000

    Add more functionaltiy to core/codegen.
    
    Add:
        Builder.Negate(x) to return -x
        Builder.Select(c, x, y) to return c ? x : y
        Builder.Memcpy() for a memcpy
        Function.LinkOnceODR()
        Function.LinkPrivate()
        Global.LinkPrivate()
        Module.Extern() for declaring an external global
        Uintptr and Size types.
    
    Fix Builder.Return(nil) logic
    Validate LLVM target data matches our ABI representations.

commit 6b09b6d73a9a7767398d438116d4a7e01fb11d45
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 23 15:19:24 2018 +0000

    WORKSPACE: Add gtest.
    
    Fixes C++ tests in gapil/runtime

commit 1cbd79982fc73c7038c3b3c309b30c7136af4ccb
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Feb 19 19:26:14 2018 +0000

    cmd/apic: Remove unused dependency generation logic
    
    With the switch to bazel this is no longer used.

commit ce4decc364a9c9dd6c969d3d1640c83c42ed34fe
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jan 19 17:33:58 2018 +0000

    bazel: Rename apic to apic_template.
    
    apic does more than just templates, and we're going to want it to start compilin' stuff.

commit 261805f18c823f23323e62f2e63af2369aacb505
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Feb 19 19:21:16 2018 +0000

    Call XOpenDisplay(":0") if there's no default display.
    
    This is a workaround for the bazel sandboxing that hides the
    default display.
    
    Fixes tests that use deviceinfo or perform replays.

commit 9a133a0ed223d517c3c5330397d1323a67f6d1d3
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Feb 19 14:55:01 2018 +0000

    gapii: Switch over to using gapil/runtime types.
    
    This CL migrates the following types:
    
    std::shared_ptr<T>    -> gapil::Ref<T>
    std::string           -> gapil::String
    gapii:Slice<T>        -> gapil::Slice<T>
    gapii::SharedMap<K,V> -> gapil::Map<K,V>

commit 2cb0d8bc379bcef62fa17ff4c22cd7bf37ebb9b7
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 13 14:48:33 2018 -0500

    Some minor fixes / adjustments for the Vulkan api.
    
    This allows the vulkan API to compile more easily.

commit 69d425567542bb2ba70582c6cb6eaf75dc548ebb
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Feb 19 11:41:46 2018 +0000

    Add gapil/runtime/cc.
    
    This implements the core logic and bindings for the gapil compiler.
    
    Co-authored-by: AWoloszyn <awoloszyn@google.com>

commit 3b77812a22574347edcd8c160de91f2bfbfec767
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Feb 22 13:28:10 2018 -0500

    Added the ability to supply am start flags to gapit.
    
    The gapit part of what is needed to support #826.

commit 11e56ff49bf9428eb81d97ecea4976cb835377c4
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Feb 22 10:28:59 2018 -0800

    Cleans up some of the logcat output.
    
    Enabling logcat capturing during a trace will cause the whole system to
    dump informational levels of logs, and ignores debug and verbose
    messages from GAPID, so a quick change makes logcat produce warnings and
    above from non-GAPID logs, and verbose and above from GAPID. The other
    change is to clear the state of logcat before monitoring, and to force
    all logcat messages to be printed on stdout such that it does not
    produce an error in robot.

commit 0a1be56a8825437719b4b8abd9c119a287c75d4a
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Feb 22 09:58:09 2018 -0500

    Allow DlLoader to have multiple fallback names when searching for a library (#1635)

commit 15ce46cbf225c28deec2a39ac925b02dc2abb1b9
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 13 13:24:53 2018 +0000

    Revert "Fix compare package for reference types"
    
    This reverts commit 033175b345273d03085190b055e8a92c5cee8f08.
    
    These changes cause differences to be reported for identical
    structures under certain circumstances.

commit a72e370049e2bcdc653f32b318f9c8f6847f47d4
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 20 10:26:39 2018 +0000

    llvm: Don't use strip optimizations in debug
    
    We care about performance in debug builds, less so size.
    
    Worse still, the linker options pass down to the final executable, causing stripping on things outside of LLVM.

commit ab06d6aedb5399727daca4bdfa3b31aac777edad
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 20 16:06:25 2018 +0000

    Add core/text/cases package.

commit abf3ab878b2ea5d30a601a2348c86ff82428293f
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 16 10:25:50 2018 +0000

    Optimize LLVM libs always

commit 850e595aca7645bd1664e0d2c7035e169f685b57
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jan 17 11:13:47 2018 +0000

    gapil: Remove labels from the language.
    
    They were only used in one place (GLboolean).
    
    Add a new optional numerical type specifier to the enum declaration to cover this single usage.

commit 8c15555c6860f8c071f9583e8ac1c01a7862cac0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 16 20:47:08 2018 +0000

    Update BUILDING.md
    
    Drop the JDK step from linux - this installs with Bazel.
    Add other dependencies that were missing on a fresh Ubuntu install.

commit 59dabc51d2bcd570a200c700453956827ec5ac38
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 16 13:20:01 2018 +0000

    core/cc: Add GAPID_ASSERT_MSG
    
    Includes a custom message in the assert.

commit 04514f11136bc63f7bbb4c0c954c6a220fb43bc6
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 16 13:13:27 2018 +0000

    Add gapil/compiler/mangling and c, ia64 packages.
    
    Provides a very minimal mangler to let the compiler implement C++ methods directly, instead of requiring a C++ -> C stub.

commit 18a5cb46fbd8ef56faa5e8ee9afb62d52161e061
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Feb 12 14:47:04 2018 -0800

    Adds minimum frame limit to gapit video and robot.
    
    Previously if a capture contained very few frames the video command
    would happily output a super short (or even empty) video. This change
    produces an error when the video command encounters a capture containing
    less than some minimum number of frames. Specifically it allows robot to
    show a failure when it encounters this, making such errors more visible.
    The command currently defaults to 1 frame minimum, and robot requires 10
    frames to not fail.

commit d13cd9f3ceb997ef841731ba5b88f805ed37408c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Feb 12 15:19:43 2018 -0800

    Only build LLVM targets required for the platform.
    
    Significantly reduces libinterceptor.so size on the various Android
    platforms: 2MB for X86, 4 MB for armeabi and nearly 5MB for aarch64.

commit e84a859a7b087452f5de7a0b0ffc5072c6b60460
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Feb 9 15:48:15 2018 -0500

    Removed the extern execPendingCommands.
    
    Move this into the API file. This removes the need for all of the uses
    of "any" in the API file. It also removes all uses of function pointers.
    
    All of the logic has been moved to the API file and a smaller set of
    callbacks that are used to provide the same functionality.

commit 4f2735f71836f6dde91d61ef30288e3ba0e6aae5
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Feb 12 16:16:13 2018 -0500

    Only fail if a recursive function has a fence within.
    
    This was causing a failure if a recursive function needed to be pre/post
    fence, even if it did not have a fence.

commit c901729d4c00ffa3663f6e347eeca6ad4fe63bb6
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Feb 9 15:47:07 2018 -0500

    Allow recursive functions in the API file.
    
    This only allows them in the case where there is no fence
    in the function.

commit 541f380d3567fa3291c40caacafcd2db381bb0c8
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Feb 7 11:49:30 2018 -0500

    Removed some functionality that is no longer needed.
    
    This was added for the old version of Vulkan MEC, which has been
    removed.

commit f7c1378c7461aa8e48ea68d7833f4809a1c4434f
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Feb 7 14:48:15 2018 -0500

    Removed no longer used actual-submission.

commit 02af0bd151be36860b126642b1088bf6a345371a
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Feb 9 13:17:12 2018 -0800

    Fixes for Robot on Bazel.
    
    This change enables embed to use a relative root path in order to
    correctly configure filepaths when embedding. Also fixes the globbing in
    the robot web build file to be recursive. Some fixes to the replay
    client and the web client as well to get better logging information.

commit 2fb28f7e633f2c3de7798fdd4573fc28881b987b
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Feb 9 15:47:41 2018 -0500

    For android, fail the compilation if we have any outstanding symbols.
    
    This causes android to fail silently, making it very hard to diagnose
    issues.

commit dd08aca78106b13b919bb6a78b63674a9682e61f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Feb 8 16:21:49 2018 -0800

    Find things via bazel runfiles for gapis and gapit.

commit 28f3bbba64a75cea006195184110e83b5151034e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Feb 8 16:19:08 2018 -0800

    Stringgen should generate to genfiles.

commit 796db9634eb89ed9caf94e35ba14a2428092be51
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Feb 8 11:19:02 2018 -0800

    Couple of fixes to the mingw_toolchain.
    
     - Mark it as fully static, so it won't ever create .so files. Needed to
       fix go_binaries built directly, which otherwhise depend on the .so
       files in their runfiles
     - Add an empty cc_wrapper rule, which the go rules depened on, allowing
       `blaze query` to work.

commit 0a66365adedc1c4d183ab439a31ff349bf637a3d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Feb 8 11:09:32 2018 -0800

    Find gapis using the layout package.
    
    Has the additional side effect benefit of showing a decent error message
    if gapis is not found, rather than just ignore it and trying to execute
    `--enable-local-files`.

commit d100507c32e1d244a47b27817e7ff032a7c77039
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Feb 8 10:22:10 2018 -0800

    Update rules_go to fix a build issue with some of go rules.

commit cb72a36d920cc8a967487c51e7b09e6be618df67
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Feb 7 15:27:29 2018 -0800

    Use bazel 0.10.0 on all platforms when building on Kokoro.

commit aa81b63222f294a4be0c908d739a697bd4a1d0c1
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 7 11:30:27 2018 +0000

    Add core/codegen package.
    
    Package codegen provides an interface for code generation using LLVM.
    
    codegen provides a higher-level and simpler interface for generating AOT or JIT code than using the LLVM go bindings directly.
    
    Co-authored-by: AWoloszyn <awoloszyn@google.com>

commit 551ba55b1b8df67f4be545cdfbcf2bd86a2ed335
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 7 12:44:17 2018 +0000

    Add core/memory/arena.
    
    Arena is a native memory allocator that owns each of the allocations made by Allocate() and Reallocate().
    
    Used heavily by the gapil runtime.

commit 86e80ded32d6095e33693cf4f86cfd2661b666ca
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 7 16:00:15 2018 +0000

    Fix for vulkan replay.
    
    I broke this in be626590, as the function table skipped over `pfn` annotated functions, making the function indices go out of sync.

commit 6141cb305eb043693169a138f651d54268f787ee
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Feb 6 13:45:54 2018 -0800

    Update the building instructions.
    
     - GOPATH and GOROOT don't actually need to be empty
     - We don't need the android-27 platform
     - Ask people to install bazel (and msys) before modifying msys
     - Tell people to install bazel on macOS and Linux

commit 0a6df403f778cc8961dbc8c4c353b6fbcbf74c32
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Feb 6 13:42:46 2018 -0800

    Automagically configure mingw on Windows.
    
     - No more need for `--config mingw` on Windows
     - No more absolute paths:
       - uses %CC% if given or looks for gcc in the %PATH%
       - uses gcc to figure out the system include paths

commit 46b071ba0e98bbb39d50a8a0718af10c31ac9bde
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Feb 7 09:41:36 2018 -0500

    Removed -lGL from deviceinfo linker options.
    
    We no longer statically need -lGL to build, we link to it at
    runtime.

commit 73c66d41d016246b0f1cde7ed0def3f81cd55163
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 7 00:15:07 2018 +0000

    gapir: Fix warning about field initialization order.

commit ef60aab83281fbe3ede5892e8d7b64d6e91bdb78
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 7 00:14:51 2018 +0000

    core/cc/log: Fix crash due to repeated use of va_list.
    
    vfprintf can act like it calls va_arg, which means we have to make a
    copy of the va_list if we intend to use it a second time. As we call
    vfprintf in a loop, we certainly do.
    
    Fixes another crash seen on osx.

commit 0bb760cf8571c936081c0d431272a545a56cc4e8
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Feb 7 00:12:38 2018 +0000

    gapir: Fix osx crash on High Sierra.
    
    This one liner magically fixes an assert deep in the depths of the macOS
    framework. Don‚Äôt ask me why.
    
    Fixes: #1593

commit 31ae419d789ee6420acfefd910658abe4e591c8f
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 6 20:11:50 2018 +0000

    gapir: Roll the API function table into a loop.
    
    Fixes a stack overflow in non-optimized builds.

commit 1c7be96b3aaefaaba474b684edeb946aa3cd8910
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Feb 6 16:17:22 2018 -0500

    Fix templates.
    
    There was a merge issue with the new MEC stuff and Bazel.
    Bazel was missing some template generation that was necessary to
    properly read a trace that was created with mid-execution capture.

commit 83c3a1a45148647309e702bd65f91eacdab04f21
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 6 22:58:06 2018 +0000

    Update README.md
    
    Update the 'running the client' documentation.

commit 153e072882217c001d7f7066be05b1e19c711667
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 6 12:29:54 2018 +0000

    core/app/crash: Fix a crash in the crash handler
    
    If the crash report fails to send, we'd end up taking down the entire server.
    
    As reported in #1580.

commit aadbdf0d63f8664b8f3f10da867158a9eeae4435
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 6 12:36:46 2018 +0000

    llvm.BUILD: Strip MIPS, add rules for gobindings

commit ce1370c8524f990d051d64618a01cc9570839bc7
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 6 12:42:42 2018 +0000

    .gitignore: Remove *_embed.go rule
    
    These shouldn't be found in the tree any more

commit 875764a04030fa04c9bf35918392fdf0d328ed84
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 6 15:51:25 2018 +0000

    Update BUILDING.md for Bazel build system

commit 08d97694422c22a16aeba2aead4cafc75876443f
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 30 13:32:29 2018 +0000

    gapii: Don't explode if glGetString returns nullptr.

commit ec04dd6c23cf79ea86d04c9302efabc85fa2ae4f
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 6 13:11:27 2018 +0000

    Stub BUILDING.md while I write the new instructions

commit 68f6128d01c2bb2047c3ef03ff1b0c6754f6362c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Feb 5 14:10:54 2018 -0800

    Switch to building using Bazel.
    
    For a complete history of changes see
    https://github.com/pmuetschard/gapid/compare/8d3d93dc59ce83047475ebe3e90a8acf7fc3d063...bazel

commit 40b5f2354f7677281b89f1c9d8fdbd9460cea761
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Jan 31 16:46:43 2018 -0800

    Robot: fail on output to stderr from tasks.
    
    An error inside gapit no longer results in a non-zero return code to
    robot, this means that the only way robot detects failures is if the
    calls to run gapit itself fails. This change now separates capturing
    stdout from stderr and any non-empty stderr buffers will cause robot to
    report a failure. This fixes some regression in robot causing false
    positives.

commit 8d3d93dc59ce83047475ebe3e90a8acf7fc3d063
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Feb 5 14:57:49 2018 -0500

    Update from some comments

commit 1d9c95d3f2f2e0dd05052fa428033f38c778d83c
Author: Qining Lu <qining@google.com>
Date:   Thu Jan 25 16:08:09 2018 -0500

    ViewportCount and ScissorCount should be set even viewport is set dynamically

commit 94b815e19e5f887df9ad12f5716aebacb120e343
Author: Qining Lu <qining@google.com>
Date:   Wed Jan 24 12:12:19 2018 -0500

    Truly delete descriptor sets when destroying descriptor pools

commit 433ad500853230a21751276819da43c6d504d642
Author: Qining Lu <qining@google.com>
Date:   Wed Jan 24 11:54:44 2018 -0500

    Add some comments and minor fixes

commit 03030ce61738ae6be564582507415730c64391ae
Author: Qining Lu <qining@google.com>
Date:   Wed Jan 24 11:22:28 2018 -0500

    Skip creating descriptorsets whose pools are not valid

commit 7d28e0e800d5a5aaf02157163827e1fe2eb56a76
Author: Qining Lu <qining@google.com>
Date:   Tue Jan 23 10:23:15 2018 -0500

    Remove some error msg in the log view

commit beea037deec56c991dfcfbf946c3e6f569113d60
Author: Qining Lu <qining@google.com>
Date:   Mon Jan 22 16:43:14 2018 -0500

    Work around app bug that dedicatedly allocated handle bind to
    non-dedicately allocated handle.

commit e5ba0820ecbc2c8506764afb057cb5a7b150945c
Author: Qining Lu <qining@google.com>
Date:   Fri Jan 19 16:19:52 2018 -0500

    Handle the semaphore/fence signal/unsigal operation tirgger by
    vkQueueSubmit more correct.

commit 54d058c3fa9b1a6b51c2dc379ad307cc877daf3f
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jan 19 04:49:58 2018 -0500

    Removed unistd, which isn't on windows.

commit 5e5836cb8ca84352ef8cc1fc594f2ac9aacfbf81
Author: Qining Lu <qining@google.com>
Date:   Thu Jan 18 18:00:25 2018 -0500

    Fix missing write to the semaphore signal in footprint_builder
    
    When the queue submission does not contain any commands, the signaled semaphore
    label still should be written.
    
    And for the wait semaphores, the submission will unsignal the semaphore,
    so it is a modify to the label, not just a read.

commit 5453c385d6511fb072a7f74c671d12400c545025
Author: Qining Lu <qining@google.com>
Date:   Wed Jan 17 13:53:51 2018 -0500

    Fix missing semaphore signal
    
    Also, recover the inheritance info of command buffers and bring back the
    missing layout transition for images that have mutiple samples or
    not-color aspect.

commit 2f381a7dd50b474cc63203f60dd0b9357155ffdd
Author: Qining Lu <qining@google.com>
Date:   Tue Jan 16 12:48:37 2018 -0500

    read flush memory command data, instead of write

commit 2b07bd2728afc891cedc18b18b3428375244b501
Author: Qining Lu <qining@google.com>
Date:   Tue Jan 16 12:15:18 2018 -0500

    update cmakeproto.cmake to fix build

commit b31ce85b87ffa7323d62c607f629109f404ff4db
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jan 12 15:48:03 2018 -0500

    Cache generated commands, and fix a bug with pools.
    
    When we re-create pools we do it through the observations.
    Therefore add a single 0-byte observation to each pool.

commit 8c5b753367a2f4f03d845036274a0164981a2774
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jan 12 11:17:32 2018 -0500

    Actually track coherent memory in the new mid-execution capture.
    
    Also work around a validation warning in read_framebuffer.go

commit 627757d8d956c40c3baa31696dd9fb6f381f4f5c
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jan 11 15:57:18 2018 -0500

    Format vulkan_mid_execution.cpp

commit 6029c5cd46c72c3b420f17c6cf7e2e8ce27dc98c
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jan 11 15:14:42 2018 -0500

    Fix image offset calculations.
    
    This fixes textures in the UI.

commit 618e055b6e7ea48b7cdb642cf0eaabdd08b8b416
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jan 10 16:31:34 2018 -0500

    Get the fence values from the driver before we serialize state.

commit 4b0524cb397eb3bf544acfe380aca222cc6e565e
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jan 10 09:46:09 2018 -0500

    Remove some no  longer needed code

commit 2890d87177a148f26fcaaae63adf7eadfb73967d
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Jan 10 09:37:33 2018 -0500

    Reserve the memory ranges needed by the initial commands.
    
    This will instruct the allocator to not allocate over the memory
    ranges needed by the initial commands.

commit d152b67679da8b7b345e16e0d7100cfe32a973ac
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Jan 8 13:37:01 2018 -0500

    temp

commit 1d5c65bd71464bdd7992dcf990f0a9306814ba66
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jan 2 13:49:31 2018 -0500

    Let the vulkan early-terminator understand about MEC.
    
    Now that we serialize state, we have to let the early-terminator
    know that is it running with extra commands. This is so that the
    sync data matches the actual command list.

commit 550bb7e6bd571bf7fba587773b216369577250ba
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jan 2 12:05:53 2018 -0500

    Fix the command-tree for commands that are recorded pre-MEC.
    
    This will create a virtual command when a subcommand is requested.

commit bf1ba13be62e82d5e6dac896778ce3cac88ed618
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Dec 15 14:16:07 2017 -0500

    Added command-line tool to linearize a mid-execution capture.
    
    This re-writes the capture so that the state block at the start is
    replaced with the commands needed to generate the state block.

commit a04f5d852ef7dcd7a3036546a853d4ad42385ba7
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Dec 15 10:09:27 2017 -0500

    Removed unused function in the vulkan.api file.

commit 6d682f1f8343344aa28f31b60487de43923ff9d7
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Dec 12 15:49:24 2017 -0500

    Fixed dead-code eliminiation with the new state serialization.

commit bdf90284606645f7cf097eff26ce7f12080f4e85
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Dec 12 14:22:14 2017 -0500

    A couple of cleanups for spy

commit b0d22f820c276c87e717ecb330260df2e9486300
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Dec 12 13:47:14 2017 -0500

    Fixed the re-creation of descriptor sets.
    
    We were accidentally removing all buffer descriptor sets. This was
    causing replays to fail.

commit 05c5254e8e0b53b7224899887187a19582ce7811
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Dec 12 10:47:47 2017 -0500

    Updated replay/framebuffer observations to handle the new DCE.

commit e2ff4797e3cee13a6b3724d2b1096a1a95843efc
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Nov 28 11:02:58 2017 -0500

    Serialize/deserialize state for Mid-Execution capture.
    
    Instead of passing across synthetic commands, pass across the
    entire state block. This allows us to more efficiently handle the
    state block on the server side.

commit 3ee91a75965f80d150c67afda93e10ee754e27d6
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Feb 1 14:01:57 2018 -0800

    Fixes for  OBB support.
    
    APKs that already have READ/WRITE permissions for external storage will
    give an error if you try to request it again. We don't need to fail the
    trace in this case, so ignore it. Released APKs actually store OBBs in
    <external_storage>/Android/obb/<package_name> so now we use the correct
    path.

commit dfb30ea34c82108f5a9b0cb459d84d4017a52733
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 30 10:55:50 2018 +0000

    Bump GAPID version to v1.1.0

commit 18c1dd2257940b84f1cf5db4ad6824d374d2c9bc
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jan 29 14:16:17 2018 -0500

    Remove an extra call to set dispatch key for using validation layers (#1577)
    
    The line removed here should have been removed in my last commit, but
    somehow it was not.

commit cd0ff0d170f291a24941a2dd60b174eaf1f1b8b6
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jan 26 10:54:16 2018 -0500

    Set dispatch table key for dispatchable handles created in the virtual swapchain layer (#1572)

commit 9814d93b8b61bf56621136ca5790e59cbcb13326
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Jan 19 17:06:41 2018 -0800

    Switch robot web client to MVC model, add defVals.
    
    This change is largely refactoring and juggling code into a framework
    that can be ported more simply over to javascript. Following a MVC model
    the page struct and some other methods have been moved and split between
    a view and controller struct that separate the concerns. The controller
    handles setting values in response to input, the view handles displaying
    those values in the selecters and the grid.
    
    defVal() is added to the dimension struct in order to have some method
    of defaulting values when first entering the page.

commit f07d00901460f6bb08ffcbe2aed6872be11e0610
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Jan 25 13:55:21 2018 -0500

    Bug fix for tracking Vulkan layout transition and image aspect (#1573)

commit 61f96bb6428ba2d4516a77c32b07b76a6504cf26
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jan 22 08:14:33 2018 -0800

    Remove gapis/api/.vscode

commit d973886275e22a24ae120b4b39219453d469ce21
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jan 22 09:04:14 2018 -0500

    Do not replay Vulkan Debug report commands (#1566)

commit be01c8ee95d42e19768af3ed6243695821a6d8cb
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jan 18 14:58:29 2018 +0000

    gapii: Only read ANativeWindowBuffer.layer_count on Android O or later.
    
    Fixes: #1554

commit 640019990ed0da7dc4927d4e04f426356723e78c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 16 13:59:30 2018 +0000

    gapil/resolver: Cleanly print global names in error messages.

commit 80246dc1b0721d363678cb10c0c10be1a673278d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 16 13:59:07 2018 +0000

    gapil/resolver: Resolve Class types before globals.
    
    Fixes resolving dependency issue.

commit 932cb03180a68993e2609ad2b1bbc91e4d90a68c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 16 13:58:32 2018 +0000

    deviceinfo: Standardize ABI names.

commit ac5e920302242363e6a4e3ad1f76dab57d8f8ed1
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 16 13:58:09 2018 +0000

    core/data/binary: Add Write() method for writing POD types.
    
    This sort of thing has been done many times throughout the codebase,
    but much of this should be deleted soon with the compiler work.

commit 292f589600426d1b869568a43fcc053cd1c67e45
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 16 13:57:07 2018 +0000

    core/cc/log: Rename log to logf, add vlogf

commit 9020160d2b27f48c2cc530b7cab413bf3425b7d6
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 16 13:50:48 2018 +0000

    core/cc/assert: Add GAPID_ASSERT_MSG - an assert with printf like msg.

commit cd8b8508934e512f4610b7b1be0fa315e097c03f
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Dec 8 14:57:23 2017 +0000

    gapis/replay/builder: Mask the label instead of dropping
    
    Commands with IDs larger than 26 bits were getting dropped. This was especially annoying as derived IDs that come before the true ID were not being emitted.

commit 6061288ba4d25ffd62ca25fbee0911acb9a415da
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Dec 4 21:00:10 2017 +0000

    gapir: Log the command that caused a GL error.

commit cb1c910fd11c0c04587600cdfa9a6fc5df9bf268
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Dec 4 20:59:53 2017 +0000

    gapir: Only attempt to resize if the context already existed.
    
    Warn if the format is changing - this will likely destroy some state.

commit d89d5051dc2523ce29dc6bec66a43d297a86c3ab
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Dec 4 20:56:46 2017 +0000

    core: Let CrashHandler have multiple handlers.
    
    Use this to temporarily register a handler that prints the command that caused the crash.
    
    Massively helps diagnose where things went bang.

commit 986f81bf4fc5f2bc513527eab7dcbd4a6c9db3b9
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jan 17 11:47:03 2018 +0000

    gapic/UpdateWatcher: Don't check for pre-releases.
    
    Longer term we should probably have this on a setting.

commit 6bb344b8506838a4a0e9a8cc3b0b2c55f8bbd450
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jan 17 12:23:38 2018 +0000

    gapii: Whitelist another PCS hash.
    
    Issue: #1525

commit 338f34f911b8dba8db2498e0405a3ef428c01f17
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 16 18:04:32 2018 +0000

    gles/tweaker: Don't panic if GetCapability aborts.

commit 55bd3d94ed200cedd0194c33fbae7ada12ab6ede
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jan 16 18:04:08 2018 +0000

    gles: Error if DrawBufferIndex is OOB for queries.

commit 59d77e2609335ef2a4d7ce219cdd7eebb0a43649
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jan 15 16:52:05 2018 +0000

    gapii: Fix type for ANativeWindowBuffer::layer_count.
    
    I have no excuses for why I got this wrong first time.
    
    Fixes: #1508

commit 6b1b88ab9b9dd8ae41bc57ce696543ddfc5d7ec5
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Dec 14 14:58:03 2017 +0000

    analytics: Add trace target device info

commit 54c25c085adabbd15332155c53af351619513fdb
Author: Yuly Novikov <ynovikov@chromium.org>
Date:   Fri Jan 12 17:01:48 2018 -0500

    Fix crash in ApplyLinkProgramExtra
    
    Access to i.ActiveResources.DefaultUniformBlock used to crash
    when glLinkProgram failed, because i.ActiveResources was null.

commit 60b18c34501e4eefd9beb168210d71353a46f217
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jan 15 14:28:15 2018 +0000

    glTexParametervX: Implement GL_TEXTURE_BORDER_COLOR for floats.
    
    Still requires int flavors - this will probably require a type switch.
    
    Fixes #1545

commit 53d6f4b61f4422349afec18bdc8787683d9d81c5
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jan 15 14:26:25 2018 +0000

    gapil: Permit non-zero indexed pointer reads.
    
    As discussed in #541, we were intentionally forcing the developer to go
    via a slice, but TexParameter!T would be horrible to implement with this
    constraint in place as T can be a static array or slice.
    
    Fixes #541

commit d125e825564d1e2120f67e3f291b27f910785b65
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jan 15 14:23:54 2018 +0000

    gapil/resolver: Error if you attempt to slice a static array.
    
    This would previously be ignored in the resolve stage, producing invalid template code.

commit fc5df857a80ef9a02872cb9aeb4d1a0e8a8c01ef
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jan 15 15:52:06 2018 -0500

    Fix a bug in Footprint Builder for VkFlushMappedMemoryRanges (#1543)
    
    In case of the flush target is a coherent memory, the truly overwritten
    memory is not the range specified in the memory ranges in the arguments,
    because the trace side only capture the memory observation for the truly
    modified page. Using the memory ranges in the argument to update the
    footprint may cause incorrect overwrite in the unchanged data specified
    in the memory ranges.
    
    Also added some api commands not covered in the footprint builder.

commit d988a81dcfd0ba14947314efd9727c4a80a39cc9
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jan 12 11:57:43 2018 -0500

    Close Flock files if cannot acquire the lock (#1541)
    
    * Close Flock files if cannot acquire the lock
    
    When trying to acquire a flock, close the file if it fails.
    When removing lock files, in case of files cannot be removed, records
    a list of those files.

commit 17d908132a976dafa904cb001fb57620afe117ec
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jan 9 12:02:14 2018 -0800

    Fix the Windows Kokoro build.
    
    The image has been changed to default to version JDK 9, which is not
    supported, it seems, by gradle, and with a new version of the Android
    SDK tools, which deprecate the android.bat script.
    
     - use a fixed Java version
     - use the sdkmanager to update the SDK

commit 4246e4abe2ad1208688e3ffa5d6c05b28b4eebce
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jan 10 23:18:52 2018 -0500

    Add Vulkan support to Robot tester (#1449)
    
    Also:
    * Add Vulkan device info to trace header.
    * Fix issue: #1448.
    * Unset debug.vulkan.layers once the layer is loaded by the Android
    Vulkan loader (after the first vkCreateInstance)
    * Add timeout to Robot tester trace/report/replay
    * Add File lock
    * Add captureframes to Robot tester subject uploading command

commit 466c81794fdc57624565d29905f981b614b7d036
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Dec 8 10:52:09 2017 -0500

    Remove the compile-time dependency to libGL on linux.
    
    Instead of linking at compile-time to the .so file we load the
    symbols dynamically. This means we can run on machines that only
    have Vulkan.

commit 8d05b17b0dcd81db17294eb8b579d4966d018807
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jan 8 10:24:19 2018 -0800

    Remove the build dependency onto opengl32.dll from deviceinfo.

commit 356b3dd17be36804ad1aacedb37302bf24fc1872
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Jan 3 16:01:31 2018 -0500

    Fixed segfault in deviceinfo for Vulkan.
    
    If we have layers after VkGraphicsSpy and VirtualSwapchain,
    we would read out of bounds in a proto.

commit 13a00a4b6b62ff503ed05a23b2261f4f10fd8ddb
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jan 3 09:46:30 2018 -0500

    Reworked memory functions to rely less on reflection.
    
    This re-orders the methods so that we can decode memory much quicker.
    It brings decoding time down for Vulkan traces by ~75%.
    
    When we do have to do reflection, optimize it such that the interfaces
    that must be matched are smaller.

commit f69c79191a593495909760612b40edb4fbbf91de
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jan 5 12:07:02 2018 -0500

    Updated the virtual swapchain to remove the weird dependency.

commit 2ee4032e55f9980e281cf91afa0c54a19f8ca93a
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Jan 4 12:27:09 2018 -0800

    Adds pulling OBB to pullAPK.
    
    A few more commands were needed to allow pulling the OBB from the device
    when an APK gets pulled, and a flag was added to allow skipping the OBB
    file during a pull if not needed.

commit d5e0731723fb921f0253c897e465039c6ce1f2a6
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Jan 4 12:03:09 2018 -0800

    Moves OBB methods to InstalledPackage, address nits.

commit 28dc17066d35884367c6be992b24869a7d90b8dc
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Jan 2 17:00:31 2018 -0800

    Removes OBBs after tracing, grants R/W permission to APK.
    
    To remove the OBB when finished we add a deferred call to clean it up.
    Also the APK may not have specified read and write permissions for
    external storage as it seems the Unreal install scripts typically add
    this as an extra step, so we grant it as well, only if there is an OBB
    though.

commit e666b5077a3ddadd6b33dc44a05419d4499a7251
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Jan 2 16:44:05 2018 -0800

    Add upload option for subjects with OBBs.
    
    Passing an obb file via the `-obb` flag to `do robot subject upload`
    will now upload the file and append it's id to the subject specified.
    This does not work with multiple subjects as there isn't a clear way to
    associate obb files with their subjects, so this is explicitly
    disallowed.

commit 9692241c1eecc1606b566e3249c55b8fa70a4856
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Dec 18 17:29:11 2017 -0800

    Add OBB support to robot trace and scheduler.
    
    Robot trace input and subject protos now take an OBB id to send to gapit
    when necessary.

commit fab37856f3561da2ae9aa4d1d55e382dbb86acd8
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Dec 18 17:00:25 2017 -0800

    Add OBB flag support to GAPIT.
    
    In order to install OBBs to match an apk we must push to the correct
    directory on the storage device, and rename to patch the package name
    and version code.

commit e42d3e26e77f0bee59c1ce34733526d389256f46
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 29 15:46:14 2017 +0000

    gapis/resolve: Make framebufferAttachmentInfo public.
    
    We were exposing the `AttachmentFramebufferChanges` but without any way to use it. Move `getFramebufferAttachmentInfo` as a method of `AttachmentFramebufferChanges`, and make `framebufferAttachmentInfo` public.
    
    I turned out not to need this in the end, but I feel the API is cleaner this way.

commit 80a57fbcdf05f9e05c0b64be32d3aeed2da2ba2a
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jan 4 14:23:57 2018 +0000

    gapir: Fix crash on gles replay
    
    As the documentation for dl_loader states:
    
    // For *nix systems, a nullptr can be used to search the application's functions.

commit aa29ee7072fbb4f58407c56a624f0ce13f0d5bbc
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Dec 8 21:33:45 2017 +0000

    gles: Stub functions for GL_EXT_direct_state_access

commit fa133069447a625454d6d8c2185f8dedca4a32ca
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jan 2 09:26:38 2018 -0500

    Added a TempSlice mechanism that does not copy.
    
    We hit a bad edge-case where a ton of strings were being used,
    We were allocating and freeing these new ranges a lot, and they all
    ended up being large. Instead, return a temporary slice into the
    original range. During the StringSlice, there is no opportunity to
    modify the pool, so we can save the pressure on the GC.

commit f6dec16e7ae4804938fc429ed75cfa09eac165f8
Author: Qining <lqn.anthony@gmail.com>
Date:   Sat Dec 16 13:06:37 2017 -0500

    Add VulkanDriver to the device::Instance trace header (#1501)
    
    An empty VulkanDriver will be created along with GL driver and other
    generic information if Vulkan loader can be found. Real content of
    VulkanDriver will be populated in the first vkCreateInstance call of the
    tracing application.
    
    When VulkanDriver is populated, another header with updated
    device::Instance will be sent (ID rehased also). Decoder of the trace
    file should always use the latest header.
    
    States of VulkanDriver in the header:
    1) Does not exist: The tracing device does not support Vulkan.
    2) Exist but empty: The trace does not contain vkCreateInstance, the
    trace should be replayable on all ABI compatible Vulkan device.
    3) Exist and not empty: The trace contains vkCreateInstance, replay will
    be initiated only on same vendor/device/api version device.
    
    Also: use the -gapir-device to select the device to run gapir

commit a73055607d187a3fa496106fd112abfceb494980
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Dec 14 15:07:16 2017 -0800

    Fix the stubs for building with crash reporting disabled.

commit fee637c1f7c28979c536b7da6326bea888185395
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Dec 14 09:54:03 2017 -0800

    Address nits.

commit b06d26c5c71f3595b247d28e219c407087dac850
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Dec 13 11:17:27 2017 -0800

    Deletes minidump file after reporting from gapis.
    
    Minidumps were previously relying on being cleaned out by virtue of
    being in the temp directory. If this happened too many times before
    getting cleaned we would be cluttering the user's disk space. This
    change deletes the minidump file after successfully reporting the crash.

commit 8b62f84d77da3c077c888105efb7dd9c76ed86b9
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Dec 13 10:16:12 2017 -0800

    Add logging of report ID to reporting.
    
    This ID is very useful when identifying crash reports on the crash
    server, especially if a report somehow fails to show up.

commit 38cae5c984deb0098222dcab340e139ce24ac3ce
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Dec 13 14:24:30 2017 -0800

    Don't rely on DatatypeConverter, which is no longer default in 1.9.

commit 97cc8a794aacb64f8a5b5dc2bcd131866b7315db
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 13 16:01:17 2017 +0000

    Bump GAPID version to v1.0.1

commit 33c37929733be6e8e6cee433c8bd0ad30060e67f
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 13 10:01:48 2017 +0000

    Update README.md
    
    Remove the Status section.
    We're about to launch v1, and there's plenty more detailed information on the gh-pages.

commit 024668b60c6c6f7cfcbcaf6b9fda74960f9f7ac4
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Dec 12 23:12:17 2017 +0000

    gapis/api/gles: Temporary workaround for issue #1498

commit 08bd8749f9720d62ec90e28ff0e97de69c3c2f93
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Dec 12 18:59:34 2017 +0000

    Bump GAPID version to v1.0.0

commit bbf477f2f7c6e2ae3634961746f96c903305e4a0
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Dec 12 12:38:21 2017 +0000

    Remove the build number from the build version.
    
    This just makes identifying analytics / crash reports by version horrible as each OS will get a different build number.

commit cd58422a2ccecef1b2c9735fe7a28b5eea865cfb
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Dec 11 01:10:16 2017 +0000

    Bump GAPID version to v0.9.7

commit f2c4e0060ebc2f83a7bd4fb4bea9c659234e6c0a
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Dec 9 21:38:11 2017 +0000

    Bump GAPID version to v0.9.6

commit 5f74594d1af8f8c645b49168edaef1d583c5beb7
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Dec 9 00:17:18 2017 +0000

    gles: Pullback texture data for all multiview layers.
    
    Previously we weren't considering multiview, and the 0'th view was only displayed in the texture view.

commit c41f7ace61ece780593b905c043dd6fed754231d
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Dec 6 13:19:32 2017 -0800

    Change crash upload urls to production server.

commit b574150791f3dfecb4a7913e5072c4cba5c45178
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Dec 8 22:24:17 2017 +0000

    core/app/crash: Filter reported stacktraces

commit 3b676df19eb6aafccad081e7bfebbbf39b40ac34
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Dec 8 13:40:35 2017 +0000

    gles: Fixes for unused VAAs that have no data.
    
    On some drivers having a vertex attribute array enabled with no bound data will cause `GL_INVALID_OPERATION` errors, even though that vertex attribute is not used by the program.
    
    This is a compat workaround for this case where we temporarily disable the vertex attribute array if we believe the program does not use it.

commit bad68f3b1d6d199a2077539c4153fae96ae58b16
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Dec 7 22:25:23 2017 +0000

    Bump GAPID version to v0.9.5

commit 9c3b5afe0ce917adc97e709a354d372f6987a600
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Dec 7 14:17:08 2017 -0800

    Fix object deletion compatability.
    
    In order to check whether a glDelete* command is deleting an existing
    resource, the compat code reads the array of resource ids of the delete
    command. However, it is currently doing so without first applying the
    observation to the memory pool and thus does not actually use the
    correct values.

commit 0695848fcd003fe77876f58275ce43e6eb0aedac
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Dec 7 20:45:30 2017 +0000

    Fix for index-out-of-range panic in Texture.ResourceData()

commit a9831fe2f8849c42d486668e0e31257045509fd7
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Dec 7 15:50:35 2017 -0500

    Fix destruction order in virtual_swapchain.h.
    
    The new change to MSVC caused this to start breaking on replay.
    
    Not sure why this only started happening now, but it is related
    to the fact that now we are partially built with MSVC and partially
    MSYS.

commit 8464f0024321809f14a4792bc8198c1ac5a425fe
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Dec 7 10:20:18 2017 -0800

    Update all logos with re-exported, correctly sized images.

commit e0bf9ba2914fd4e6a73ea710ab3cdc61c1073603
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Dec 7 16:53:30 2017 +0000

    build: Fix missing gapir.exe

commit e4ca278a22b8bdfab6503b7126055e8984115cb7
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Dec 7 10:49:30 2017 +0000

    Fix the dimensions of all the new icons.
    
    They were nearly all +/- 1 pixel out. Weird.

commit 238d24b029670e2286118492c62aa1324b3184a8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Dec 6 14:25:15 2017 -0800

    Updated logo.

commit d7d5214e5489d6814ab99e879463293bed6f6c36
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Dec 6 13:44:08 2017 -0800

    Collapse the control into the view and action fields.
    
    The control field in the ClientInteraction proto for analytics was ignored.
    With this change, the field is collapsed with the view and action fields
    to make sure the actions are tracked accurately.

commit e6599454e22b49bc92417a32da82162156f632a5
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 6 23:05:49 2017 +0000

    Update README.md

commit d856ceb3dc0f2125e96b2512a04ecb04efb885f0
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 6 23:02:26 2017 +0000

    Update README.md

commit 4c9058b36c965fdc506070a8f1c2f032188a43ba
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Dec 6 10:16:25 2017 -0800

    Add symbol artifacts to Kokoro on Linux/OS X.
    
    This adds a copy step to bring the GAPIR symbols into the dist file,
    then configures the kokoro build to put them into the artifact.

commit 7464327cdf4019a6e04b1babe6ec706c38ca08c3
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Dec 5 18:16:01 2017 -0800

    Add GAPIR Symbol production to linux/OS X builds
    
    This change adds symbol generation to the cmake scripts for linux and
    OS X. The libraries that GAPIR depends on now use '-g' to store debug
    symbols, and generate dump_syms executable to then produce a .sym file
    (OS X produces an intermediary .dSYM file) and store it in the base
    output directory.

commit 0a1a255eea4b82587c9d5a87f5be65b9051aa943
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Dec 6 11:45:09 2017 -0800

    Show a message in the Geo, FB and texture views if no OpenGL.

commit fa896fe6674b9ab023dd704331247a96a85994b3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Dec 6 11:16:43 2017 -0800

    Don't crash the client on OpenGL init failure.
    
    On Windows and OSX, where we are doing our own GL initilization, if we
    fail to create a GL context, don't SWT.error, but just fallback to a
    regular canvas.

commit c0d4e588f333921c4fcea42fdcd18d59672d6591
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Dec 6 12:21:14 2017 -0800

    Add a link to the API TOS to the welcome screen.

commit d9731ecd223535ce54b958a39d5b8b9a4eec8ba7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Dec 6 11:46:38 2017 -0800

    Change the language of the analytics and crash reporting options.

commit a567bb3b39d5faa218ed722298c6182f23390edc
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Dec 5 10:22:52 2017 -0800

    Remove boxed string and template from log calls.
    
    Every call to the GAPID_LOG macro in C++ instantiated a new template
    function to remove some path information from the __FILE__ macro. This
    pulluted the function symbols by nearly 87% and slowed down the build by
    about 5 minutes (Win32 full clean/rebuild goes from 25m -> 20m).

commit 110ba02cc295f6da3f1501cdc53a35be899c5183
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 6 16:01:23 2017 +0000

    gles/extensions.api: Don't call GetEGLImageData for each layer.

commit 84d49c21b5c60fae2a1af1e177594a8b8477d261
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 6 00:27:00 2017 +0000

    gvr: If the reprojection ctx can‚Äôt be found, don‚Äôt rename contexts.

commit 1d863f83bb61dc89751116cc8b6383725b1eb2cd
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 6 00:26:23 2017 +0000

    gles: Initialize textures with a 0-buffer with glTexStorageXX.
    
    For 2D texture arrays initialized with glTexStorage3D, you can easily end up rendering to just one layer. Before this CL, this would result in some layers getting data and others not getting a buffer for the Data field, resulting in UI issues when attempting to display the whole 2D array texture.

commit bad31dd283466db722e19bd9755d279643481584
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 6 00:23:45 2017 +0000

    gles: Add support for GL_EXT_EGL_image_array.
    
    This extension adds support for external 2D texture arrays.
    
    Fixes: #1459.

commit 6bc6a9255325724f1237e046f125632b97c26bc7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 6 00:21:26 2017 +0000

    gles: Update AndroidNativeBuffer to include LayerCount.
    
    This is a new field in O.

commit 247f12620c3febbb8af0f8554ec19a4bdce64011
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 6 14:01:04 2017 +0000

    gapii: Work around tracing issue with PCS on S7.
    
    Fixes: #1456

commit 27a4ce9bef63ce857c4a2c742ff1212e162df430
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Dec 6 13:59:57 2017 +0000

    core/cc/id: Add string() method.

commit fe594f4e003fe11dccf107412caeb27f55cb570a
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Dec 5 14:53:16 2017 -0800

    Add GAPIR MSVC to kokoro build.
    
    This change adds gapir-msvc step to kokoro on windows as well as adding
    the symbol file to the kokoro package.

commit 6c700cd3a89253dd601cbe626b8e082121159a34
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Dec 5 13:19:56 2017 -0800

    Make dump_syms into a gapir-msvc step, don't disable warnings.
    
    This addresses review comments to make the dump_syms command more
    readable by making it a project step for gapir-msvc and keeping the
    warnings on in msvc (except for the "unsafe function" warning since we
    don't want to switch to _s versions).

commit da2001e03cc4a8fc7493debcbc5db7a0981fbbee
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Nov 29 12:34:06 2017 -0800

    Output GAPIR symbols on Windows.
    
    This change fixes a build error with msvc where a log line could not be
    used inside a lambda under the core namespace. Several msvc specific
    compile flags were being ignored as well.
    
    Configurations that specify MSVCWinGapir now will create a single
    linktime generated pdb file that then is processed with dump_syms to
    produce a symbol file that can be uploaded to the crash server.

commit e90a78ae792ca50a1abcdcceb8fb313bef728930
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Dec 4 14:25:06 2017 -0800

    Update adb devices in the registry when their status changes.
    
    If a device's status changes in adb, this change will cause it to be
    removed from the registry and re-added, in order to keep the device
    configuration information up-to-date. When a device is added to the
    registry, it's configuration is queried, which fails if the device is not
    online and the device is added with empty/incomplete information. With
    this change, such a device is updated once it becomes online. This is
    especially needed for devices needing user authorization, since we're
    likely to see the un-authorized device long before the user can give
    permissions in the dialog.
    
    Fixes #1445

commit 7ef86a27d30f98861ad262e088254161797880fd
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Dec 4 20:52:59 2017 +0000

    gles: Fix for cross-context deletions.
    
    It is a no-op to delete objects that do not exist.
    GAPID uses a shared context for replay - while its fine to delete IDs that do not exist in the current context, they might exist in another. Strip out any IDs that do not belong to the current context in the compat layer.
    
    Fixes: #1446

commit 26a666c0ac41b7fc133f2e63c383e66cdd9edbbd
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Dec 4 12:53:16 2017 -0800

    Fix "failed to open minidump file" #1447.
    
    Crash Handler was not appending the file extension to the minidump path
    when forwarding to the crash uploader on these platforms.

commit a595601284136a8458572b1f82cf195f143809ea
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Dec 4 12:14:58 2017 -0800

    Unbind the shader after each draw.
    
    Unbinding the shader calls glDisableVertexAttribArray on all atributes,
    where it previously was enabled. When switching between draw modes, the
    number of attribues varies and if left over attributes remain array
    enabled, the draw call fails.
    
    Fixes #1441

commit 7f6b5398d0f6059ca34b34cb6cb3a11da9e1cfef
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Dec 4 12:12:44 2017 -0800

    Fix the state of the culling toggle button.
    
    The button was OK in it's initial state, but then on each toggle of the
    button it was incorrect (i.e. the first click didn't actually toggle the
    button).
    
    Fixes #1442

commit b537a018f4f095bc0462418389de0539488a582f
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Dec 4 13:38:31 2017 -0500

    Do not keep logging warning for mismatched debug marker grouping (#1439)

commit c62f325441d51111cb953d0ba3beb842926385c9
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Dec 1 17:06:45 2017 +0000

    Bump GAPID version to v0.9.4

commit 7893cb0cd801014199eb5dcaeac2ace0dba2afad
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Dec 1 15:47:25 2017 +0000

    gapis/api: Clarify comment.

commit 0a2961e094fbd8e26df52866bab1a6260a2611e3
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Dec 1 15:46:45 2017 +0000

    gles/read_texture.go: Handle no context bound.

commit b9346134bf0088a029836115f589ac97359c11fe
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Dec 1 15:45:49 2017 +0000

    gles: Fix cloning logic of the context in compat.
    
    Despite the name `deep.Clone` cannot clone private fields of structs. This includes the thread.
    
    Fixes compat for OpenGL 2.0 captures.

commit c82999972a947638b8376898ceecd4e1d36f8e47
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Nov 29 21:36:33 2017 -0800

    Bump GAPID version to v0.9.3

commit c67ff9e7c449ddce17b68a59d748f7f91a569b47
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Nov 29 15:54:25 2017 -0800

    Also add a 256x256 version of the logo to the Windows icon.

commit 7a2029bb2f5ab1fdace2511fbcdfb8dee065c558
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Nov 29 15:50:10 2017 -0800

    Skip contexts that were never bound in the replay cleanup.
    
    At the end of a replay, the contexts are cleaned up by deleting all
    resources. This change will cause the cleanup to be skipped for contexts
    that were never bound. If an application creates a context, shares it
    with another, but never binds it, we would try to clean up the resources
    in the never-bound context. This would cause a bunch of errors in the
    replay, since the backbuffer for this context was never initialized due
    to the fact that this is done using the extras from any observed
    eglMakeCurrent, which are non-existent for any never-bound contexts.
    
    Fixes #1435

commit 3f0fea907582c7871ea87a7f4de70556e1d96921
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Nov 29 15:53:47 2017 -0800

    Also remove the MANIFEST.MF file before re-signing.
    
    This file is re-generated by the signer anyways and would cause issues
    if it contained a signature for the AndroidManifest.xml file.

commit 027168329acd21327d60d0d2a64e196a31c016e3
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Nov 29 15:29:07 2017 -0500

    Fixed the case where we had a VK_NULL_HANDLE pipeline cache.

commit 76eda882d1cb632f636e09b35f23ffb4f800834e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 29 13:12:21 2017 +0000

    gapic: Fix exception thrown in ImagePanel.ImageScene.update
    
    Fixes: #1427

commit 337bf5113eef1b524b5ac89d11c33c64c1813846
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 29 12:53:32 2017 +0000

    gapic: Make both zoom-to-fit and zoom-to-actual sticky.
    
    See #1425 for details.
    
    Fixes: #1425

commit 211c7a4480c4d3080c30ed77368f09576d21c7ec
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 29 12:35:42 2017 +0000

    gapic: Fix bitlogic in ShaderView.isKey.
    
    Impressively it looks like this has been broken for half a year.
    
    Fixes: #1426

commit f66afcd6407cbf32568071a681ad29acf3996394
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Nov 21 21:45:39 2017 -0800

    Build GAPIR with MSVC on Windows.
    
    This change adds the ability to build GAPIR with msvc on Windows in
    order to produce pdb symbols. Most changes have to do with adding an
    external project that specifies msvc as the compiler, as well as finding
    the correct libraries and setting the correct compiler flags when
    running under that project.

commit 7f5a2bf2fcf26917f8bb3736ed29de25d8f610cc
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 29 15:40:03 2017 +0000

    gapis/gles: Wireframe just draws to the current framebuffer
    
    Fixes: #1423

commit 08f22577615ebba5805102d9e2c8f2292698e3f1
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Nov 28 18:58:05 2017 -0500

    Add all the missing go_package stanzas to proto files

commit 94a9a4e582d1f19ea15af35a4a12f1a2d5014c19
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 29 15:41:49 2017 +0000

    core/app/crash/reporting: Declare ReportMinidump stub.
    
    If the crashreporting build tag isn't defined, we fallback to a noop stub implementation. This stub was missing the new `ReportMinidump` function, breaking builds that didn't have the crashreporting tag defined.

commit ee5c41b6d87ef20952c0422d9885aa41c3ef1461
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 29 11:39:32 2017 +0000

    gapir: Remove log spam

commit 59a0ef61d6f5135ceda30f6ac852c515521a713c
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 29 09:09:25 2017 +0000

    Bump GAPID version to v0.9.2

commit 7b7e818b61ef0d890500871ad1f8a565991eed03
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Nov 28 20:41:57 2017 +0000

    gles: Fix reading of cubemap rendertargets

commit c95f4f8963e1987b36a0e2ae1fd7c6eb60b04581
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Nov 28 19:21:23 2017 +0000

    core/stream: Clamp instead of overflowing in float -> uint.
    
    Fixes the psychedelic colors of HDR thumbnails.

commit 2e9b16237f62fa963ec9cd8e88e7cf27f70ded0d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Nov 28 17:59:42 2017 +0000

    gapic: Keep the histogram limits at [0, 1] if the image is normalized.
    
    If you always dynamically limit the histogram to the calculated min / max, you‚Äôll typically display a histogram with ‚Äòholes‚Äô even though the image is U8 and there‚Äôs 256 bins.

commit 35dcf75fb025dcae5dfc2dffe8c13a0690c351aa
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Nov 28 17:57:00 2017 +0000

    gapic: Fix Histogram.getPercentile() logic.
    
    Fractional integer divide resulted in the upper limit usually being the lowest bin.

commit f7fb62bd6dafd614568e373385dfce73bdedb20c
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Nov 28 11:25:32 2017 -0500

    Fix destroying objects out of a hash map.
    
    We were looping over the objects, but this invalidated iterators
    on linux.

commit 4a7a890012e1c5dd91decc277dea283b15ac356f
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Nov 28 11:26:34 2017 -0500

    Support of VK_KHR_get_memory_requirements2 and VK_KHR_dedicated_allocation (#1406)
    
    * add support of VK_KHR_get_memory_requirements2
    
    * add support of VK_KHR_dedicated_allocation
    
    * VK_KHR_get_physical_device_properties2
    
    * VK_KHR_get_surface_capabilities2

commit ae86a12b5ba4faf73219561f26d47e145bd6dcbe
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Nov 27 11:58:25 2017 -0800

    Clean up the analytics ClientAction enum.

commit 7386eb13359cdb15558c964cb9498f9a5ac170cc
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Nov 27 11:53:58 2017 -0800

    Edit, select and copy analtyics events.

commit ed64ba86c6af44078a7512dfa80a281b16ebb293
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 17 16:19:55 2017 -0800

    Analytics for toolbar actions.

commit a112ad4f53b279fb35cae5476af83e0bf2db28b0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 17 15:50:05 2017 -0800

    Analytics for menu actions.
    
    Except those that show a dialog, of course.

commit 4aff14bf3f3434501567db0ad318ea8e8be87f68
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 17 14:56:38 2017 -0800

    Add analytics to main tab interactions.

commit 9986f023afd90194e840a9d064a1a813909620bb
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 17 13:41:43 2017 -0800

    Fire a 'show' analytics event when opening a dialog.

commit 304a02dcce70ba3621ceeb3e586e4d81f144ec1d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 17 12:12:19 2017 -0800

    Adds a model class for analytics and crash reporting.
    
    - Handles enabling/disabling analytics and crash reporting.
    - Ensures RPC results are at least logged.

commit b0cfe823d5dc3d5b43404984f1f40200705caeb3
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Nov 27 13:03:15 2017 +0000

    gapis: Add --enable-local-files flag.
    
    Without this flag, the RPC LoadCapture will return an error.

commit 2fd094900acb63b404dda2b31b657fcdca13cebb
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Nov 27 15:04:07 2017 +0000

    gles: Don't panic if vertex stream overflows buffer.

commit ab6a954101b66d8402c0d7a2224a7434b47b0f30
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Nov 27 12:08:45 2017 +0000

    gapir: Use temporary file for the auth token.
    
    This temporary file has read/write permissions for the GAPIS processes user. This should prevent any other local user connecting to the GAPIR instance and potentially abusing any exploits to gain higher privileges.

commit d83efa3cdf909a9328f17aa723e65763de7e5c4a
Author: Ian Cottrell <ian.the.hat@gmail.com>
Date:   Sun Nov 26 23:17:40 2017 -0500

    Weird broken import path

commit 458d2d7cbfbc3e8f53911d78f11fc674230a86ea
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Nov 23 10:04:31 2017 -0500

     Drop synthetic command in Vulkan trace and fix bugs (#1405)
    
    * Drop the createImage/BufferAndCacheMemoryRequirements command
    
    * Also drop prefetchXXX commands
    
    * Fix two bugs in Vulkan DCE
    
    1. 'Read' the correct framebuffer image data for queue submissions
    2. Fix the bug of missing buffer descriptor offsets

commit d3b3a5d518c5e7bac8aa331d6863713859f14d42
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Nov 22 11:18:37 2017 -0800

    Add the '--upgrade' flag to the pip command to fix OSX kokoro.
    
    The build is currently failing because of a new image, which now
    contains the pyobjc-framework-Quartz package, but at an old
    incompatibale version. Using the '--upgrade' flag will cause pip
    to install available updates of the requested packages and their deps.

commit ce44a915e57dd1c2afca63020822d876677c0b5c
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Nov 22 10:47:26 2017 -0500

    Fall back to /tmp/ if TMPDIR is not defined.

commit 83a9384206515533b7fb8a51e2826b71e7a531d4
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Nov 22 10:11:55 2017 -0500

    Bypass the spy when trying to query the device in Linux.

commit 181af64bbec1ca11fb9cd713501a9570fcd5f0e3
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Nov 21 16:25:34 2017 -0500

    Bring back the Vulkan textures populated with vkCmdCopyBufferToImage (#1397)

commit 9cecfd58b781a90cd821a61d5a3eefe7ab44b90d
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Nov 21 14:13:24 2017 -0500

    Cache buffer memory requirements and track opaque sparse bindings in blocks (#1396)
    
    * Cache buffer memory requirements and use block based map array to track
    the sparse bindings for buffers and opaque images.
    
    * fill the function body of IsFullyBound

commit 8fe42c27f89410f91c3970e1bd04531524254223
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Nov 21 10:50:24 2017 -0800

    Address nits.

commit 56a665e84972da3b6e38686b7b73a27747f15100
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Nov 17 13:11:09 2017 -0800

    Adds crash reporting functionality to GAPIR.
    
    We chose to upload crash dumps from gapir to gapis via the existing
    server connection. This change adds a file reader to access the contents
    of the minidump file as well as a crash uploader that handles piping the
    crash handler function into the server connection while grabbing the
    minidump contents.
    
    Other changes were made to use the temporary directory for storing the
    minidumps on platforms that support one (i.e. not Android), and allowing
    the handler function of a crash handler to be set and unset (going to a
    default handler).

commit 96adcc48733948189718d073cdb21e0467d8f325
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Nov 15 11:42:37 2017 -0800

    Adds external crash reporting to GAPIS.
    
    In order to accept minidumps and external crash reports in GAPIS it is
    necessary to change the crash reporting functionality to accept a more
    general idea of a "Report" rather than a generic interface and
    stacktrace. Specifically the idea of a filefield needs to be used in
    order to properly upload minidumps in the format expected by the crash
    API.
    
    To get information parity with external reports, the replay
    executer also needs to get the OS of the target device rather than using
    the OS that gapis is hosted on. Several other changes to tests and
    reporter functions needed to happen as well to match the new API.
    
    The shutdown CancelFunction also needed to be moved out of the atExit
    reporter as that was causing the whole app to close when that reporter
    was called, often preempting the uploading reporter. As well it caused
    external crash reports to close immediately close the app, which may not
    be desirable.

commit 3b76969465bb7be83f5384e61a7379548e3b0271
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Nov 21 10:20:23 2017 -0500

    Track sparse image bindings with map (#1394)
    
    * Track the sparse image memory bindings by translate the binding area
    into an array of sparse binding blocks.
    
    * Update the DCE to use the new map-based tracking of sparse image
    bindings
    
    * remove unused functions

commit 3924be30bd2abebcaa3a8f5e713bb50d7ec50b7d
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Nov 20 16:12:05 2017 -0500

    Handle SparseResidency sparse binding images (#1386)
    
    * sparse residency
    
    * add sparse residency support in DCE
    
    * For partially bound sparse resident buffer/image, only recover the data
    of the bound areas. Also refactored the buffer/image data recreation
    functions.
    
    * Refine the code, add comments about the aspect mask bits

commit 36e92a8cf720982d707a9685cf8378c1fe7009d4
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Nov 20 10:11:19 2017 -0500

    Add invalid handle and null pointer guards for Vulkan (#1390)

commit 866fc47e62b3060c4104b78e2599e7b799d29b5d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Nov 16 11:37:25 2017 -0800

    Add a note regarding the privacy policy to the welcome screen.

commit 25a01de7ae70b580d323f1168c5bda3b11f8e59c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Nov 14 14:50:30 2017 +0000

    Add RPC for enabling / disabling crash reporting.
    
    Also hook up the command line flag.

commit b19729ab6f8c6a2c4d31c9aa8a9a1a7c5f4a544e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Nov 6 12:51:50 2017 -0800

    Show a special first time run dialog.

commit 3b6bb86052cb7d0c87cb54f8936c6e2db4bbdf7b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 10 13:02:30 2017 -0800

    Expose the crash reporting option to the user.

commit c3b611fc1d2961af6f97b7c014a548cae610d03e
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Nov 6 11:23:53 2017 +0000

    Enable anonymous user statistics (opt-in)

commit ab325b79d6b80b445b6ac5ec8537fdd93836f911
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 10 12:41:00 2017 -0800

    Fix the analytics build.

commit b8c7bb26e791b34ac969336f0a43412e7f3cfd3a
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 16 09:50:28 2017 +0000

    gapii/cc/android: Add missing include.
    
    I'm unsure why this only affects the mac build.

commit 6ac8383d0b662a6c33da7f1c1accfca6cf5fce88
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 15 11:40:28 2017 +0000

    Integrate GLES MEC and DCE

commit c1c4ba820f07480ac5c290b2c622e2115c026c47
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Nov 14 14:49:32 2017 +0000

    Refactor uniform setting
    
    Avoid the excessive creation of temporary pools.
    Enabled by the new uniform handling model.

commit 78872b970485993ffdd9a6aca976965b49729bb7
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Nov 14 20:26:20 2017 +0000

    GLES MEC: Set texture unit bindings late
    
    Might be needed if EGLImage is bound and will not be rebound by the app.
    Just a theoretical corner case - has not been observed in practice.

commit 0d6893e4b982af1dcef704583cebb27337102d8c
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Nov 10 21:09:47 2017 +0000

    GLES DCE tweaks.
    
    Do mutate before rather then after. It didn't matter in the initial
    prototype, but we have since added more complex code.  Doing it
    before guards us from malformed commands, and having the state
    already mutated seems to be more expected behaviour.
    
    Simplify and improve texture reading based the new uniform model.
    
    Remove the old -1 hack which was needed when we used to request
    framebuffer right after eglSwapBuffers.

commit c7022be46b0a1d730c594ad780095ce19b8c09d1
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Nov 13 17:49:58 2017 +0000

    Fix external images in GLES MEC

commit a282b088e74d7295273dcf05012e08308823001d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 10 10:02:14 2017 -0800

    Code review changes.

commit e4484a7d2c73482add80497defb4b108556f2171
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Nov 9 14:18:49 2017 -0800

    Fix memory leak due to delted textures not being removed from map.

commit b1a3586c0e2894624282739f889a6832e442c8a0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Nov 9 14:15:33 2017 -0800

    Cache the slow parts of image creation (pixel info and histogram).

commit bfd1cdfa41cea4140497deabae29b0f1875fa149
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Nov 7 16:36:10 2017 -0800

    Increase loading indicator delay.

commit bb401f57192d3a9a64654632f63ce57ded84b685
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Nov 7 16:25:40 2017 -0800

    Refactor histogram and pixel info computation for speed.

commit 7dd1a7035cd1e8e2e5aa3b7a6a3ce57b7cb6a9af
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Nov 13 13:58:33 2017 -0800

    Remove the astc-encoder cmake compiler work-arounds.

commit 11540482ad650abb0c1ab25f066bc5ee379ab257
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Nov 14 09:41:04 2017 -0500

    Report Vulkan errors to the report view (#1355)
    
    * First piece of code to make Vulkan report errors to the report view
    
    * add todo comments
    
    * change from unsupported extention to unrecognized extension

commit 4cb347f64a84cacda8bb15413375eb730cbd1a2e
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Nov 13 18:02:06 2017 +0000

    Fix MEC for mixed Vulkan+GLES apps
    
    Fixes #1379

commit ccef984f528a4920a276e9339ffc5677a438b0f9
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Nov 13 13:27:21 2017 -0500

    Minor fix about the use of is_observing and is_suspended in Vulkan side (#1377)

commit 3ff9895d2429440e12db829083ab046ce96050f6
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Nov 13 16:58:30 2017 +0000

    Update astc-encoder library to include compilation fixes.
    
    Includes https://github.com/ARM-software/astc-encoder/pull/15.
    
    Fixes: #636

commit 45b4728a952df770d0389e2ff2bbe32bf35b2e19
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 15:32:21 2017 +0000

    GLES mid-execution capture

commit e564911db7e2d9efcf5e7d011e9a797ab64d1d92
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Nov 13 14:07:45 2017 +0000

    Fix glGetUniformLocation in compat
    
    It is invalid to add [0] suffix to non-arrays.
    (but fine to omit it for first element of array)

commit ed907e6f1b3213c514399db9130e3602caa20746
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:59:02 2017 +0000

    Helper api methods for access to Texture.Levels.Layers

commit c7f7b29cdf57642a18791dfbabb0b980c6fdd6f4
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:58:52 2017 +0000

    Don't generate fake IDs for renderbuffers in default framebuffer
    
    I don't think this is necessary ever since we switched to
    using proper references to track attachment bindings.
    
    There is precedent in GL for 0 to mean (one of) default objects.

commit b4e346f84538ddb3112d44d759ffea53a341e401
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:58:42 2017 +0000

    Add New*() method to generated code for classes
    
    Avoids generating the same code over and over.
    
    More importantly, it allows creating new instance from Go.

commit 64f91656ff36239dff9b65b410ab1e3cd5d9302a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:58:32 2017 +0000

    Record which thread the context is bound to.
    
    We already know the inverse mapping from the global map.
    This adds more information on the context itself,
    making it more self-contained for serialization.

commit 5c83b24e0c9cef8a73ab2028c361d2d082e4e42b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:58:22 2017 +0000

    Unbind textures when they are deleted

commit bd68393c5495deda787936694835611983858eb6
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:58:12 2017 +0000

    Properly initialize more of the api state

commit 2593964e2f067e949bf70d712ba620c1ba083036
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:58:02 2017 +0000

    Keep link-time shader snapshot

commit c5bb9114c2aee73801f1f0c0faedaf671f8b44df
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:57:51 2017 +0000

    Zero-initialize new pools in gapii

commit 535dabcf843cc430f7ef139fe39d3463efc5a38b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:57:41 2017 +0000

    Check shader presence in non-mutable way

commit 9463fb8a57840243f1090527c8b499f9bc81f83c
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:57:31 2017 +0000

    Track image unit target by reference

commit 3865ee6b78fe628bf436f02d488622e20d948c51
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:57:21 2017 +0000

    Add String() method to custom pointer types

commit d3121c2e102f4fb428fc95f0b56aaf13c6726a25
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Nov 12 13:57:11 2017 +0000

    Rename the internal field of generated maps to "Map"
    
    Makes logging output a bit nicer to read.

commit c29813dbb0f1e2328688b16d401c010441aef864
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Nov 10 22:36:16 2017 -0500

    Handle dynamic descriptor offsets in Vulkan DCE (#1370)

commit 12fd8bde147b6f57642fc59ba8f8580eb74c70a8
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Nov 10 15:56:42 2017 +0000

    core/app/crash: Add unregister functionality.
    
    Also call the crash handlers in parallel to speed up termination.

commit 93591ceab0732912eb3f042b20f6aeab95c4f234
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Nov 10 15:55:18 2017 +0000

    core/app: Log crashes to the logger.
    
    The panic message was not being displayed in GAPIR as GAPIS now correctly cleans up on exit (crash or normal). Part of the clean up is closing gRPC connections and tearing down the server. GAPIT exits before GAPIS if the connection is aborted.
    
    This change let's any loggers or remote listeners be informed of the crash before the connections are torn down.
    
    Fixes: #1365

commit abf685c6ccd4c4aae374636aa0cfbd46c157ba3c
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Nov 10 15:52:18 2017 +0000

    core/app: Add a stopProcess parameter to log.F()
    
    Not all fatal messages come from the running process, and these shouldn't kill the listening process.

commit 304e64f0bcc6f0a0fb50c427d74fc0a5a96e1734
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Nov 10 14:37:26 2017 -0500

    Fix a but in the Vulkan DCE (#1367)

commit 2b10b32ee6cb1296a81d65b94ba6d74a16ea79d3
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Nov 9 21:14:12 2017 -0500

    Stop looping on GetFenceStatus if the return is VK_ERROR_DEVICE_LOST
    
    If we get into this case, we will end up looping forever,
    which is not actually useful.

commit 8f581f5a92ba419aa690264c5344151871cdec0a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Nov 6 13:46:30 2017 -0800

    Turn the crash reporting option into an actual setting.

commit 306fdc88a19544ed0f6a5ebc0d0e5d4a1f7491a5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Nov 6 13:40:34 2017 -0800

    Hook the exception handler into the models and UI thread.
    
    Once the UI is up and running, the UI thread captures exceptions and
    doesn't just let them propagate, as that would cause the app to close.
    This will cause the UI thread to report these caught exceptions and
    similarly caught exceptions in the data models.
    
    For #407

commit a00e38d7ba1e295e606a287255969b4f3e08e774
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 9 19:11:44 2017 +0000

    core/app/crash: Minor fixes and improvements.
    
    The product must always be GAPID. We put the exe name into the version.
    
    Always use the staging URL for the tests.

commit 2db9458fc33f96760199ba06acbcf03e4ebebf25
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 9 16:56:22 2017 +0000

    Add core/app/crash/reporting.
    
    First attempt to add a crash reporter to Go.
    Requires passing --crash-report on the command line.

commit 89e91247bab11b8fa0e3a83594c625981829f75a
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 9 16:54:58 2017 +0000

    Move useragent from analytics to net.
    
    Likely to be used elsewhere.

commit 322d41f432b6726a1d74f7f5543e50941efcdd6f
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 9 12:23:29 2017 +0000

    Move core/analytics to core/app/analytics

commit ee6698dc828127222783d1c360b8cdb2c1fc7ed2
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Nov 9 14:49:59 2017 +0000

    Add Assign method on slices
    
    Needed to clone state

commit 37c8de28ae216279e4b06d37f353c5c723eceb9c
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Nov 9 14:27:08 2017 +0000

    Fix deep.Copy for reference types

commit 033175b345273d03085190b055e8a92c5cee8f08
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Nov 9 13:10:44 2017 +0000

    Fix compare package for reference types

commit 8ae712e02db303e42e379e7968915eadbbc26805
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 8 18:08:21 2017 +0000

    Add context argument to caputure.NewState method

commit c5167f80a3e0635d6317e3c89adf0ab3a6f66ae4
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 8 16:16:33 2017 +0000

    Fixes for the go state-block encoding/decoding

commit e589fc27538791c43df66e8a3501c5cb09b6d828
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 8 16:16:23 2017 +0000

    Rename proto messages for state.
    
    Use same name as the represented go-object (as we do for cmds).
    
    This is not being used yet, so it does not break file format.

commit c9151345d425c043776be712feb74851777d454b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 8 16:16:13 2017 +0000

    Add pool IDs to gapii

commit cb2aa24e94883905965f4908aa933cd07e4b24bd
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 8 16:16:03 2017 +0000

    Protoconv: Add support for cyclic references.

commit d29c44ccf9860e36d35582b324f8195a8525f2ca
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 8 16:15:53 2017 +0000

    Fix type encoding in gapii to avoid deadlock
    
    Handle cyclic type definitions.
    
    This also improves performance as it avoids the recursive
    check for types which have already been encoded.

commit 55bf6b4ffbbdf363809842a840ac975fac2a313d
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Nov 9 14:55:00 2017 +0000

    Remove redundant @serialize annotations

commit e280a9dd39ac3a2877e1d74ff1278761e4e0045f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 8 16:15:42 2017 +0000

    Enable class serialization by default.
    
    Enable by default, unless disabled with @noserialize, since
    we will need close to all classes for mid-execution-capture.

commit 12f0fe94c8416bef961f8aaa63a482d58a2b586f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 8 16:15:22 2017 +0000

    Wrap ColorWritemask in a struct
    
    Avoid storing vector directly in a map.
    This is the only place where we ever do it apparently.

commit 331e58dbae545e560a41a2a62be711b22ea631f0
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 8 16:15:32 2017 +0000

    Cpp proto: Handle names which are keywords

commit ae5a90ba04813279c5a09faebbe67f95b907dce4
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Nov 9 10:48:36 2017 -0500

    Remove default parameters

commit 13acda9863489cdc2591b4b8c06401b899dc3fac
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Nov 9 09:24:40 2017 -0500

    Allow replay requests to disable Replay optimization.

commit a8f70ae1c01bfd15d16f789891bf496b033a5edb
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Nov 8 11:01:21 2017 -0500

    Resolve function pointers for extensions we do not support.
    
    This means that if we come across an unknown function pointer,
    it is less likely to crash.
    
    This does run into the problem that the state block may
    end up in an inconsistent state because functions are not
    tracked. However without this, any calls to the functions
    will just be a segfault, and even more difficult to track down.

commit 229fd0487125fe66fe6ec7b6dd6754b0c7600b7a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 8 23:42:59 2017 +0000

    Update gapidapk icon

commit ec234af1fd55c6ccba2b4a5726da083f992d597d
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Nov 8 10:29:35 2017 -0800

    Addresses review feedback.

commit 22a11686ffae7a716837275735741fb84d5618da
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Nov 7 11:27:35 2017 -0800

    Adds breakpad and lss to third party license file.

commit 34789bc6ee835f83ff1afce9e1db4cf873f50e99
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Oct 17 17:36:01 2017 -0700

    Adds breakpad integration in GAPIR.
    
    Breakpad is a library for capturing crashes and constructing minidumps
    in native code across Windows, Linux, OSX, iOS, and Android.
    
    The CrashHandler class registers an exception handler and adds a callback
    function to perform any extra operations after the minidump has been
    created. A flag is added to GAPIR to enable crash handling and reporting.
    
    The CrashHandler class made most sense to add to core/cc since it is not
    intrinsically tied to GAPIR, and may extend into GAPII at some point.
    
    Another submodule for linux syscall support library in order to build the
    Android/Linux static libs for breakpad is also added.

commit 8d1719224c884955c8dd7740e5aa48e0b378a283
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Nov 7 11:36:59 2017 +0000

    core/log: Don't implicity stop the process on fatal messages.
    
    The design of the logging system lets you log messages from other processes (like logcat). Just because another process has a fatal message does not mean the listener should shut down.

commit 916600aa3ffb6ae19e58792d99313039898ee9dc
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Nov 7 12:14:00 2017 -0500

    Show correct framebuffer content for subcommand groups (#1345)

commit ba9264a11be627c13ce4ff1f32469fae5f936172
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Nov 6 17:03:37 2017 -0500

    Fix 2 small issues in DCE
    
    We may kill off VkQueueSubmit, if the only thing they do is
    signal a fence.
    
    We may also kill off pipelineLayouts if they are only used to
    update push constants.

commit 589dbf088a749d743c7c6a401cab4185e67390b8
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Nov 6 16:39:34 2017 +0000

    Add state serialization code
    
    Based on Andrew's #1142

commit 62fe96adee14c055c50be1478c5af0d23f49216a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Nov 2 15:00:27 2017 +0000

    Move the most important const fields up

commit 66ae94a1a6a9426b198c2e1c7ef66b75c1ddd5fa
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 31 01:04:37 2017 +0000

    Simplify ProtoPack file format
    
    This mostly just reorders fields and changes the encoding of
    special cases in the file. The overall design remains unchanged.
    In particular, the encoder/decoder interfaces are preserved.

commit 7b4f8eff56008272da00c59f06a2a742babb1e8f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 31 01:04:27 2017 +0000

    Improve program and shader GL api
    
    Track move of the state for reliable mid-execution capture.
    
    This have been one of the most neglected parts of the api.
    Finally merge in all of the commented out structures which
    were based on the appendix of the GL specification.

commit 750f1bb639467647e528a5dbb7e048050ce07ffa
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 31 01:04:17 2017 +0000

    Implement references in the serialized format.
    
    Based on Andrew's #1142 (with several extra tweaks)
    
    Breaks file format as it changes encoding of maps in extras.

commit 6d837fcc368f5127c9f79ebb8e849831cab403ab
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 31 01:04:07 2017 +0000

    Remove resource IDs on-disk. Reference them by index instead.
    
    The first saved resource has index 1, the next has index 2, etc...
    Memory observations and others can use the index to reference it.
    Protos use the index for referencing, but go still uses the hash.
    
    This saves over 10% of the trace data (excluding raw resource bytes).
    
    Also: Remove Pointer message as it is no longer used, and
    reserve Observation.Pool field - I expect it to be useful for
    storing memory observations in the initial state block.

commit 9ec31ceb5af9aaaa8743a18daa178e203dfb9e98
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 31 01:03:57 2017 +0000

    Use 'sint' for most proto fields (breaks file format)
    
    This will avoid breaking compatibility in the future
    if we change, say GLint to GLuint, somewhere.
    
    'sint' can represent all values including unsigned.
    For example, 0xFFFFFFFF can be compactly stored by
    by cast to int32 (-1) which is stored in one byte.
    
    All command arguments are in the app pool by definition.
    Remove the pool ID as it is redundant and just takes space.
    
    Renumber keys in commands.

commit 5434b20d9be35df96b161da3d8426d1baa09cdd1
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Nov 6 13:47:32 2017 -0500

    Fix Vulkan's sparse binding support in DCE (#1314)

commit 28e3ffc65483ac40a773334d69578daaf1c361ac
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 1 17:11:01 2017 +0000

    Move Context.Info.* to Context.Other.*
    
    They are both just bags of misc fields, no need to have two,
    and I am conscious of polluting the "state view" in the client.

commit 57a9dcc34bdfefec35f004d641830c2a0ab84ec2
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 1 16:54:12 2017 +0000

    Correctly set the Version and Extension global variables.

commit c9feca5c7321a5e56767a107dd98d7402a74e06a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 1 16:07:11 2017 +0000

    Tweak the layout of EGLImage struct.
    
    Just the record the arguments that created, that is
    pretty canonical way to correctly describe it for MEC.
    
    I am still unhappy about the fact it contains the
    ref!Image field (i.e. cross-api reference).

commit 8bf4b378b5bdde42b13da44ca3e06d218f60b95b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 1 16:01:03 2017 +0000

    Various GL api improvements.
    
    Most of those changes are needed to correctly restore state
    during mid-execution-capture.
    
    Few of those changes are just random improvements as
    mid-execution-capture will essentially set state in stone.

commit c8aa256bda5cce673f1117cc4bdad0d9ab2df807
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Oct 20 21:26:34 2017 +0100

    Remove the SetConstant method.
    
    It was used for backwards compatibility,
    and we have not used it for a while now.

commit f0fda6454f4cc7f85387f9e711d397a00c72362b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 1 15:38:12 2017 +0000

    Fix inference of unknown.
    
    We used to require that the first expression infers it,
    but it is fine if any later expression infers as well.

commit 56ff6483a5108921fd2bacdaa87f878070e1dd3b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sat Nov 4 16:56:34 2017 +0000

    Make mipmap reads efficient in DCE
    
    Create state key which allows us to read all texture data.
    
    This reduces the number of keys per each draw call.

commit 608043bfaad209c2a12bf4a8af0db7c0c272531b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sat Nov 4 16:42:52 2017 +0000

    Fix glGenerateMipmap

commit d88f024b2c49b06b25b410aaef38e83e52a9dcaa
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Nov 6 15:05:07 2017 +0000

    gapis/database: Don't ignore protoconv.ToObject errors.

commit 3cdc3afc07b8649faf8859885af71f205af9ead6
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Nov 6 12:39:24 2017 +0000

    gapis/service: Fix infinite spinning in NewError()
    
    Turns out errors.Cause will return the passed in error if the error doesn't implement Causer.
    This will cause the loop to spin forever.
    
    It also turns out that errors.Cause will decend all the causes and just return the first non-causer implementing error - which isn't what we want here.
    
    Reimplement the errors.Cause functionality in NewError, bail if the Cause() function returns itself, stop if we hit a hard limit.

commit 134f1ec0b756a068463fe96902f5b8e44f4a00d9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 3 13:00:53 2017 -0700

    Check if tree item is disposed in the load callback.
    
    If a tree node is being loaded, the tree is completely changed during the
    load, the item will have been disposed by the time the node has finished
    loading.
    
    Fixes #1303

commit b67ebc7610093bc548350150eeeb001245d4919b
Author: Ben Clayton <bclayton@google.com>
Date:   Sun Sep 24 21:42:56 2017 +0100

    Add framework for anonymous user statistics (entirely disabled)
    
    This adds the foundation code for reporting anonymous user statistics using Google Analytics.
    
    This CL does not enable any sort of tracking - the code is completely disabled and removed from the build. In order to be turned on, another CL needs to uncomment the code annotated with `TODO: <ANALYTICS>` and the user has to agree to sending anonymous user statistics to Google.
    
    I‚Äôd like to get this submitted sooner rather than later so I don‚Äôt have to continually rebase this branch.

commit 31a90b147c1ad8ceb77347d7039d7ba994088a54
Author: Qining <lqn.anthony@gmail.com>
Date:   Sun Nov 5 14:52:33 2017 -0500

    Fix the physical device enumeration order problem (#1335)
    
    No need to cache the enumeration order of the trace in the state block.
    But must make sure the content in the physical devices and the
    Vender|DeviceID array matches with each other.

commit c31d7558420faf1960ea3875cf5c93ae011c8a7c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 3 12:46:13 2017 -0700

    Limit the number of items in the texture reference popup.
    
    This is a work around for now, that I think is good enough, because I
    think the main use case for this dropdown is to find where the texture
    was initialized or track down small usages of unexepcted textures. The
    long term solution would be to create a custom widget that can handle
    displaying a lot of references. This is tracked in #1332.
    
    Fixes #1327

commit ed4b89fb61726d5620aa73c928724bca1a34845d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 3 12:19:48 2017 -0700

    Reset the atom tree model when a new capture is loaded.

commit 60f65503f5a06ea3326b7c249c72b0759b34cdc9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 3 12:07:34 2017 -0700

    Fixes an issue with the filmstrip when opening multiple captures.
    
    The timeline model did not reset itself when opening a new capture, but
    delayed the reset until the contexts were loaded. This caused the
    filmstrip to be in a bad state in the time between the new capture being
    loaded and the contexts of the new capture being loaded. At best this
    caused the old thumbnails to re-appear and at worst an error dialog, if
    the selection would be out of bounds in the new capture.

commit a8d6031aa6d8643221d5d07a8f2f8f91be4f738a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 3 12:03:54 2017 -0700

    Fixes the "hanging shader view" bug.
    
    When selecting a command at a point in the trace where all shaders have
    been created, then opening/capturing another trace, will cause the shader
    view to stop updating itself, unless a command is selected in the (new)
    trace before all shaders were created.
    
    Fixes #1195
    Fixes #1309

commit 6c4f718937612463dc0a5ccf4ebc964bf5f7f80f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Nov 3 10:52:10 2017 -0700

    New histogram icon.

commit 855699751081ad949453e5a8aaec4b9b41a19a61
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Oct 30 16:21:52 2017 -0700

    Adds crash handling and reporting to GAPIC.
    
    This change adds an UncaughtExceptionHandler implementation that uploads a Throwable's
    StackTrace to Crash2 for processing, as well as a static report function to manually
    upload a StackTrace from another handling context. Currently this targets the staging
    report area which only accepts crashes from internal IP addresses and is completely
    disabled until the UI to enable crash reporting is created.

commit 07ec559a4c666ce85d0a2197e518ddd641e93310
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Nov 3 15:05:42 2017 +0000

    gapis/service: Fix internal errors not getting returned.
    
    Previously we were returning (nil, nil) for internal errors.
    This was causing a lot of crazy exceptions to be thrown by the client.

commit 3b480f4cbd5e2575b9d414ae882281a52c65f33c
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Nov 3 00:03:28 2017 +0000

    Bump GAPID version to v0.9.1

commit d99eabb1f78d31ec29a36a7a4838c8ce64c4a6de
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 2 22:28:50 2017 +0000

    vulkan: Fix panic in unpackMap.
    
    Fixes: #1322

commit 7f6628d4c572427f78b5c3a85d5aebbf771d25c7
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 2 15:48:20 2017 +0000

    gles: Fix DCE for glGenerateMipmap

commit da5061d569bfabe4e723653b6cf4b31962af253d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 2 15:56:11 2017 +0000

    Use replay.Result.Transform to clean up read_framebuffer.

commit ac5f4a561de0c951b569aafa977c30aaf0d60ca2
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 2 15:49:16 2017 +0000

    gles: Ensure texture data is as claimed.
    
    Compat can go tinkering, resulting in a format mismatch.

commit 715de404fa247754b0cecd8775fe4a2268f83986
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Nov 2 15:48:43 2017 +0000

    gles: Pull back texture data after glGenerateMipmap

commit 5a1fca3d9898b3ea3760bbafe4295498546ce53a
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Nov 2 11:33:51 2017 -0400

    Handle the case when Semaphores block (#1294)
    
    Semaphores may block queue execution when VkEvent is used. See #1293 for
    example. This CL should fix #1293

commit aa4ff9c6055d370d034a944888bb57424c99d1fa
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Nov 2 10:58:54 2017 -0400

    Prefetch phydev properties (#1320)
    
    * Fix issue 1311, the full trace is fixed, MEC not yet
    
    * mec should work
    
    * Record the enuemration order in the state block to make sure we recreate
    the enumeration order correctly

commit 63a0ae98129e4a9d0cd076a995a49324dd11edf2
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 1 11:00:07 2017 +0000

    cmd/gapit trace: Add additional debugging.
    
    Add flag to print device logcat.
    Print message if JDWP fails to connect.
    
    These changes are to try to identify the cause of #1116.

commit 128e0d8aced0ec2e82edde156e38fdbe9273f4ee
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 31 01:03:47 2017 +0000

    Remove the SharedObjects indirection container.
    
    The container was just a hack around the fact we could not
    share pointer to the same map from two different contexts.
    Since that is possible now, clean up by removing the hack.

commit 4cba0a69f9f10601495361adf7ee0c0ec3d213e6
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 31 01:03:37 2017 +0000

    Make map!(K,V) a reference type in C++ to match Go.
    
    Match the semantic of the two languages for sanity.
    
    I choose reference type over value-type as I have found
    strong need for it while writing code in the api language.
    
    It also changes findOrZero to return result by-value, same as go.
    If the key want not found, the by-reference version returned
    reference to single global statically allocated instance,
    which eventually led to multiple consumers sharing the data.
    The result was returned as const but didn't completely
    protect it - we ended sharing references to maps.

commit 4d9f7606c8586e2e7d819c33288486d2f3d1b1c4
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 1 13:53:58 2017 +0000

    Fix integration tests

commit 9b3f2b0bf7510eb85c420fcff6f632dd7b637e21
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Nov 1 13:30:41 2017 +0000

    gapis/capture: Fix command parenting when saving a capture.
    
    Fixes: #1296

commit 85533cfa9f9b56aff135898a54f0959f11dd33c2
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 31 23:56:15 2017 +0000

    Remove gles/glsl.
    
    This has been completely superseded with glslang.
    
    Goodnight sweet prince, you‚Äôve served us well!

commit ce7d446168ef6709ce59200c7cf41edf1ac11eab
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Oct 26 16:09:29 2017 +0100

    gles: Rework FBO reads to support depth-stencil formats
    
    This requires jumping through some hoops, but unlocks the ability to
    read depth, stencil or depth-stencil buffers.

commit 0a5f2e6ec525120251697ecca7d7d5e7a80ae24c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Oct 26 16:07:56 2017 +0100

    gapis/replay: Add Do() helper to Result
    
    Makes using Result a little easier.

commit 4a85c1b9b90dc00cbad1f732bc913b2721cda1b6
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Oct 26 16:07:11 2017 +0100

    core/stream: Move some helpers from Format to Channels
    
    A list of channels is very common, so declare a new type.
    Move helper methods that are specific to channels from the Format type
    to this new channel list type.

commit 027f3bec28d1658ca0c9026d871716d5a356e0ba
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 1 11:50:42 2017 +0000

    Wrap maps in a struct to make them referenceable

commit 2e620d6f1ce3c5651df08d3e88c3eb5c3993fad4
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Nov 1 11:50:35 2017 +0000

    Always access maps via helper methods.
    
    Keep the underlying implementation hidden.
    
    We will wrap maps in the next commit.

commit e8e546e277a4545c68ac8377c5b86555d5cd24fe
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 31 12:29:04 2017 +0000

    gapis/capture: Rework the capture proto to avoid size limits.
    
    Turn the `capture.Record.Data` proto field from inline data to an ID to the bytes in the database. This lets you store captures into the database larger than 2 gigs (max size of protos).
    
    Fixes: #1001

commit dc8b035d6a74f3c24dae52da17a80ca45abeb7d5
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 31 12:27:13 2017 +0000

    gapis/database: Changes to support large records.
    
    Add a type field to every record in the database. This is used to store either protos (like before) or blobs - byte slices.
    
    Rework the database interface to let you serialize either.
    
    This lets you store very large byte slices into the database.

commit 477e830f73466a15845220dcef7414a7f1b8b6e3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 15:23:08 2017 -0700

    Fix colors in the about dialog.

commit b585d80aa575afc0a8d89f1be41e930159085f34
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 15:01:22 2017 -0700

    Every dialog should use our logo.

commit b2af33bde20a3b559e001a5c9299f6e5823ec08e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 14:43:37 2017 -0700

    New Windows icon.

commit 9ebe959696bf6dd44ed535faf6e96d24cbc15aa4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 14:33:33 2017 -0700

    Crush all PNGs.

commit 4e6f54e259919d4b6d914d7e80b77035f9febea8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 13:51:37 2017 -0700

    New logo and updated welcome dialog.

commit 20a30f69a7c630a98c1a5cce18024b6742d538dc
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 13:48:07 2017 -0700

    Rename getMonoSpaceFont to monoSpaceFont and add bigBoldFont.
    
    The rename is to match the other names in the Theme. The bigBoldFont will
    be used in the new welcome dialog.

commit bcba33cc8830eea15ed068177ce1f404a9f6687c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 13:43:54 2017 -0700

    Updates to the generated GAPIC version file.
    
    Makes the version class a proper Java file, so it can easily be extended
    and adds a new GapidVersion class which just contains the constant of the
    current version, which is the only thing that is actually generated by
    cmake on build. Minimizes the amount of Java code that is generated.
    
    Also moves the .in file to the proper package location, rather than the
    gapic/ root.

commit cad08f4128eeeb023252ea1e9067fc6d6ca1d9a1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 12:49:28 2017 -0700

    Updated macOS "installer" background.

commit 1d61c43d0253cacc1a92da828437574eef45f668
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 12:02:13 2017 -0700

    GAPID custom Windows installer images.

commit ab9b6bcaaf5ea4663cc51b9f08190e894ccb19e7
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 31 18:56:33 2017 +0000

    gapis: Use the new dictionary package whereever we used to do map reflection.

commit c3808da085f8252d5e899a078fbbf54ad75e9d96
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 31 18:52:40 2017 +0000

    Add core/data/dictionary.
    
    Provides a generic interface to maps.
    
    100% test coverage.

commit a39b6a1073ad4a22e00c62f997af2c2af33d33d2
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 31 20:43:43 2017 +0000

    Remove the component svg diagram from README.MD
    
    It stands out like a sore-thumb.
    There are better places for this sort of stuff - let's keep the main landing page clean.

commit 76d2a6aecde554a4b8061c502b348dfd6e7f3e25
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 14:36:54 2017 -0700

    Small style fix for the robot log view.

commit 7de67e0ef75e94de09e9b4b19e0ecc3640b84793
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 30 15:04:59 2017 -0700

    Remove the extra download tool item.
    
    Looks like a merge duplicated it.

commit ef6f02061d81d8d31ac91e9f18c266f34795535e
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 31 12:50:57 2017 +0000

    macos dmg: Hide 'hidden' file icons

commit 17c3f018e4bbd8140ee5e0f48a3419bddf0a0b25
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 31 13:08:08 2017 +0000

    gapic: Minor fixes to the AboutDialog.
    
    Remove the "A GPU debugger for Android" string - we support desktop too.
    
    Update help URL to point to the gh-pages docs.
    
    Use textboxes instead of labels so that people can copy and paste things like build ID.

commit f0669aa9eebbed04872502ad965f746b3b23e386
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Oct 27 12:12:15 2017 -0700

    Fix the robot subject upload command.

commit 01963d2a9fbbf691c8e1957c8d7c8bec48eb6dd2
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 30 15:15:34 2017 +0000

    gapis/resolve: Fix commands vanishing on edit.
    
    The caller private field was not being propagated, resulting the command being grouped under the 0'th command.
    
    Fixes: #1265

commit 1253fdcb7aa7f7d5d76daee2a588884941ecac8e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 26 13:59:32 2017 -0700

    Linux gfxtrace file association with GAPID.

commit 3466aa66ccd53ee631d9fe42fb90b33e6f29d272
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 26 11:34:01 2017 -0700

    OSX gfxtrace file association with GAPID.

commit 399ad9ad88c52369c38d553ea685b09e3c457d6f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 26 11:33:28 2017 -0700

    Handle the OpenDocument event in GAPIC.
    
    This event is sent on OSX if the user requests GAPID to open a gfxtrace
    file, for example via double-clicking on a gfxtrace file in the Finder.
    This event is sent if the application is already running, or if it just
    has been started in response to opening a file.

commit 098d2f9463d603d29854bb02951b0826b814e166
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 24 16:38:33 2017 -0700

    Windows gfxtrace file association with GAPID.

commit 243ba098c1fb2e5a00ff5987a520b300204c26f9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 26 14:36:59 2017 -0700

    Workaround for apparant JFace bug with selection preserving.
    
    The stack trace from #1264 indicates that there is a bug in JFace's
    selection preserving when changing the viewer's input. The way our
    viewers are setup, only the root node is in the loaded state when the
    viewer's input is changed. JFace, however seems to query children of
    a yet unloaded node, which causes the failed precondition.
    
    This changes clears the selection just before changing the input,
    which will cause the selection preservation to be skipped. This will
    not only work around this issue, but also improve performance, since
    right after setting the input we also fix the selection anyways.
    
    Fixes #1264

commit e3a7bdf52f597da1eb21817ec363c6461ef25cff
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Oct 30 00:22:04 2017 +0000

    Fix panic caused by nil filter function
    
    Make sure we don't add nil to the filter list.
    
    Fixes #1283

commit 4764f77beb98f8b9e5c2b38f4776642d88cce2c7
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Oct 26 19:23:16 2017 +0100

    Unpack: Truncate large byte arrays.

commit 5a4dbdc378ffab4375adfd2565290ee927f4f4b3
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Oct 26 19:19:00 2017 +0100

    Always use the dynamic proto messages for unpack
    
    Don't check by using run-time information.
    (of which we have very little in gapit)
    
    The real reason though is that I want to keep control
    of the formatting of the capture.Resource message.

commit 851a9dbcc9615f6938e557ab86e4cb3604966596
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Oct 26 19:17:56 2017 +0100

    Add support for non-primitive array to unpack

commit 6da825ceb72734bdcb54bb5517d361cd77634756
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Oct 27 14:21:18 2017 -0700

    Revert unused `gapit report histogram` flag.
    
    This also cleans up some of the code surrounding that change.

commit cafdbd4e145634729b31d377ea1b33ff6ad04a47
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 27 18:51:20 2017 +0100

    gapis/api/gvr: Exclude all eglSwapBuffer commands when generating events for the render conext.
    
    For some unknown reason the GVR samples call eglSwapBuffers. This is pointless as the context does not use a displayed framebuffer. Worse still, these were being considered as frames - displaying nothing but the undefined framebuffer pattern.

commit 3c6b0f2d7b85e4183289dd7b728f63e1dba55149
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 27 18:13:41 2017 +0100

    gapis/api/gvr: Only consider the 0'th frame index for submission.
    
    Dealing with multiple frame indices is really tricky and I've yet to see a trace that requires it. This change matches the GVR observations in GAPII.

commit 0b6504156332fd3e2cff080d167f6f82d3950652
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 27 17:09:37 2017 +0100

    cmd/gapit: Give SxS video exceptions to undefined FBs.

commit 6d2bbf21bdaae266127197dedd803c5d726fda72
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Oct 26 14:56:44 2017 -0700

    Set the default return code to CANCEL for all dialogs.
    
    When the application is exited (at least on OSX) the dialog's open()
    method appears to return the default status code.
    
    Fixes #1273

commit eae367939a59da45e56b967a11cc7059e48f5b7e
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Oct 26 23:21:02 2017 +0100

    Revert "Make map!(K,V) a reference type in C++ to match Go."
    
    This reverts commit c1d3b0152af4b46c1dc52f021f09f30f12c09f12.

commit 3ee031bdb48ed5959cbf202e3a90c1da0d16b1a0
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Oct 26 23:20:51 2017 +0100

    Revert "Remove the SharedObjects indirection container."
    
    This reverts commit 4c2748f25b37409dfeb027b223a6e623e9d28fa0.

commit c5c1a8bbc0422f166ca5c3054dd8a10463201dfc
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 24 15:57:09 2017 -0700

    Replace the gapid.bat script with the new gapid binary on Windows.
    
    Also separates out the packaging portions of the build script, so it can
    be invoked from a dev machine to test the packaging.

commit 3d1e871745ff4061311a2d34e44b953b79ae99e9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 24 15:14:58 2017 -0700

    Replace the gapid.sh script with the new gapid binary on macOS.
    
    Also separates out the packaging portions of the build script, so it can
    be invoked from a dev machine to test the packaging and adds a few more
    fields in the Info.plist file.

commit ef5a8458ab1e6940421e9e1c08d2c8ebaa9f4b6b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 24 14:46:08 2017 -0700

    Replace the gapid.sh script with the new gapid binary on Linux.
    
    Also separates out the packaging portions of the build script, so it can
    be invoked from a dev machine to test the packaging.

commit 8d92053b4a8702cdd14723d76dca8af6baaad8d1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 24 10:53:41 2017 -0700

    GAPIC (native) launcher script.
    
    Adds a new binary "gapid" that will be part of the distributed package.
    The binary looks for the JVM (bundled or from the system), the GAPIC
    JAR (bundled or from the build output) and launches GAPIC with the
    correct JVM flags and environment variables.
    
    The launcher adds the following flags:
    --vm <path to JVM>: Overrides the JVM search and runs GAPIC with the
                        given JVM.
    --vmarg <arg>: Adds the given arg as an argument to the JVM. This flag
                   can be repeated and each passed argument will be added.
    --console: (Windows) Causes the launcher to allocate a terminal console.
    
    The launcher script also intercepts the --help flag and appends its
    help information after GAPIC's.
    
    The main reason for this launcher is so that we can launch GAPIC on
    Windows without creating a terminal (the binary is marked as a GUI
    app and it launches javaw, unless --console is given).

commit 4c2748f25b37409dfeb027b223a6e623e9d28fa0
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Oct 20 20:19:02 2017 +0100

    Remove the SharedObjects indirection container.
    
    The container was just a hack around the fact we could not
    share pointer to the same map from two different contexts.
    Since that is possible now, clean up by removing the hack.

commit c1d3b0152af4b46c1dc52f021f09f30f12c09f12
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Oct 20 19:25:10 2017 +0100

    Make map!(K,V) a reference type in C++ to match Go.
    
    Match the semantic of the two languages for sanity.
    
    I choose reference type over value-type as I have found
    strong need for it while writing code in the api language.

commit 38bedfbac19fca9b7c37d99d32aaf3f0f223e303
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Oct 26 11:16:39 2017 -0400

    Hide the LastSubpass in Vulkan's state from UI (#1268)
    
    When a user clicks on a subcommand, LastSubpass will not show the
    current subpass but the last subpass of the whole renderpass. This is
    also because of the early terminator of Vulkan which appends extra
    vkCmdNextSubpass.

commit 143f2ee49801c19d19cd6628a3be66b586988ba0
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Oct 26 14:54:48 2017 +0100

    Add indentation to 'gapit unpack'

commit e110d0efe3172642c1585012bacc88630a53047f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Oct 26 14:40:02 2017 +0100

    Add verbose flag to 'gapit unpack'.
    
    Taken from #1142

commit ea4e0ecb21d4771c87dbf8974c20c7231c835e0c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Oct 26 12:29:53 2017 +0100

    DCE: Add debug option to print dropped commands.

commit ec8953435878f03b5a8525306161f56a696ceed9
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Oct 26 12:29:18 2017 +0100

    gles DCE: Consider clears of GL_DEPTH_STENCIL.
    
    Fixes replays of the vanilla UE4 app.

commit 4a7043e451ed0f3b2151b3dff45d6e3a72ad83b4
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Oct 26 11:14:38 2017 +0100

    gles/compat: Handle glDeleteFramebuffers() where the buffer is bound. (#1266)
    
    * gles/compat: Handle glDeleteFramebuffers() where the buffer is bound.
    
    See the comment for details.
    
    Fixes: #1261

commit decc7cf8c2befb660e982769386c8eabeb8d18a0
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Oct 26 00:33:40 2017 +0100

    gapis/capture: Fix reencoding of captures with protos
    
    This is for captures that use the protos type instead of converting to/from a runtime type. I hit this trying to re-save a modified capture that contained `capture.FramebufferObservation` which is not unboxed to a Go type. This change matches the behavior in `decoder.go`

commit 9c2f3bcf79e2d177e77eec8151521db41565c5fb
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 25 17:00:57 2017 +0100

    deviceinfo: Do the device instance querying on a separate thread.
    
    The queries for GL information was corrupting the currently bound EGL context. Instead of jumping through hoops to store and restore the context, just do the query on a separate throw-away thread.
    
    Also clean up the messy logic in `Spy::get()` which was unnecessarily complicated and can now be simplified due to the explicit installation of the interceptor.
    
    Fixes some traces where contexts were corrupted when traced.

commit d649554c205ceb6209fe3a3556dd71b1f5ab0095
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Oct 25 12:10:11 2017 -0400

    Support sparse binding in Vulkan for buffers and opaque images (#1237)
    
    * WIP: Support sparse binding
    
    * WIP: cache sparse binding info on the tracing side
    
    * WIP: recreate buffer sparse binding and opaque image sparse binding
    
    * WIP: update the state block in the trace side
    
    * Log error when the memories for sparse bindings for opaque images or buffers do not exist during recreating state

commit e2d132f46f991c393497167c0ae4e33efe084ef0
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Oct 25 10:11:56 2017 -0400

    Continue footprint building even if an error occur in another API command (#1256)
    
    * Continue footprint building even if an error occur in another API command
    
    * Remove error log for faults in a trace, make sure don't crash due to out-of-bound in the behavior list, fallback to dce disabled mode if dependency tracking info is broken.

commit a1c34844a1031c14e9a2b9cb5d9ff293d2b496ed
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 25 13:12:12 2017 +0100

    jdwp_loader: Fix race in thread resume.
    
    WaitForMethodEntry takes a thread to resume just after setting the breakpoint. This is supposed to be an atomic operation, but the thread was actually resumed just before the event handler was setup, meaning the app could pass the breakpoint before it was set.
    
    Fixes the onCreate() issue in #1260.

commit 6d5e59cebdb7100a768557c61c00bdcafec2f3f7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 25 12:50:56 2017 +0100

    core/java/jdwp: Improve the GetClassMethod error message.

commit 546550917dd037160cf2fd99d0a78108f1d0f842
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 25 12:50:37 2017 +0100

    jdwp_loader: Walk the superclasses looking for onCreate.
    
    Don't bail if the leaf class doesn't implement `onCreate`.
    Fixes the `Cause: Method '()V' not found` issue as reported in #1260.

commit ede4765086b93f97facd124af95426cd22cdc65c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 23 12:45:46 2017 -0700

    Handle copy/paste/cut events on spinners for macOS.
    
    Fixes #1067

commit 1adf8832ead42b26e4feea9e86884a29e372c947
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Oct 24 15:34:00 2017 -0400

    Hide the InRenderPass bool from UI (#1257)

commit 7f6a6663a0be3552a051d2d5a4b202e5e8b64fc4
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Oct 24 13:40:05 2017 -0400

    Use original shader if fail at assembling new shader module (#1254)
    
    * Use original shader if fail at assembling new shader module
    
    Also drop stale comments.
    
    Fix #1247

commit 61fa36297563565f5ee17abf1b255f1d09aad6c5
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 24 17:07:41 2017 +0100

    gapit: Fixes for SxS videos.
    
    FramebufferObservations can happen on start of frames and end of frames.
    Examples are: `eglSwapBuffers` and `gvr_frame_submit`.
    
    For `gvr_frame_submit`, this was working correctly - when you request the frame for the framebuffer observation, you asked for the frame after the `gvr_frame_submit` command. The gvr library has some magic to correctly hand back the frame associated with the submit call, as the currently bound framebuffer could be anything.
    
    For `eglSwapBuffers`, things were broken. Asking for the frame after a swap buffer correctly gives you back the undefined framebuffer pattern (as the contents is not preserved between swaps).
    
    To fix, keep track of writes to the framebuffer. When you see an observation, compare this to the command that last wrote to the framebuffer.
    
    Tested on GVR and GLES traces, both SxS and regular.

commit caafa3f2c59e58bb460761ad00dbb04be844a5eb
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 24 16:24:18 2017 +0100

    gapit: Fix tracing of GVR applications.
    
    We can't do classLoader stuff at Application.<init> as the application context hasn't been initialized at this point.
    
    Wait for the Application to be contructed, then set a breakpoint on the onCreate method of the object type. This will be the most overrided method.

commit 948ec7b6fe1c473492a75cec34689f5cd470a374
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 24 15:47:02 2017 +0100

    Move some of the convert.go.tmpl code.
    
    Just moving the code, no changes.

commit d9abc190d619ffe4ca41d598ee6997a3700ba0a3
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 24 13:11:38 2017 +0100

    Add a version field to capture's header

commit 0c8081cb9a6a51d9bf17329cf338b6ce0043f60e
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 23 14:32:18 2017 +0100

    service.proto: Add representation field to CommandTreeNode.
    
    Use this for picking a command to show data for when selecting a group.
    
    Fixes: #1134

commit cce0f7e1fae67af341726ad6bb8f78f006e89fab
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 23 14:19:11 2017 +0100

    Fix build - update build.sh path to icons. (#1239)

commit 795f3a15726c649e5a265c5a0d6c28a8e8e86e97
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Mon Oct 23 04:01:50 2017 -0700

    New icons. (#1230)
    
    * Remove unused icons.
    
    * Support icon sequences in the theme.
    
    * Update the icons to the new version.
    
    Also changes the color channel icon into a sheet with a different
    icon for each channel combination.
    
    * Change the geometry color to better match the icon theme.
    
    * Add a small margin to the device reload button.
    
    * Flatten the icon resource file hierarchy.
    
    * Match the background color preview with the new icons.
    
    * gapic: Update histogram icons.

commit 6c16bc93f58534cc09c7a1474ec30a29dcae2e93
Author: Qining <lqn.anthony@gmail.com>
Date:   Sat Oct 21 14:48:41 2017 -0400

    Returns SubCommandRange for CmdIDGroup under SubCmdRoot. (#1236)
    
    * Returns SubCommandRange for CmdIDGroup under SubCmdRoot.

commit 897bf493585c2322c0961da36c9f95a370ce1bc4
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Oct 20 10:56:35 2017 -0700

    Adds documentation to client functions.
    
    Documents what the client functions do as well as the fact that they may
    return partially filled output objects in the event of an upload error.

commit 8f4bb45d09f0e400a5e9baac186d49d41bef98de
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Oct 19 12:59:01 2017 -0700

    Fix trace failures not uploading logs.
    
    Despite this being against golangs ideomatic style to returning errors
    only with nil objects, the clients return "valid" output objects during
    an error, this is to communicate logs and error strings that otherwise
    could not get uploaded. A fix changed this behavior in the trace client,
    and it has not uploaded any logs since.
    
    This fix reverts that change since the function is unexported, and the
    alternative would be to populate an output parameter, which also goes
    against golang style.

commit 83507c55b1ba3e27621192e45e2b285a61241d36
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Oct 20 10:40:36 2017 -0400

    Vulkan: cache the memory requirement info for images at creation time (#1233)

commit f49a130f17df8826f910f641353effc54db26a5c
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Oct 18 19:29:35 2017 -0400

    If we cannot find the signature for getClassLoader, try an alternate.

commit 633eb8426d27be9452b06a33a9c971ec38155b42
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 20 09:59:39 2017 +0100

    gapic: Add histogram and use it for better tonemapping. (#1206)
    
    Use a percentile to pick upper and lower limits for display
    tonemapping when the format is HDR.

commit 5ebdf4b48f2bc41315c609b8bb54ffdc37ca57b0
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Oct 18 17:43:04 2017 -0700

    Fixes false positives in sxs video for empty frames.
    
    If a frame was empty it would ignore the difference it had with the
    frame buffer observation and not report an error in the side by side
    video generator. This makes a bunch of replays on robot look green when
    they are anything but. To fix this I just removed the check for
    undefined video frames before the error report, I'm not even sure why
    undefined frames were considered acceptable in the first place.

commit 0e37b2795f0319bef694f28b8158e1feff9b49b3
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Oct 19 11:42:57 2017 +0100

    gapis: Simplify the benchmark package and API. (#1227)
    
    Contained lots of cruft from perfz that's now removed.

commit db7975c838c008a014bca07d8ce2992b16a1c69c
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Oct 11 11:08:15 2017 -0700

    Fix monitor/scheduler race condition.
    
    There was a race condition that caused the scheduler to update robot
    tasks with incomplete information. Managers would monitor for changes
    inside a goroutine that would compete with the update logic of the data
    owner. All initial data would be read in at once, but still in another
    thread, which caused the scheduler to update without full knowledge of
    entity state, this would cause extraneous tasks to get spawned every
    time robot was restarted.
    
    The fix is to initialize the owner's data with a non monitoring search
    in the main thread before spawning goroutines to continue monitoring
    updates. This ensures we have the complete initial information prior to
    the first update.

commit b007250a464dac2ef4201c50005115467a294d29
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Oct 18 13:29:41 2017 -0400

    Fix indices for subcommand in Vulkan when resolving command groups (#1223)
    
    * Fix indices for subcommand in Vulkan when resolving command groups
    
    Fix #1214
    
    Turns out we just need to remove two historical lines of code
    
    * remove unused variables

commit 2afd0b28c8b9bb675fb427279fe1bea766e5960d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 17 17:35:05 2017 -0700

    Fix macOS and Linux launch scripts to work with paths containing spaces.

commit 284b9d4816f17ffff9e7181b512b5548338e8178
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Oct 18 10:52:09 2017 -0400

    Increased the timeout for jdwp commands.
    
    Since we load the interceptor and gapii inside a jdwp command,
    they can take a long time, especially in debug where we log
    a lot of things. Increase the timer to make sure we don't disconnect
    early.

commit 8f65fb0fabc134d7a2f7c9d6ce0218b2dbecbdb7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 18 16:03:41 2017 +0100

    gles.moveClientVBsToVAs: Write VAP cmds on draw thread. (#1220)
    
    The calls to glVertexAttribPointer may have come from a thread that has since unbound the context. Just use the thread that is making the draw call.
    
    Issue: #1205

commit 15c8162e754674a9343611f1af9d100d7fa28197
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Oct 18 10:36:46 2017 -0400

    Switched to using Application.<init> instead of onCreate.
    
    Some applications do not call super().onCreate. The documentation
    states that they must, but in reality some do not.
    
    Since the constructor MUST get hit at some point, we can break their
    instead. The ClassLoader is already set up at that point anyway, so GL
    still works.

commit a52c7767ab1442907542de0e10bb31d9d7d42605
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 18 12:04:21 2017 +0100

    PackageInfoService: Catch Resources.NotFoundException
    
    Fixes: #1194

commit 4da51fa68d71301e62296a8123e00b30b8a776a8
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Oct 18 09:16:26 2017 -0400

    Show memory observations of the initial call for Vulkan Subcommands (#1204)

commit 7a26dc552e0d649ec8b4ff25028187ba223b18c8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 17 13:22:09 2017 -0700

    Override the OSX scrollbar behavior for the image panel.
    
    Forces the use of the "always visible" style of the scrollbars on the
    image panel, instead of the possible overlay style, which would hide
    portions of the image.
    
    Introduces a platform specific SwtUtil class inside the the SWT package,
    so it can easily access protected fields, which can be (sparingly) used
    to customize platform specific behavior.
    
    Fixes #1141

commit e5047682d2f0559753a63d19078b77ee751071e7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Oct 17 14:18:57 2017 -0700

    Fix an index out of bounds exception if the tree is empty.
    
    Fixes #1154

commit 157c3c7651cf0032010965be5dac7046f0363827
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Sep 21 13:48:46 2017 -0400

    Added the spy_disabled annotation to slices.
    
    This allows us to avoid creation/copying of any slices that
    are not needed during the trace. This should reduce memory pressure
    as we no longer need to keep shadow memory around during the trace
    as long as we know how to re-create it for mid-execution capture.

commit f4928c3b44768b02a214c269846754e38ef057d7
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Oct 16 12:48:20 2017 -0400

    Allow the use of the NDK r16 or r15.

commit 7333354f9d998b271785537fbbfb8f0912080c71
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Oct 16 13:39:48 2017 -0400

    Fixed mistake in previous MR to handle PACK32 formats.
    
    I had flipped EBGR, with the rest of the pack32 formats, but
    we had already fixed this specific case previously.

commit f6336c5bbc39dbfaa8bce31e6b7dc9a9c746cb73
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Oct 16 12:04:00 2017 -0400

    Remove the the warnings of not handled commands in DCE for Vulkan (#1201)

commit 336edc46478ff1520be3ceed40331b9cdcd2f4de
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Oct 16 10:53:55 2017 -0400

    Fix packed U32 Formats in Vulkan.
    
    Based on how packed formats are represented in Vulkan, we were
    interpreting them flipped.

commit c136e36addf043eb07be7f36a2fe6ce9eb933b56
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Oct 16 11:41:26 2017 -0400

    Use u32->VkImageCopy instead of u64.
    
    RegionCount is 32-bit anyway, so we cannot ever get a 64-bit value.
    Fixes 1199.

commit a429b61e2f7d53c5daed9418cce925b22037941e
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Oct 16 11:18:44 2017 -0400

    Guarantee the framebuffer content of the last bound queue is not discarded by DCE (#1196)

commit cbe556e8d9a2db2957c7f0bd593c1e5f39e0f4a7
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Oct 14 02:55:03 2017 +0100

    Update README.md
    
    Put download link at the top of the README.md

commit d65caff4d4b2e71ad13f35518d0f134d7b8e4c0b
Author: Tom Salter <tomsalter@google.com>
Date:   Fri Oct 13 17:05:34 2017 -0700

    Wrong branch!

commit 775a7bb82048d8b4d9660ac6a744efb587e4c612
Author: Tom Salter <tomsalter@google.com>
Date:   Fri Oct 13 17:03:24 2017 -0700

    Create tut-find-largest-texture.md

commit 573e7c5a8b2f46f73fea1c1e3d775581a0fac7bb
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Oct 13 14:19:52 2017 -0400

    Fix the crash caused by cmd grouping when vkCmdExecuteCommands is used (#1192)

commit e451f22b667618960891bbbe446256f70a8c04fa
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Oct 13 13:59:34 2017 -0400

    Fixed replay of partial command-buffers that contain pushconstants.
    
    We were getting the data for the U8s, which was not correct.
    Instead read the data out into a []uint8, and then upload
    that in the recreated command. This has the desired effect
    of pushing the right data into the push constants.
    
    This also fixes the same problem with VkCmdUpdateBuffer.

commit 8afc0bfd57b5e7d5e222f676e9b5c85e114a8cbd
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Oct 13 11:00:27 2017 -0400

    Fix the hang on subcommand: vkCmdWaitEvents (#1191)
    
    * Fix the incorrect renderpass grouping when secondary commandbuffers involved
    
    * Fix the hang on subcommand: vkCmdWaitEvents

commit fdaa82979ae3180e56b33a18ad48cd142bce673e
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Oct 13 09:51:34 2017 -0400

    Fix the incorrect renderpass grouping when secondary commandbuffers involved (#1190)

commit 2f3ee9a9e27e44b9a51917c4e687398bfc39f39b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 13 13:06:07 2017 +0100

    Bump GAPID version to v0.9.0

commit 70d94d2967f1dd6a84cb721780d542ed5b071d15
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Oct 12 13:22:33 2017 -0400

    Fix for VkSetEvent
    
    We were clobbering over a pointer incorrectly, this was causing the
    synchronization data to be created incorrectly.

commit 944094def6cf58434dc5355794bd4be7c63d2a18
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 9 13:08:06 2017 -0700

    Show a warning if the image has an empty alpha channel.
    
    If the image has an alpha channel, where all values are below a threshold,
    a warning and option to disable the alpha channel are shown. If the alpha
    channel is disabled through this option and later an image with an alpha
    channel is selected, a warning and option to re-enable the alpha channel
    are shown.
    
    Fixes #723

commit 0dad9d0ef599be000368ccacb09c0c595a6dcba5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 9 15:10:18 2017 -0700

    Rename the log theme colors.

commit 8e52d95af2daae57c0a09b817dd6371bee9ad5ed
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Oct 11 17:38:47 2017 -0400

    Fix crashes when tracing vkCmdExecuteCommands (#1187)

commit 961fcad404e7ada12242621b434658b0c9d317ed
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Oct 11 16:40:24 2017 -0400

    Fix crashes at vkCreateImageView (#1185)

commit 7b4a0f952fea8ec7e005654fc384afc88979d236
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Oct 6 13:12:02 2017 -0700

    Add entity previews to object view.
    
    In order to preview entities without needing to leave the grid this
    change adds a video dom element and modifies the object view to create
    previews of logs, reports, and videos in the grid view. Because this
    makes the object view larger in size it also made sense to move it to
    the right side of the screen and position it absolutely (so you don't
    need to scroll to the top of the screen either).

commit fd287c194700ac29d3e8882c342f7518fc325633
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Oct 6 17:34:55 2017 -0700

    Add stale unknown state to grid.
    
    Previously any task that was added to the grid, but yet to have started
    would have no status associated and would get labeled as Stale/Failed.
    This caused it to look similar to a failure case. Instead it is now
    labeled as Stale/Unknown as it is not in progress yet, but it has been
    scheduled thus the status is not yet known. It will show up in the grid
    as grey instead of red.
    
    This also fixes a bug where the template lookups for target and host
    devices had missing braces, causing those templates to fail to match.

commit 0201216bb12cf131c0be22766267a6b3fa9f26e7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 11 00:28:54 2017 +0100

    gles: Rework read_texture.go and read_framebuffer.go to handle MS.
    
    Unify the framebuffer read-back logic for color and depth maps.
    Add support for multisample resolving.
    Use this logic for texture read-backs too.

commit 283ad5d7c2996da96f0ad066f7334ffb537d5a52
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 11 00:27:03 2017 +0100

    gles/draw_commands.api: Also pull back depth and stencil attachments.

commit 0f2ee3d3ecf226d80f6d831b03df507794fefceb
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 11 00:26:12 2017 +0100

    gl.api: Flesh out glTexImage2DMultisample()
    
    While this is a desktop GL command used for compat, the state is shared between all transformers in the stack, and without this logic the texture is never primed with a layer.
    
    Fixes compat issues.

commit f6638c5966fdf50527351f22b595873394ff59c4
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 11 00:24:45 2017 +0100

    gapic: Don‚Äôt consider NaN and ‚àû in tone mapping.

commit 71a8a9b9f06bec6a3a9309dca3a50e75fee316a7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 11 00:24:01 2017 +0100

    Add basic support for multisampled textures.

commit 166124996ec94c88baed85ec78034f5623f83b9b
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 19:35:24 2017 +0100

    gapis/api: Add FramebufferAttachment helpers.
    
    If we grow this enum to support more color attachments or N depth
    attachments, we now have one place to change.

commit 560482060bf17f0038454ea16ca8e8bcb70d20e0
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 19:14:50 2017 +0100

    gles: Add mesh support for glDrawRangeElements.
    
    Cleanup the code while I'm there.

commit 4715abf845cd9a1a67e3fc779a6903cb1cfe7061
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Oct 10 15:19:27 2017 -0400

    Show the debug name of images and shaders if they are present.

commit 8f7cbebb0afe47714431307338b7cd833a7537f0
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 13:39:43 2017 +0100

    core/net/grpcutil: Don't crash the entire app if a gRPC connection errors.
    
    These connections can error if the server is shutting down. No need to crash the client.

commit 0a79f3fab6ad5694391ea26047e6c2742185ab15
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 11:59:32 2017 +0100

    api.go.tmpl: Split Read() and Write() into MustX and X variants.
    
    Use the non-must form to handle context cancellation correctly in hand written code.
    
    Fixes #1123

commit 88fe53e196eef5fd882dc64bd5e9002295fe45dc
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 11:08:14 2017 +0100

    gapis/api/templates: Use correct types for ‚ÄúGo.Null‚Äù.

commit 0dbd7e8253fb08d81888ccaba2fc22cd4e7c97c1
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 09:33:46 2017 +0100

    cmd/gapit: Make stresstest trigger #1123

commit a5d697a1f9bf415de17fcba19c481e9944ff93df
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 10 20:33:04 2017 +0100

    Track number of samples for textures and renderbuffers

commit 5e81e0af33b183253f4cfab7ad8a51d0e0946ce7
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 18:03:18 2017 +0100

    cmd/gapit: Various fixes to `gapit video`
    
    1) Filter to the main context by default. Hides a lot of random crap on other contexts.
    2) Fix the event index being printed as a command index.
    3) Fix the DBZ crash.

commit 8cdafba421aef09d102127293bce8f300bd71a58
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 18:00:58 2017 +0100

    Fix incorrect framebuffer sizes for GVR frames.
    
    It was using the backbuffer size at the gvr_frame_submit call.
    backbuffer != GVR frame.

commit 9f0b49d4685612d3560e61c242f0f9045aa6b589
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 17:59:14 2017 +0100

    gapii: Observe submitted GVR frame framebuffers.
    
    Fixes: #1146

commit 361c402667ca3cb7bbee08a50f1aacc25e82756c
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Oct 10 14:38:42 2017 -0400

    Only destroy the command pool, do not destroy each command buffer.
    
    We do not need to destroy every command-buffer just before
    we destroy the entire command-pool for the virtual swapchain.

commit e06812e195ac4c52890ea84478520e581e8b60ee
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 01:44:52 2017 +0100

    core/app: Bump the CleanupTimeout to something a bit more realistic.

commit 00639afa58d7709dc78ae0f7311977d949a1f75b
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 01:42:58 2017 +0100

    core/app: Use an redirectable log.Handler.
    
    The old GAPIS logging system would replace the log handler on the context with a log.Broadcaster.
    
    This didn‚Äôt work as the app framework would close it‚Äôs handler on app termination, but due to context immutability, these close messages wouldn‚Äôt propagate down to the newer broadcaster. This causes messages to not get flushed, and some logs were missing tail messages.
    
    Fixes: #1113

commit 1638f547e6e7a61c704383bf0af69c1799e2be58
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 01:38:27 2017 +0100

    gapis/server: Wait for the server to stop before terminating the app.

commit cbb548123db0fa789afe66ba28e5f516137b2270
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 01:37:54 2017 +0100

    gapis/server: Stop the LogStream when the stream is closed.
    
    Makes server.GracefulStop() actually return as the stream function now terminates.

commit e05fc53ced8e1dc3293f17a4b1323b1c8d19406e
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 01:36:01 2017 +0100

    core/log/Channel: Close the downstream Handler.
    
    Fixes some cases where messages were not being flushed.

commit bbe17a9162cbb67a7ccb93f1e43d4dc08b279059
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 9 20:00:24 2017 +0100

    core/app: Add crash handler to print stack trace code.
    
    This code is specific to the app that produced it and can be used
    to regenerate the stack trace.

commit 50ecc0104891444f115f4870f28c1b40e1d708cb
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 9 19:59:05 2017 +0100

    core/data/binary: Move tests to own _test package.
    
    Breaks a cyclic dependency.

commit 73c5776482a42cc9526d8476dab4961975d79592
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 9 14:49:48 2017 +0100

    core/fault/stacktrace: Reimplement stack walking & move compression out.
    
    The stack tracing method was using an old API which has since been
    deprecated with runtime.CallersFrames.
    
    Reimplemented the filtering logic so that it now make sense to me.
    
    Moved the compression logic out to a ‚Äòcrunch‚Äô package so that I can
    break a dependency cycle.

commit 296fa452f77d19522a1bf0777819e098653caeec
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 9 14:35:06 2017 +0100

    Replace `go X` with `crash.Go(func() { X })`
    
    Will be used for go crash reporting.
    
    Truly horrible, but marginally less horrible than other solutions IMO.

commit 2c116f18ecd83ce2df8ce9501abc86c6d4f658c8
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 9 14:28:48 2017 +0100

    Add core/app/crash.
    
    A package to provide crash reporting.
    
    Does not do any sort of global crash recovery.

commit c4bae29ef8218b77a165b3dad5b955ea232b6431
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Oct 10 14:15:16 2017 +0100

    egl.api: Handle null contexts.
    
    Fixes crash on many apps. Opps.

commit 504c35292d1d5b3b92a46f9e5c2f2577c835e2e1
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Oct 6 13:58:27 2017 -0400

    Fix for multiple devices in one system.
    
    Some systems, especially laptops, may have multiple adapters that
    both support Vulkan. Furthermore, some drivers returns these
    adapters in an effectively random order, or at least not
    guaranteed to be the same between the tracing program, and
    gapir. This remaps the physical devices on replay, so that
    commands that were directed to a specific physical device are
    directed to the same physical device if possible.

commit 8fa9459218151de1bc1c205bdafb8267edb438b0
Author: Dar√≠o Here√±√∫ <magallania@gmail.com>
Date:   Sat Oct 7 04:23:58 2017 +0200

    Typo

commit 81d051935383911292e2d4b92c7114ee89e0c4f3
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 9 12:33:57 2017 +0100

    Update SPIRV-Cross to 426395

commit b9a712db1076d4e496ccf21edbb24cacbc54d11c
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 9 12:33:09 2017 +0100

    gapis/shadertools: Add StripOptimizations flag.
    
    Some optimizations require more recent versions of GL that macOS supports.
    Add an option to remove optimizations that should have no impact on the end result.
    
    Also fix a bunch of govet issues in shadertools.go.

commit 0d889f0114b1e5b95555b03d090e95b827927efd
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Oct 9 13:08:05 2017 +0100

    core/fault/stacktrace: Implement compression.
    
    The goal here is to get a stacktrace down to something under a 150 bytes so it could be reported in a Google Analytics exception message.
    
    I've implemented a bunch of different compression methods, compared these to flate, gzip, lzw and zlib. All of the custom compressors out-compress the standard compressors.
    
    As compression payloads are small, and time isn't that important, the algorithm tries to compress with 8 different compressors - and encodes the compression type as the first 3 bits of the data.
    
    Currently unused, but hopefully will be soon.

commit 1ae6662b8e4db61957b17494433979f241de7053
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Oct 6 14:45:31 2017 -0400

    Flush the encoder before we close the connection.
    
    This allows us to capture every command in the frame, and not drop the
    last few if we had set a number of frames to capture.

commit 5d55eb9d9f11fc4f71160255649ad4c2a2cc8622
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Sep 29 16:15:23 2017 -0700

    Show only tracks that have packages in selector.
    
    Some tracks were deprecated or had their packages updated to no longer
    refer to them. This makes the track dimension rely on which tracks are
    populated with packages.

commit 210546f247790ad9b38289d73135fb676d04995b
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Sep 26 16:41:05 2017 -0700

    Shows only active host/target devices in dimensions.
    
    It was wasteful having empty columns for devices that were not valid
    targets or hosts in selectors or columns. This change looks at the
    active workers to see which devices are actually used as targets or
    hosts before adding them to the enum.

commit 3631695cb38b274dbac6e4ae9dfcbd9c06d7df4c
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 6 19:01:26 2017 +0100

    gles/compat: Ignore glInvalidateSubFramebuffer.
    
    Don‚Äôt remove glInvalidateFramebuffer if it is supported.

commit 945bc301e10a509b452bd2bfe82f5b850ba46f65
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 6 19:00:43 2017 +0100

    gles/compat: Handle missing glTexStorage2DMultisample().
    
    It doesn‚Äôt exist on mac (needs 4.3, got 4.1)
    
    Use glTexImage2DMultisample instead.

commit 892e24fbfe2c605517fb36a8c14b609f25b5d2b0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 6 18:59:16 2017 +0100

    gles/compat: Use relaxed compilation for cross-compilation.
    
    Errors are still reported with full severity in the report view, but this:
    a) Let‚Äôs you see something in the views (much like most Android devices)
    b) Doesn‚Äôt mean compilation errors snowball into other report issues.

commit a749ded363ff74d1150ffaff52cfae475fd388e4
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 6 18:57:48 2017 +0100

    gapis/shadertools: Add Preamble & Relaxed options.
    
    Do a little refactoring while I‚Äôm there.

commit d6b94a979491258fac8377410ff0483534c5f0ec
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Oct 4 15:09:25 2017 -0400

    Force us to keep renderpass commands in the dead-code elimination.
    
    This was causing some issues with a trace, where we were dropping
    some drawing commands (and subsequently not getting any output).
    
    This needs to be investigated further, but this at least allows these
    traces to replay correctly.

commit 1ce48180844ab85e1c117230c4addfeb4fa7209d
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Fri Oct 6 12:41:46 2017 +0100

    gapir: Handle extensions where the context has no backbuffer.

commit ab8a7c41914e2faf1252d15ba3c23cbcddab3713
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 6 02:04:54 2017 +0100

    gles/extras.api: Remove EGLSurface parameters...
    
    from GetEGLStaticContextState. It‚Äôs not used.

commit 2541931556d3e0eacdda9a76b4f7815a1a04be1f
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 6 01:38:59 2017 +0100

    egl.api: Add TODOs for correctly handling null draw/read surfaces.
    
    Make the tests more correct while we‚Äôre at it.

commit c7fca732a45f437cb39d5857c51136a2a77d0dab
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 6 01:38:14 2017 +0100

    gapii: Don‚Äôt return null context states if the draw surface is null.
    
    It can be nullptr if this extension is used:
    https://www.khronos.org/registry/EGL/extensions/KHR/EGL_KHR_surfaceless_context.txt

commit 308431b4751937c7c3f1e20824711841e7073ba4
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 6 01:37:18 2017 +0100

    egl.api: Address long standing review comment.
    
    See https://github.com/google/gapid/commit/b9d843c209776a684d6833c14c5bea3448600efe#commitcomment-23971611

commit 92b7df8287e7978f643e12f8895c89fa580abd43
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Oct 6 01:35:25 2017 +0100

    gapii: Log a debug message if abort() is called.

commit 4e8ecf1cac9742eb69284c0a87fcc4085cd34f58
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Oct 3 14:58:45 2017 -0700

    Fix parentage for separate tracks.
    
    It seems that connectTaskParentChild was never updated to look for
    parent packages in any track other than "auto". This fixes that, so now
    we should start to see regressions and fixes again in other tracks.

commit 03a38bcaf3917ee34a9a9b705a8c4dd5858b4525
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Sep 15 13:28:59 2017 -0700

    Add auto constraints selector.
    
    Certain dimensions need the ability to automatically select the
    constraints based on the state of the page. This change adds the auto
    selector which calls an overridable function that can manipulate the
    constraints variable from the dimension itself. For now this means that
    the trackDimension will constrain itself to the master or auto track and
    the packageDimension will constrain itself to the latest package of
    current track unless there are too many other constraints, in which case
    it acts like the all selector (a rename that was previously any).

commit 99ba27e19d18f7ccac85377c468e8742cfba0fd4
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Oct 4 19:32:51 2017 +0100

    gapii/client: Warn if AS is preventing tracing
    
    Issue: #911

commit 9492539f1dea6aaf77ccc7ba0b5d6002d2c6b372
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Oct 4 16:42:42 2017 +0100

    Add support for PC-relative LDRi12

commit 15d0219e55eb13a6e28437da6d9d3054222f40df
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Oct 4 09:09:51 2017 -0400

    Fixed tracing on Windows in MINGW.
    
    We were incorrectly relying on the order of evaluation of
    left-hand and right-hand side of assignments. This meant
    that values were not correct of evaluating LHS first.

commit 46a08ea5f14f87024187cbfad50720c20029d96c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 2 22:01:44 2017 -0700

    Increase the max cab size in the msi, so it won't get split.

commit 56885f564b5b68e224056b52a18762cf24b4711f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 3 13:37:21 2017 +0100

    Load GL commands from libhwgl.so

commit 848910e1234615d45d288365bf101c95cef17e24
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Oct 3 13:34:47 2017 +0100

    Handle more ARM load/store opcodes

commit 4edbf78c1447fc37e8ff75a5d8db21a3b125dc91
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Sep 26 20:11:14 2017 +0100

    Add custom messages for most common invalid operations.

commit 237470f7eda916ed0f9e8cfab2c38894c6ac5efe
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Sep 26 18:42:26 2017 +0100

    Print the relevant value on glErrorInvalidValue()

commit d6869aac4fc9877706b00da740dd864e8c12b03f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Sep 26 17:46:43 2017 +0100

    Customize messages for the most common errors.

commit a01d8586f1a6a42a1efb8247d0c8ec92f5a381d8
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Sep 26 17:12:24 2017 +0100

    Rename couple of arguments

commit 46fb84e67a8e4ff49a1ea55d4db4263124618cfa
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Sep 26 17:03:06 2017 +0100

    Rename CheckNonNegative to match the rest of helpers.

commit 25ca8437a2d27ecdc52eac1ac6568f97fd5e4d4f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Sep 26 16:54:10 2017 +0100

    Move error helpers to its own file

commit 392822064c341e8c04ff1dbf17b5c17e9e124d6e
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Sep 26 15:01:23 2017 +0100

    More specific errors for invalid values.

commit 9087c0f45b5df8cad52aa0d500d401f421380b51
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Sep 25 16:33:02 2017 +0100

    Split complicated error check to several statements.
    
    Check only one argument at a time.

commit df86b84efb8a5db813fdce11cbfe79773f34ba60
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 2 12:32:14 2017 -0700

    Use go 1.8.3 to build on Kokoro.
    
    This is the same version as we recommend in BUILDING.md

commit fd71d85164ebcb1e005faf69accf51498230fe47
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Oct 2 12:09:12 2017 -0700

    Mark the .app as an Application.

commit 3600506e9b9b71e81839e0334cef9e4ac1210993
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 28 13:11:28 2017 -0700

    Fix the disk badge image on macOS kokoro builds.
    
    A missing optional dependency PIP package seems to have vanished.

commit bf21ba3905159089f4ec9c332dbf892dd6a19133
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Sep 29 16:04:30 2017 +0900

    3D and 2D/1D array texture support on the Vulkan side (#1097)
    
    * 3D and 2D/1D array texture support on the Vulkan side

commit e4a608da3a454144e961cddc795eb66508e0a49a
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Sep 27 16:39:16 2017 -0700

    Fix panic during robot trace.
    
    Using adb now expects bind to have stored a registry, and if it has not
    it will panic. Adding PutRegistry before the adb.Monitor in the trace
    client's Run proc fixes this panic.

commit a1b5f603ba347385477a3c6dd14bdc570351b090
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Sep 21 17:01:26 2017 -0700

    Allow updating subjects with `do robot set subject`.
    
    Found this would be useful as well, specifically being able to change
    the trace time for some apks will be really handy. Added the ability to
    change api as well, which may not be super useful unless a subject is
    accidentally uploaded without setting the api the first time.

commit ab09feb37ca2467c7866d20d3515c1a67263f4f4
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Sep 21 15:47:15 2017 -0700

    Add package update verb `do robot set package`.
    
    In order to correct the parentage info for certain packages it is
    necessary to change the parent id from the command line. Updating tracks
    via the `do robot set` command is really useful so this adds the ability
    to update packages (either the parent id, or the description).

commit 56c5b3cff3b055264f905d52f15f26b8306ca189
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 26 13:42:23 2017 -0700

    Throttle 'RPC Unavailable' log messages.
    
    gRPC returns this status if the server end point goes away.
    Fixes #755

commit 894203c88f07ba75911f512da14fe85bf33b7539
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 26 12:05:26 2017 -0700

    Fix remaining warnings.

commit d62c9c2e667f9706b6a0ff05cff7e448a9a9176a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 26 11:27:34 2017 -0700

    Don't create a new texture on every mouse event.
    
    Fixes #1114, most likely.

commit b29fd61e67d5711b5127745588f35b744b1dea14
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 19 14:31:46 2017 -0700

    Don't use virtual trees, they are slow.
    
    Virtual trees appear to have some overhead that makes scrolling slow
    on OSX. Non-virtual trees on OSX also have bad overhead when
    changing the icon, so this change also uses a custom painter for
    the tree labels (only the labels, not the tree itself).
    
    Refactored (most of) the duplicated code between the command and
    state views into a re-usable tree widget.
    
    Fixes #384
    Fixes #683, since we now the image is part of the label
    May be a work around for #941

commit 32d4355c06e128b7ead32ac87023acf3aad30b9a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 19 15:13:20 2017 -0700

    Move the RPC initiation off of the UI thread.

commit 785eadb74852dc9ff37a8121e15475062be71d28
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 19 14:51:11 2017 -0700

    Fix a warning.

commit 2d5daaa463addbe28cb8f310e9d114c6c0f00355
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 27 15:35:53 2017 +0100

    Address review comments

commit 3da0d8b31e0b4bf2e7d389774f8e70c8365fad8d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 26 15:48:11 2017 +0100

    gapidapk: Remove unused imports, disable profiling.

commit 4eed788c77457524dd214e8522b68dcb8d71da30
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 26 14:09:45 2017 +0100

    core/os/android/adb: Try port connection more frequently.
    
    Reduce worst-case latency.

commit 316dad8b18fb0672343966686dc9fdaad51d6f0a
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 26 14:08:41 2017 +0100

    gapidapk: Debug logging

commit f8df55acdb6b5f409be12773e221f7c1e2b13958
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 26 14:08:20 2017 +0100

    gapidapk/android: Add .gitignore file for AS generated files

commit 8be8bcad6a38a65341d6da6c0734717b2ee0a7f9
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 26 13:06:52 2017 +0100

    gapidapk: Optimize EnsureInstalled.
    
    Don't check again if you already just checked.
    
    Shaves off a second or so.

commit 4af3a181fdc9fd6306c3e6f75449c83589a652a8
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 26 12:45:35 2017 +0100

    gapidapk: Optimize EnsureInstalled.
    
    Don't fetch all the packages to just search for a single package. Shaves off half a second or so.

commit ad5b2c41752d9f98b04e355418c0bb1cac9a7a96
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 26 02:42:07 2017 +0100

    gapidapk: Use a disk cache to speed up package lists.

commit abb4ca9a31ccd24aaa8a58654e6ad6a58ad11987
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Sep 25 16:20:07 2017 +0100

    gapidapk: Resize exceptionally large icons.
    
    Can drastically reduce icon encoding times.

commit 8c31b776bae25c36ca5cc21cc83b192474212066
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 28 09:40:11 2017 +0100

    gapidapk: Add profiling statistics.

commit a7714f4309b3291a13a8e743947c56d0f0c87eb6
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Sep 26 18:20:27 2017 +0100

    kokoro/windows: Automatically uninstall existing installations.

commit 3f4358b3675376c6f6fef6730ab01cea4c73e77d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 26 16:45:04 2017 +0100

    kokoro/windows: Use correct version for installer.

commit 0666827eccbe9d8b14e5689d4d0e01f55ded2dfd
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Sep 21 14:51:26 2017 -0700

    Robot: Add API option to subject upload.
    
    Allows user to specify the API of the uploaded subject as either gles
    (the default) or vulkan. Then stores it in the subject's hints to be
    used when tracing with gapit.

commit 593ea1b2f37c95192d0eb327d6caeb9c542784e7
Author: Daniel Deptford <4424222+redmercury@users.noreply.github.com>
Date:   Mon Sep 25 10:41:31 2017 -0700

    GAPII Optimizations (#1133)
    
    * Optimizing message sending by batching buffers and reducing thread interactions.
    
    * Feedback modifications

commit 443bd573f7a78f7c382fd894dc464a8f9a08534c
Author: Daniel Deptford <ddeptford@google.com>
Date:   Fri Sep 22 17:42:33 2017 -0700

    Adding systrace functionality to gapid core library.

commit e873228976e27d96964158506308962bed7e7db8
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Sep 21 17:19:22 2017 +0100

    Store EGLImage resources when saving capture
    
    Fixes #1127

commit 65117c76ce638d888f4d5fcb9bf8b51c3b314b9f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Sep 21 19:20:58 2017 +0100

    Increase max protobuf message size to 2GB
    
    The message to save captures that big.

commit 5d4f601cef2137ef0cc8af0aeb24e35f1b295690
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Sep 18 13:24:26 2017 -0400

    Removed most of the hidden state on the Vulkan state block.
    
    This moves us towards being able to transfer the state block
    as-is, and greatly improve mid-execution capture speed.

commit e0c6c82aa8e60f196b6aeea62bb8ef4872bc6ac1
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Sep 20 15:59:57 2017 -0700

    Allow do upload to specify flags to robot, branch->track.
    
    In order to allow `do upload` to forward command line options to the
    underlying `do robot` commands they must be represented in the original
    verb or else `do` will cause an error for unknown flags. This change
    factors out those flags into UploadOptions and RobotOptions and replaces
    the necessary verbs on `do` and `do robot`.
    
    This also changes the cli flag of branch to track as that is the true
    meaning of the flag, it just uses the branch when a user build does not
    specify a track manually.

commit a66f669729e43157503c5832a26b7fb6e001dc81
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Sep 14 15:12:20 2017 +0100

    Record the content of external images during trace
    
    Fixes #913

commit c63dbf556c1d04d8bf7077dd809830bae9fe1b4e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 19 13:41:00 2017 -0700

    Fix quirks with the movable tabs.
    
    Especially around minimize/maximize behaviour. Now using our own
    layout logic for finer control.

commit 0c59ecb299bc1a6233dcc2de68f30af021dcc4bc
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Sep 15 13:27:37 2017 -0700

    Replace builder abi, allow BuildBot when git present.
    
    In the case that an abi is provided from the command line we will use it
    instead of the host uploader's instance information. This is to allow
    prebuilt packages to be uploaded by another computer, esp. in the case
    of BuildBots.
    
    Submitting a BuildBot build when git is present would still change the
    type to User. Now the test is if a CL is specified in the command line
    it keeps the BuildBot type, if prepare needs to ask for the head CL,
    then it is a User build.

commit e1a9f20fc1bb5da90d33db65aab249fa64233e8f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Sep 18 12:37:22 2017 +0100

    Update SPIRV-Cross and glslang

commit 8b1b396eb5e8e454a28689c9547563906cc57244
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Sep 15 10:51:56 2017 -0700

    Address nit

commit e39b0522bb60a9db78840b5295fc7f0aaa05090d
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Sep 13 16:16:30 2017 -0700

    Add trackDimension.
    
    Now there is a track selector to show just the packages within a single
    track. There is currently no ordering between tracks which is most
    likely not an issue as there is little information in the relationship
    of tracks that would not be better gleaned from git.

commit 19f185a0c2087f98acdcfec0b3f482175cba48f7
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 15 14:13:10 2017 +0100

    jdwp_loader: Fallback to loadNativeGvrLibrary(Context)
    
    If loadNativeGvrLibrary(Context, int major, int minor, int point) does not exist.
    
    This is the newer signature.
    
    Fixes: #1093

commit 8a48e5417039f78abe6ea7c5c756b99981cd4696
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 15 11:08:12 2017 +0100

    gapis: Add api.ResourceReference interface.
    
    Used to let deserialized objects remap their Resource identifiers to those returned by database.Store.
    
    See #1103 for more info.

commit 7667a02cb49c3cd8565dc5106bfc5cd7cfcee326
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 15 12:07:42 2017 +0100

    Bump GAPID version to v0.6.2

commit aaa8aef17a58023d7d1b48deba6fb71ffe8800c7
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 15 10:38:27 2017 +0100

    gvr: Minor tweak to GVR extension.
    
    Make sure the capture has a GVR context before changing anything.

commit c9a25d0f6c8aaf7d6eb7b48ece132108ea0bcca1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Sep 15 00:22:51 2017 -0700

    Invert the context priorioty ordering.
    
    This puts the most important context first, thus at the top of the dropdown.

commit 8f8d792c8f8d5febd06d7892481ecca0f1e01a2b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 14 15:48:41 2017 -0700

    Put go on the PATH when calling Ninja from do.

commit a5a3dca9208d36ed9879d4283238b0e2e45be474
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Sep 14 10:45:53 2017 -0700

    Put go at the front of $PATH.

commit 536c0cf1f52d79224f48b693d4137954194b6860
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 13 18:00:41 2017 +0100

    gvr: Don't put extra Draw groups inside the reprojection context.

commit 9a53ca747d665eb49f385ce1de0519b26d51d06b
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 13 17:18:06 2017 +0100

    Add gvr extension to group reproduction contexts sensibly.

commit b06ba8deb32c145899703e68f2bbf51346d4455e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 13 12:29:53 2017 +0100

    gapis/resolve: Move resolve.InternalContext to api.ContextInfo.
    
    The only reason to have it as a proto is for when we want to store
    resolvables to disk. We're a long way off from that, so just make it a
    go struct.
    
    Simplifies usage.

commit b307d3ccbc9f7625411578e46673de6eb431f535
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 13 12:29:06 2017 +0100

    gapis/api: Improve AddGroup error messages.

commit 8dc6aabdd836ec10cc7b1464f5c80eae4e0d81c1
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 13 12:28:47 2017 +0100

    gapis: Move the sequence grouper to cmdgrouper package.

commit 58a8d277a27ea6fd705aa93e9345d1eceb98192b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 14 12:38:16 2017 +0100

    gapic: Restructure Paths.java.
    
    Use the visitor pattern to implement:
     ‚Ä¢ toNode() - Takes a path.Any, returns an unboxed Node type.
     ‚Ä¢ toAny() - Inverse of toNode.
     ‚Ä¢ parentOf() - Returns the parent node of the given node.
     ‚Ä¢ setParent() - Returns a copy of the node with the parent changed.
     ‚Ä¢ toString()
    
    Long and verbose, but is explicit and does the job. Happy to try and replace portions with reflection magic - I just want something that works for now.

commit 94d0e903a46652a820ee5b16658cac32b8da865a
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 16:32:55 2017 +0100

    Display the state of currently selected API & context.

commit ad73e6ba387f03764d7440a3eeae85a3876547b6
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Sep 11 23:46:20 2017 +0100

    gles: Fix panic when calling ID() with nil context

commit 071c25d6a0bbd8f54db341ac3653777ea2a4644e
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 17:48:28 2017 +0100

    gapis: Split @hidden into @hidden and @nobox.
    
    They're orthogonal.

commit 0e45cb653ae7cfb8ecbfb77a08f25fb6a08a503f
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 13:42:27 2017 +0100

    gapic: Standardize and cleanup Paths.

commit 6d4e54474f949ca732d1aa3d18d7e263f15c52cc
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 14:29:52 2017 +0100

    gapis/api/gles: Generate a stable context ID.
    
    Name() uses fields that can vary over time.

commit 26587b3b90f51e669beadb21a74c4e851a3ab6e0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 13:42:08 2017 +0100

    gapis/resolve: Implement resolving of GlobalState paths.

commit 22924058ed8f4eba3bb33fcff819326f99ffcc9d
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 13:11:43 2017 +0100

    gapis/resolve: Use a better path matching algorithm.
    
    The old approach didn‚Äôt scale for more complicated paths.

commit 46ffe0f726c68492a13dece6742931f4578247da
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 13:05:04 2017 +0100

    gapis/resolve: Simplify the InternalContext.ID.

commit 5f940f02941b95c5a7edebbc879d347c6b9e5268
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 13:01:05 2017 +0100

    gapis/resolve: merge convertMapKey() into convertKey().
    
    Also handle slices -> arrays.

commit 9f17bbba2c6b0e1392807a15469365455abe9991
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 13:11:32 2017 +0100

    gapis/service/path: Change StateTree.After to StateTree.State.

commit 8ba2af02c7d48b3fb28889f5ffd7aae6f010c360
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 12:59:34 2017 +0100

    gapis/service/path: Fix bad path format strings.

commit 2a6c393593c554e2c2bef236e7fe3b3e54f24be3
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 12:57:43 2017 +0100

    gapis/service/path: Add path.Transform() helper.

commit 2cc0cd388d893a33abb5dd3152d138c75b939806
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 12:53:31 2017 +0100

    gapis/service/path: Check for boxed nils in validation.

commit f5fb20d5bfba692b2c9b4b57350199bd9f8d5c9f
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 12:49:54 2017 +0100

    gapis/service/path: Add GlobalState path node.
    
    Currently unused, but will be soon.

commit f5bc1cc1938f24ce9a5f1b8e57fd5c93dd2247ec
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 12:45:15 2017 +0100

    gapis/service/path: Add HasRoot and ShallowEqual helper functions.

commit bf696036868d60ecf22fade33a625c1323c4f83a
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 12:43:54 2017 +0100

    gapis/service/path: Add SetParent(Node) method to Node.

commit 3bb8dc108f2489b3e58573821113553e97430f3c
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 8 12:57:02 2017 +0100

    gapis/api: Change GlobalState.APIs key from API to ID.
    
    Makes it possible to lookup the APIs from a path.
    
    Also: Declare ID as a global for each API.

commit 10856b22fe5fd1619f409a61c6663eb7a754af63
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 6 22:43:55 2017 +0100

    gapis/api: Add a string function for api.ID.

commit 82d27f7abac7c77144cdb36a1d1d8b3850d3afdb
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 6 22:42:53 2017 +0100

    gapis/api: Rename State to GlobalState.
    
    Create a new interface for an API‚Äôs state (State)

commit 1e47c714e8359dec917eda9cff99c33e60130e8f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 13 11:08:48 2017 -0700

    Fix a NPE in the memory view.
    
    Fixes #1079

commit 1134cfb56614811b4f85e4806f18655f86f71613
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 14 15:15:26 2017 +0100

    gapis/resolve: Don't consider CmdNoID as a valid ID.

commit b869375cd17ea8ceadb75baa483527ffb042464b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 14 15:14:51 2017 +0100

    gapis/resolve: Catch bad IDs earlier in the pipe

commit ea3584211ed8e9258f85161da81354dcef7e93fe
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 12 14:25:32 2017 -0700

    Handle go being on the $PATH twice.
    
    This is happening on linux, but I'm also "future proofing" osx here.

commit c5bbcc89c8db26950144ba4c6a223120c769699d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 5 21:36:36 2017 +0100

    Synchronize frame group thumbnails with filmstrip.
    
    Fixes: #1056

commit 45e31f52adfa2726ce6cf85dc6db10b171055318
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 12 00:37:18 2017 +0100

    gapis/api: Tidy api.AddGroup.
    
    Never return val, err. They must be mutually exclusively nil or non-nil.
    Use the standard 'out' variable name.

commit 050359803ccd50df41f85b5cc8ea52100f794683
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 12 13:19:45 2017 -0700

    Show a warning if the disable PCS option is unchecked.
    
    Fixes #1089

commit 8c84ddcaf899389adce101ea3ef7fc23ea2d81a1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 5 18:26:04 2017 -0700

    Fix a state selection NPE.
    
    Fixes #966

commit 7d4dd05264c3fef142b6e126df35ff7f5742990d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 5 18:15:24 2017 -0700

    Correctly handle next/prev commands when computing the events.
    
    It was just adding/subtracting 1, which completely ignores the filtering.
    This had broken the thumbnail scrubber selection handling.

commit 7559289ac3ce8dca59ea5b028aff395a22d69249
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 5 18:05:53 2017 -0700

    Re-resolve the selection if the context has changed.

commit 2391208cc0bebcb0aacd07dce3d27e0e5158cf7a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 5 16:08:15 2017 -0700

    The vendor directory is called third_party.
    
    Stops generating cmake files in third_party go modules.

commit 9ff59f2d49dac012afdf12b167206903e9b27ad8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 5 15:54:56 2017 -0700

    Handle command selections before the command tree is loaded.
    
    Fixes #938

commit 1e8bdff10703ba2ad9e14b267ef041e8dc93ad66
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Sep 5 15:54:24 2017 -0700

    Fix group clustering, it was not clustering child groups.
    
    Clustering a group requires recursively clustering its child groups,
    otherwise we are only clustering the root group.

commit 017448953ec70d014e2676f318a9e407fa61bc8f
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Sep 11 11:11:38 2017 +0100

    Prioritize contexts based on draws / frames.
    
    Fixes: #1058

commit a8fd26b02b3b085b373a988aab20f3c3e4028968
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Sep 11 08:49:42 2017 +0100

    gapis/api: Make api.Context implement APIObject

commit 8880798e973742a3b6114f50c098f860196d1e1b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Sep 7 12:56:52 2017 +0100

    Address review comments for #1053

commit 5be2b7f0461e90f2647e84ab6b00231fb556a306
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Sep 4 19:22:33 2017 +0100

    gapis: Always return a texture resource even if there's no data.
    
    Displaying the width / height / layers etc is better than nothing at all.

commit 58ea2c97fed2b6f678b2f85485466dc6b5113748
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Sep 4 18:42:45 2017 +0100

    Add support for 1D and 2D texture arrays

commit 7d013dfcaf2a97acc039f7af30672b6a781ea474
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 19 20:37:15 2017 +0100

    gapic: Visualize 3D textures as a grid of 2D slices.

commit 74eb1d970c0db7244c1fb0189bd33aa5290fb2ef
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 19 17:49:26 2017 +0100

    gapic: Merge ImageBuffer into Image

commit e0817e0759da50b7c48280916ec7fd217746b1c9
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 14 20:08:20 2017 +0100

    Flesh out basic support for 3D textures

commit e9566c39181bef93dec34ff9f2793fc407b41aab
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Sep 11 17:57:57 2017 +0100

    Implement GL_OVR_multiview_multisampled_render_to_texture
    
    Fixes #1090

commit 6cad6ed23b9f23172a402dd112595754777b628c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 6 11:47:27 2017 -0700

    Show an encouraging message if the report is empty.
    
    Fixes #385

commit 50da72909aaae7017bdb9229540347465565a994
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Sep 11 04:28:31 2017 -0400

    Renderpass grouping (#1064)
    
    * Group subcommands with debug markers and renderpass groups

commit 2f5d51fda9f9a1c352f809df8f614c95721b3e56
Author: Spencer <sjfricke@wisc.edu>
Date:   Thu Sep 7 04:41:12 2017 -0500

    fixed gapit help descriptions not appearing
    
    Extra space caused the descriptions not to appear

commit 13179cb6eb867d8ba24bd014d6ac196c61cf151e
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Sep 7 15:19:03 2017 +0100

    Simplify error handling for report
    
    Aborts are assumed to be ok. The api is responsible for generating a
    message together with the abort if it wants to communicate an issue.
    
    All non-abort errors returned from mutate are internal errors.
    
    Fixes #1082

commit 7ca445a94ea68cfe923e29df3702f9e8d2dcb64f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Sep 6 10:12:56 2017 -0700

    Fix state load error handling.
    
    Fixes #943

commit 6e4bc83c4537722610ece5176452681aa6cdf749
Author: AWoloszyn <awoloszyn@google.com>
Date:   Wed Sep 6 10:54:58 2017 -0400

    Only dereference the buffer view if it is valid.

commit 634d7c9065cc22510bcac3905e43cf094310d1d5
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Sep 6 10:46:19 2017 -0400

    Add a fallback path if the memory tracker is not working.
    
    As we come across new devices/drivers, they may implement coherent
    memory differently. When we create the device, check to see if the
    coherent memory tracker is working. If not then fallback to the slow
    path so at least those devices will work.

commit 82b302b959de0afab0b7c8fe18a25cd9779eb8d3
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Sep 6 08:03:16 2017 +0100

    gles: Fix bad ASTC format names
    
    Fixes: #959

commit c07ffef6bb36133bb3f62c52eec313020d96168d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 5 21:13:56 2017 +0100

    vulkan: Fix command buffer invokation.
    
    This code uses reflection to call a command with dynamic data. This got broken when I changed the subroutine parameter list.
    
    As this keeps on breaking, I've added a test.

commit 987d53916d2f1f3a1106e63bed9a9ee06f7ec21e
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Sep 5 11:52:54 2017 -0700

    Address nits from review.

commit 9267ae43c44dc14221b40fc3070b1be9a6431667
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Aug 30 15:21:14 2017 -0700

    Order packages by parent.
    
    Dimension now can define their own less than operator such that they
    control the order in which items are listed. This way packages can look
    into a map to see where they should be placed in relation to other
    packages, based on parent-child relationships. Now that dimensions
    control the sorting, the grid must only use alphabetical sorting when
    there is no other choice.

commit 1bc797e71995acdfcd0f988d2fad70b2f691f827
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Aug 28 14:38:52 2017 -0700

    Add regression and fixed status to tasks.
    
    We want to be able to, at a glance, see the positive or negative changes
    a particular package has, this change allows us to highlight the fixes
    (successful tasks with failing parents) and regressions (failing tasks
    with successful parents). Currently regressions are colored a dark red
    while fixes are colored a light green.

commit 025353bdfdf3c9e4a659fb62736864c414da5a2a
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Aug 24 11:55:45 2017 -0700

    Add parent concept to task representation.
    
    In order to properly show the change in result from task to task there
    needs to be a form of history tied to the task representation. To
    achieve this we now track the parentage of each package as we enumerate
    them and when getting tasks we use the package parentage to create a
    task parentage. Currently any task not marked as Current will also
    update its result to match its parent's result.

commit 53798d4b3d7db16b093e5d3d53c2ed453aa3132a
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 5 17:40:10 2017 +0100

    jdwp_loader: Attempt to class load the GVR loader if searching fails.
    
    Fixes GVR tracing on certain titles.

commit 9e22e2f20940ac5b918e511def67b2b0eb46dda3
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Sep 5 17:39:36 2017 +0100

    jdbg: Add Value.AsType() to return a value-type as a type.

commit a0155e10a70771ad45d12f490d058831c286df82
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Aug 31 17:03:08 2017 -0700

    Force robot replay to use sxs video.
    
    A bug wasn't getting caught because we were relying on default behavior
    (if there are no FBOs we make a single frame video), instead force side
    by side behavior for robot so this can get caught in the future.

commit 6acb199bce05a1fe91589b144c389686ff9ff487
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Aug 31 17:02:04 2017 -0700

    Fix Windows having the wrong OS kind.
    
    Windows builds were saying that they were from OSX, thats no good.

commit 7a13156da76ebbd78b98f30ef08c8c6bfdaf7169
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Aug 31 16:53:29 2017 -0700

    Fix scheduler issue.
    
    This was a very subtle bug which caused robot to not schedule any
    reports or replays after a package was added to a track. Package update
    is called after it is added to a track in order to propogate the parent
    information. But it is called with only a partial package, expecting the
    old package to merge (which it does) but then the event is triggered
    after apply using the new package (which is still only partial) which
    causes all listeners to recieve (and potentially replace) copies of the
    package which do not contain any tools.
    
    Essentially packages in the scheduler were having their tools wiped out
    whenever they were updated by the track, which meant we could no longer
    replay or report. Traces only worked because they were scheduled after
    the package's first event trigger, when they still had tools.

commit ea57b4bc2ee2048e3ae5c9c7db8983b4f42b7fd5
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Sep 4 17:16:20 2017 +0100

    Address review comments for PR #1048

commit 486ae8e0c00aac63f5b731b1dcb04bf55f0c9382
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Sep 2 19:21:56 2017 +0100

    gles/dce: Fix bad culling of draw calls.
    
    If you have a sequence of calls where you:
    
    1) bind texture layer N
    2) clear
    3) draw
    4) N++, goto 1
    
    Previously the clears would assume all layers and levels were cleared, meaning everything but the final clear and draw was culled.
    
    Consider the layer and level when tracking texture data to fix this.

commit 0e23c0df424b4ed502bb2bc5ae8d33e635b81dee
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 1 13:44:16 2017 +0100

    gles: Other minor fixes to texture readback

commit 43e54e43cab526e5a3f91d097c6bb430e97b1e42
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 1 12:18:56 2017 +0100

    gles: Show partially updated cubemaps

commit fa674a317db48a879ce84e4fe1eb730319a0a3bf
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 1 02:01:03 2017 +0100

    gles: Display textures that were updated by the GPU.
    
    Fixes: #736

commit 0b9a8e9df22a60ca2fc101481364d10021232952
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 1 01:59:46 2017 +0100

    gles: Add gl.api.
    
    Contains desktop OpenGL functions that aren't actually part of OpenGL ES, but are useful for replay.

commit 38e62bee16ce17a4d306b8d5886485ad8153153d
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 1 01:59:01 2017 +0100

    gles: Consider Image.SizedFormat for texture resources.

commit 7701b62867ef61f68c9edeff461c2067228d0453
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 1 01:57:49 2017 +0100

    gapis/api/transform: Add Tasks transform.
    
    Extracted from gles.readFramebuffer.

commit bc083d1cccf24e16c2ac57e0b395c15d57310a93
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 1 01:56:04 2017 +0100

    gapii: Add slice equality operator.
    
    Let's you test whether a slice is nil.

commit 1e3b0a0e52a4ad846e0742f5d27a72f541bd41e7
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Sep 1 01:55:39 2017 +0100

    gapil: Consider @internal on functions too.

commit a4e4db71daf483f42c271c59658b037028d0e6bb
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 31 19:39:51 2017 +0100

    gapis/api: Add CmdID field to Mutate() and CmdFlags()
    
    Required for fetching texture data from GPU.

commit 81f4500c2cdd49658655845af2588b2ad98ed8c3
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Sep 1 09:48:15 2017 -0400

    Fixed warning in vk_virtual_swapchain/cc/layer.h
    
    Fixes #1038

commit 2174b0e7bf249878b5cd64f9272cef3818a42914
Author: Keith Mok <ek9852@gmail.com>
Date:   Thu Aug 31 15:26:28 2017 -0700

    do: Allow any go greater than 1.8.x to be used

commit 11062ca35182b5ee928807866734ba34056601ac
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 31 13:26:05 2017 +0100

    gapis: Add a true interface to fetching FBOs.
    
    Don't treat them as commands. They're not.
    
    Commands require an API and thread. FBOs are data belonging to certain commands.
    
    Fixes a bunch of video and report issues.

commit 3a8792a91291f17633f2ecac487ab6fdfeb5ea28
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 31 13:23:50 2017 +0100

    gapii: Store FramebufferObservations as children of the end-of-frame command.
    
    This is instead of them being a top-level 'command'.

commit 66eb9f2663ae4a2fa9523967a69a189df8ffb0c4
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 31 11:14:25 2017 +0100

    gapis/service/path: Remove Path.Text()
    
    Implement the standard Formatter interface instead.

commit 2779b42dd7d9967061d013aebf05f8fb9a99fb0d
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Aug 31 15:07:04 2017 -0400

    Change the translated 'string' type from 'const char*' to 'std::string' for extern function args (#1044)
    
    * Change the translated 'string' type from 'const char*' to 'std::string' for extern functions
    
    * Resolve comment, also do the same for C++.ReturnType

commit 7101ade4fd060483bdfba3aa7a74d6c34b0a5f30
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Aug 31 14:37:52 2017 -0400

    Fix the handling of LoadOp/StoreOp in DCE for Vulkan (#1035)

commit 1e5c3b64d3b240314559633bb8c48a22c1ca9f49
Author: sjfricke <sjfricke@wisc.edu>
Date:   Wed Aug 30 18:13:39 2017 -0500

    Fixed preprocessors for disable coherent tracking

commit 4255b6a4f213466c5175a769e4797afebfbbdd51
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 31 15:11:36 2017 +0100

    gles: Fix fallback path for pre-complied shaders
    
    This got borked a while back, causing massive replay error spew if PCS are enabled.
    
    You can now see the report items saying that PCS aren't supported.
    
    Fixes: #727

commit b677a5330f912d583bc27e7d2eb2ad48971d5271
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 31 15:52:47 2017 +0100

    gles.api: Add GLenum hints to ProgramInfo types.
    
    Fixes: #709

commit 01eae6581fd76799f727f37c3eeaeb6cdacfc545
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 30 23:54:55 2017 +0100

    test/robot/stash/grpc: Fix for flakey tests.
    
    remoteStoreWriter.Close() used CloseAndRecv() to end the write. This call is asynchronous, meaning the server may not have closed the stream by the time the client attempts to read it again.
    
    Fixes: #1033

commit d183a80487b4ce8b312c2d06eb29ca54a4872da7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 30 23:51:30 2017 +0100

    test/robot/stash/grpc: Make the test deterministic.
    
    Iterating maps in tests leads to random behavior. Not fun to debug.

commit 747a1f98c1fcc33dbea0942936a0aba02ace570f
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 30 22:43:50 2017 +0100

    gapis/capture: Handle FBOs.
    
    Fixes: #1031

commit ce737312058e7185d7042d12949453096ebd499c
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Aug 30 15:43:46 2017 -0400

    Fix the debug marker object name for MEC (#1022)
    
    It turns out having the RecreateXXX command not annotated with @custom
    is not a good idea

commit 1b388db500118ae1d40e897345ae49ebb58b6eb5
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Aug 30 10:50:42 2017 -0400

    Allow requests for grouped commands.
    
    This allows us to do state/memory/resource requests for commands
    that are grouped under other commands.
    Fixes #1027

commit b9cbd5587702d7a69e55e41e0754cefbd1c71bd3
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 30 16:15:59 2017 +0100

    core/image: Flip ASTC decoded images.
    
    Fixes: #1020

commit 0cab83e52304666a23373e0757942a8dc8f71925
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 30 17:18:36 2017 +0100

    gapii: Send a handshake message to the host.
    
    Given that the connection now takes a while (it's got to install the interceptor), it can take a long time to receive the first few bytes. These bytes are important as they are used to detect a good connection vs port-forwarding failure.

commit c3020cffa0ed4658668c3c2c625ef8e390c41c4a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 30 15:33:13 2017 +0100

    gapii: Pass the path of libinterceptor down in the header.
    
    This moves the loading of libinteceptor.so from jdwp_loader.go (gapit) to gapii.
    
    It appears that on some devices dlopen() will not find libraries loaded by a prior call to System.loadLibrary(). Instead, pass the absolute path of libinteceptor.so down to libgapii.so and load it directly there.
    
    Fixes: #1026

commit 304f4b91bb4b0bc1e5a3ad865226ba344ec8d2fd
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 23:17:44 2017 +0100

    gles/compat: Handle glBindVertexArrayOES and glGenVertexArraysOES

commit 75387f78ad6bed719fe7fd55c1d68bf130e36e66
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 17:16:13 2017 +0100

    Clarify NativeBridgeAPI documentation
    
    See https://github.com/google/gapid/pull/1014/files#r135838602

commit 1fdb0c1002b32c515fc553769ea0dffbf5fc4651
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 30 10:29:45 2017 +0100

    Bump GAPID version to v0.6.1

commit 3f048c56b628f96f912aac0d27d7e56a3be4f63b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 29 10:11:11 2017 -0700

    Bounding box fixes.

commit 6f10e95d8698bf31e99a138c42518f2a7e56567b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 29 10:10:52 2017 -0700

    Mesh statistics for Vulkan.

commit b4763d04008cb9d390984f4c79003a5f5b0bea7c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 29 09:56:16 2017 -0700

    Consider the indecies when computing the bounding box.

commit 9fd31d5350e0b2ee2fb4fffd7ab0f2b65f51059a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 25 19:04:25 2017 -0700

    Display the mesh statistics in the UI.

commit d08666afea5c73f6f31b78454023eee91492c3b7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 25 13:39:24 2017 -0700

    Mesh statistics for OpenGL.

commit 530598a09a2168b8f39b6da92fb05abf6a998f17
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Aug 29 14:48:14 2017 -0400

    Vulkan: Set object name and tag (#1012)

commit d168f97f75fe344964f9007de2ec9c007d6654db
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 17:37:08 2017 +0100

    core/image: Use correct sRGB decompression formats for ASTC and ETC.

commit 559db4d156fce590625ecfc1efba3d6e26d37f16
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 17:36:15 2017 +0100

    core/image: Fix conversion via intermediate formats.

commit cc72783e25adebeb41d8c94f69e8693326596ead
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 17:35:49 2017 +0100

    core/stream: Implement sRGB <-> linear conversion.

commit b4559274436107164a89c6cc41c7fa9c95dc5b14
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 17:35:08 2017 +0100

    core/stream: Add naming exceptions for sRGB formats.
    
    The `RGBA_N_sRGBU8N_sRGBU8N_sRGBU8NU8` generated name is just too ridiculous to use.

commit 3ce5889a35490e1a8105dbe4e1ff42e9e2de4466
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 10:54:12 2017 +0100

    gapis/resolve: Always pass down the sync data to buildFilter.
    
    Without this you‚Äôll get events for hidden commands.

commit 20b07c24e2ebe604f18cd4c95b23f1f143930deb
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 10:38:03 2017 +0100

    Move caller logic from gvr.API.ResolveSynchronization to resolve.
    
    This is the logic that does caller command grouping. It isn't specific to GVR, and should work even when there are no GVR commands in the capture.
    
    Also add resolve.SyncData helper.
    Simplifies building this data.

commit 7ca4e3d7a1d12c7958b9547f2ad7c401c5c2db53
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 13:28:28 2017 +0100

    unity: Handle older state reset signatures.

commit de9822f044cf163b1cb0b4a3b19b27321ba8a132
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 13:28:02 2017 +0100

    gapis/extensions: Make CmdGroupers a factory function.
    
    Fixes state leakage between groupers.

commit 695f69b76a9e57abdba81b38e358c28f16f19f61
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 11:56:29 2017 +0100

    gapii/client: Use NativeBridgeABI().
    
    May fix tracing Android applications on Chromebooks where the ABI translator cannot deal with libinterceptor.

commit 7a535b321b05d1bbc8da329132702a0316653b00
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 11:55:42 2017 +0100

    core/os/device: Remove hard-float arm ABI.
    
    It's been completely deprecated.

commit 724b1e27c77ce14efb4ca0e390422af94f94b38e
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 11:54:51 2017 +0100

    core/os/android: Add Device.NativeBridgeABI.
    
    Used for getting the native ABI for NativeBridge emulators.

commit b69bb9fd0392ea3108d762bb25ac2be162d33014
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 29 10:04:42 2017 +0100

    Bump GAPID version to v0.6.0

commit 5d3f845d442d9efdb624e25c108f262a392b764d
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Aug 28 11:43:15 2017 -0400

    Fix a bug in the memory tracker (#1004)
    
    When setting the page protection bit back to R/W, we need to check page
    by page to see if a page can be set to R/W. The previous code is just
    wrong.

commit ab367a1c42b1d4423826e0aad09edd1515685ffe
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 28 09:57:10 2017 +0100

    Fix panic in gles/read_framebuffer.go
    
    Fixes: #1007

commit e843f4e72bd2aab72eb2722eda0a6e6aa764a26b
Author: sjfricke <sjfricke@wisc.edu>
Date:   Sat Aug 26 00:16:49 2017 -0700

    Cleaned up Virtual Swapchain Styling
    
    Just matched up the comments and brackets to conform with the rest of the files to keep code visually consistant

commit c71edb503290fb94749f12561eb35cc3bedb7a16
Author: sjfricke <sjfricke@wisc.edu>
Date:   Fri Aug 25 21:27:28 2017 -0700

    Added functional include to virtual swapchain
    
    When trying to compile you get virtual_swapchain.h:184:8: error: 'function' in namespace 'std' does not name a template type
       std::function<SwapchainImageData()> build_swapchain_image_data_;

commit ea4f11f5fa0b34e4765741c2d7674d45362e98fb
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Aug 22 14:22:42 2017 -0700

    Only run workers on traces with matching packages.
    
    It is not scalable to run report and replay on every historical trace
    every time a new package shows up. Eventually Golden Traces will be used
    to run report and replay no matter the package, but for now lock the
    workers to only use the same package for all actions. Also remove the
    tracePackage dimension.

commit 9ac1158c5d309d00f2b3df8bf69fff24917baac5
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Aug 18 13:48:23 2017 -0700

    Add build dimensions to robot workers.
    
    The robot webserver needed to have a better understanding of packages
    and builds. Prior to this change builds were typically looked at through
    the lense of the GapidAPK and Gapit versions that were used to trace.
    This caused multiple issues aside from just being not user-friendly.
    
    We now have a package id used with the input for each worker, and the
    webserver recognizes that as a separate dimension. A separate dimension
    is used to hold the build that was used for tracing specifically, since
    that feeds into the input for Report and Replay. The Host dimension now
    identifies the host machine that runs the worker, rather than the host
    machine that ran the trace which is less useful, as we already have the
    target as a dimension.
    
    Also need a template function mapping to test if a package type is User
    or not.

commit cb0e87a2778ab278cf8648aea5133fc75398871e
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Aug 25 13:22:23 2017 -0400

    2 fixes for Vulkan.
    
    1) When capturing pipelines for MEC, the graphics pipeline may have
       been created with a renderpass that has been destroyed, so
       recreate the renderpass temporarily in this case. This is
       similar to how we handle ShaderModules.
    2) There are some cases that VkGetQueryPoolResults fails on replay.
       For now, since it has no semantic impact on the replay, remove it
       from replay. TODO: Figure out what the exact cases are an fix them,
       either with a custom_mutate or more correctly resetting the query
       pool results.

commit 935e0685523c24ffa276fdae5d2f713b0e16e47b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 25 16:58:45 2017 +0100

    Remove debug line that got committed.

commit da564fab773b78de4746429aebe0a772e88ba1d5
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 25 16:58:32 2017 +0100

    gapic: Consider DPI when scaling thumbnails.

commit 529ba4ec5225a045f79e8de5ba0a08a9f39dfc16
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 25 16:44:21 2017 +0100

    Display a sensible error if the file version is too old / new to be read.
    
    Fixes: #996

commit 70c59096257224ac510ad99162ac5c423d2abef4
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Aug 25 13:45:53 2017 -0400

    Vulkan: MEC for Debug marker extension's commandbuffer commands (#997)
    
    This is only for the command buffer commands.

commit e0e06a8f3d2a175b12b199d06d1eeb04e2494c38
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Aug 24 14:21:40 2017 -0700

    Remove resolvables.pb.go file and add .gitignore.

commit 84668f0be9826f4bdda3f610b3f5fa8764e0c79b
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Aug 25 10:04:02 2017 -0400

    Add VK_EXT_debug_marker (#994)
    
    Enables extension when tracing and show the commands in the trace

commit 0c47ee9f18995712cffdfe6671b8f4ec9647a9f7
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 00:09:35 2017 +0100

    gapis/resolve: Tweak frame grouping slightly.

commit 4d68f62a13d124687a72c9fb5a7f949cfc9d1c98
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 00:09:07 2017 +0100

    Add 'unity' extension.
    
    Adds custom grouper for state resets which seem to dominate GVR traces.

commit 27d8c98e25402355373d10ba527daf93c3c19aea
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 23 17:28:22 2017 +0100

    gapis/resolve: Move grouping logic out to its own package.
    
    Document, tidy.
    
    I'm planning on adding some extenal extensible grouping logic.

commit fd813e9b7c3861d6cd0d3069cdb1b4c6a2076555
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 20:20:10 2017 +0100

    gles: Fix fallback for missing eglCreateContext.
    
    This logic was added to handle cases where tracing missed the context creation. It got broken over time.
    
    Fixes: #983

commit 8d9fb3fcce0103e391bd339705b45abc257a4ce6
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 25 14:38:17 2017 +0100

    gles: Fix panic in read_framebuffer if there's no bound fb

commit 68c4525716e705dfb104f5aca3708a42dcc727a6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 23 14:45:44 2017 -0700

    Show the actual generated trace file name in the trace dialog.
    
    Fixes #905

commit 7082544b7a20951dffcc7efefc2c993653b027d2
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Aug 24 13:59:23 2017 -0400

    Fixed some vulkan trace issues.
    
    Remove some memory that was being copied into shadow memory
    even when tracing was disabled.
    
    Handle null PipelineCaches for Compute pipelines.
    If we flush mapped coherent memory, then use the coherent memory
    tracker, that was we only have to track a subset of all
    of the memory.
    
    Work around an application bug where they were calling
    vkGetDeviceProcAddr when they really meant vkGetInstanceProcAddr.

commit dcca9e963d087ceb0ab34222650991bcdf738366
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Aug 24 13:31:07 2017 -0400

    Fixed vulkan mid-execution capture.
    
    The change to the file-format broke Vulkan MEC.
    The main cause was allowing recursive calls. We were treating
    the vulkan recreation as a recursive call, now that we support them
    properly, they were getting culled (with the culled parent).
    Now we correctly create the state in it's own call.

commit df02a446fb79bcaaa28bd0f4a3481e47c8260cf2
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 23 15:42:30 2017 +0100

    Group transform feedbacks into groups
    
    Fixes: #906

commit dab1ab3c70e6b5b30e422748d2dedd86d3185d69
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 23 15:23:56 2017 +0100

    gles: Separate draw calls from transform feedback calls.

commit 5b5e325d7005d5c80231461941442788126e7a79
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 23 13:28:59 2017 +0100

    Add support for command flag expressions.
    
    Lets you make the flags conditional.

commit b21055c759981593d136ec00e71844739188671a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 23 13:26:09 2017 +0100

    Standardize API @ annotations
    
    The vast majority are lower-case, underscored.
    Standardize on that.

commit c426a307ad0bd375ede7ab2bb988ffd6408f73f3
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 23 13:19:34 2017 +0100

    Pass Context and *State to api.Cmd.CmdFlags().
    
    Will let us do more dynamic flag logic.

commit 8c69ad3e5b5691229c997adc51efdf674cfc7d76
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 17:35:32 2017 +0100

    gapii/client: Call setprop on a non-cancelled context.
    
    Fixes "debug.vulkan.layers" property not getting cleared.

commit 45a95589ebef0c3e29933fbbb1d8dc256ae5d26b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 17:34:27 2017 +0100

    core/app: Fix WaitForCleanup()
    
    It was using the cancelled context, and so not waiting for anything. Doh!

commit 92393708096c27c4e119a85c2bd9fd63fbbcf993
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 22:41:55 2017 +0100

    Kill unused gapis/atom package.

commit ca1a2f7a456ac7cc357f842a6623d91ca23645c0
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 22:21:04 2017 +0100

    Kill the now unused atom_pb package

commit 0975785b2f4d6bc1048cc37ee297c3fe4cd3eb4d
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 20:35:02 2017 +0100

    Kill the now unused core api

commit f003794f41706b631f48ee463fd4d0331b3c42dc
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 15 14:33:15 2017 +0100

    Delete core/cc/mutex
    
    Use std::mutex now we can.

commit 93886bf7fc85ccb2dbf91574f9781d063b07e615
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 16:22:32 2017 +0100

    libinterceptor: x86: Handle andl instructions.

commit a00060b5001f2a6fe661c4cbf94269148a2f1f55
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 16:22:11 2017 +0100

    core/os/device: Don‚Äôt test for GPU name. Nothing sets it yet.

commit 1911c6ebab4877130ae3545c085bebbed84d3e69
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 16:21:37 2017 +0100

    deviceinfo: Assert thee gl functions exist before calling them.

commit d9af7b7a95922bd1def58adc62a6a98934b44c03
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 13:34:03 2017 +0100

    deviceinfo: Merge known fields instead of replacing with "<unknown>"
    
    Certain devices cannot get their serial, so end up corrupting the known serial with "<unknown>".

commit 301c2866d0961730a886eb24e52a3bcf180505fa
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 13:32:42 2017 +0100

    core/os/android/adb: Wrap the error returned by dumpsys.
    
    It's hard to identify random process errors.

commit 8f6d289431eb1c6dc0963f6cba2532d2acb3cf33
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 13:32:04 2017 +0100

    core/os/android/adb: Generate an ID if there isn't one.
    
    This can happen if the device query fails.

commit 8cacc783cbc1c1f6cd42f4f895f17d0e23ef4e48
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 24 13:30:59 2017 +0100

    Fix x86 ABI names.
    
    There was a weird mix of x86_64 and x86.
    
    Issue: #850

commit 7a03c1fdec509efde0bd775d9c972476467deef2
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 17:13:08 2017 +0100

    gapis/api/gvr: Consider gvr_frame_get_framebuffer_object
    
    Use these commands to help populate GVR frame -> gles framebuffers.

commit fd296a4f14dab78eff28999fb8b9ef021d5d541f
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 17:12:34 2017 +0100

    cmd/gapit: Include gvr commands when tracing gles

commit 919cac6b463ec387c813b6ea5de49f004871710a
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 18 17:53:58 2017 +0100

    gvr: Render the submitted frame for gvr_frame_submit.
    
    Needs special love as the framebuffer is unbound at this point.

commit b9f8b1042b0637dd43035f78d16ecef8615d4417
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 18 13:53:27 2017 +0100

    gles.api: Remove @StartOfFrame annotation from glFlush()
    
    Was a hack for GVR. Now fixed.

commit 25eac609339ba26464edf18903d594098461fc17
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 18 13:52:56 2017 +0100

    gvr.api: Add @EndOfFrame annotation to gvr_frame_submit
    
    Groups GVR frames. Yay!

commit de2fb1cb136652a192893565b0833f7f1870a291
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 15 19:16:46 2017 +0100

    gvr: Implement ResolveSynchronization to parent commands.

commit e34e0f125044d75c82b76555b35095942b93b76a
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 25 12:41:01 2017 +0100

    gapii/cc: Install interceptor hooks for GVR.
    
    This also adds in a new @abi_type annotation to specify a different type to use when passing the type as an exported variable. This is needed as structs appear to behave differently when passed with and without a copy constructor.

commit 21f15be469b7e13fdf864481d0d8cf83c5e877af
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 24 15:36:37 2017 +0100

    Generate GVR interceptor logic for gapii.

commit 8289445cf34da00a0fc50366fa1b79887b1040b7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 23 14:17:29 2017 -0700

    Require the directory to be non-empty in the trace dialog.
    
    Fixes #972

commit 0111b9b588643b2836ebc40550f97d078b928861
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 22 14:59:27 2017 +0100

    gapis/capture: Order commands on return not enter.

commit 1281b36c3de722aaa10fc3d94d28bc1eceb6cd32
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 20:15:32 2017 +0100

    gapis: Add thread id to each command.
    
    Instead of using a switch-thread message.
    Simplifies the logic, especially when dealing with concurrent calls.

commit 0b971b027469809fa39fb199e923345af4f8086e
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 18 18:52:00 2017 +0100

    Kill CommandCounters.
    
    They weren't used and the protopack already stores the same information.

commit 98b2d6e017c40eade080c19e9b11fe0c781cf669
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 15 19:12:46 2017 +0100

    cmd/gapit/unpack: Truncate stupid long messages.

commit 15046abc585a5c17db3cdd4c4b23db03b6a8c977
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 15 15:38:52 2017 +0100

    gapis: Add Caller information to Cmds.

commit 311fb2df464bb3cb0ea414494f9aa986952a64c8
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 15 14:32:46 2017 +0100

    gapii: Encode sub-command calls.

commit bbc982700de74d83ed20ab198b85cb7126643213
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 24 15:34:58 2017 +0100

    api.proto.tmpl: Don't title class names.
    
    Might break certain traces, but as we‚Äôre about to change the format anyway, who cares.

commit 399dd8b6fbfca0638940e4dbe57d46ac6eae6a4c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 22 17:40:50 2017 +0100

    Add ‚Äòunpack‚Äô verb to gapit.
    
    Let‚Äôs you inspect the protopack file as raw messages.

commit 5f381ef4dd6df230ec74415d46f69d372083f315
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 10 11:23:08 2017 +0100

    protopack 1.1
    
    Update the protopack format to support hierarchical messages.
    
    This allows:
    
    * Nested function calls
    * Immediate encoding of extras and observations
    * A cleaner alternative to CommandCounters

commit 3208821d099a50f93ce0a42dd4516d6f32677ded
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 10 20:03:56 2017 +0100

    Split cmd protos into parameters and result messages.

commit b22cbc20932a5677d01ab7f0cab1c6a30ae5e613
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 10 19:35:44 2017 +0100

    Move Aborted proto message from atom_pb to api

commit 005e9035ef51167578a9f8770dfa1bbe477a7572
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 10 17:21:38 2017 +0100

    Move Resource from atom to capture.
    
    Do all the capture processing in a single pass instead of two.

commit be8f785a56c4799ca04828c717992a47843d1f09
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 10 16:22:50 2017 +0100

    Move FrambufferObservation from atom to capture.

commit 62f405739576ddc43817782ca82396e1c8e88a50
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 23 13:17:56 2017 +0100

    Remove cmd/perf.
    
    It isn't actively used, probably has been broken and is a burden to maintain.
    
    We can resurrect it from source control if we need to.

commit 472dee0c76b9bc1d8cbc50f1358d37b3d830e219
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 22 17:49:49 2017 -0700

    Make the filmstrip have a fixed height.
    
    Fixes #903

commit 7b89320de8255776c8b4cba3ce4fbb192852efd3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 22 15:37:09 2017 -0700

    Use the image info to update the size of a frame thumbnail.
    
    The image info, which contains the size, is available much earlier, so it
    can be used to update the size.
    
    Fixes #969

commit 2f2ace8e9a239db4f1b430fe89fb5bcfa4f09a0b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 22 18:32:55 2017 -0700

    Always show the image size, even for single level images.
    
    Fixes #940

commit 16e9f03a74f35cc3ff67912d8c2a0618d9462160
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Aug 23 10:28:45 2017 -0400

    Fix a bug in DCE and minor improvement (#978)
    
    When vkCmdBeginRenderpass is recorded, we need to read all the
    attachment image handle.

commit fea1ac80c2b7ce68524356a58420ba8316631736
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 23 00:09:41 2017 +0100

    gapis/shadertools: Add support for all shader types.

commit 9ddd6f627102d233914c20f1388ea490cd1c7321
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 23 00:08:02 2017 +0100

    Update glslang to latest master

commit c559f4639633ef7b91ee3355db4d0691d8b06d01
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Aug 22 12:54:07 2017 -0700

    Robot: Fix error handling in retry procedure.
    
    The NeedsRetry call was returning pointers to TaskRetryErrors, which
    does not fulfil the type assertion checked for in RetryFunction.
    Bug manifested as retries causing immediate failure, and no output
    generated for failing calls.

commit 02c28339dcfc844d0375ae18fb62735f87e7970e
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 15 19:16:13 2017 +0100

    gapis/api/sync: Don't explode if GetTerminator returns a nil.

commit 83d86751d03bc126fe75e98297076da482d57253
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Aug 21 12:44:14 2017 -0400

    Updated to respond to comments.

commit 786e3509e561d422860757bb60ba5b6e758b6cc0
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Aug 21 09:42:59 2017 -0400

    Added memory tracker support to Windows.
    
    This greatly improves the performance of coherent memory
    tracking in Windows.

commit 3ddbd377da5822699282546c14de0b927e9858cd
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 22 11:13:37 2017 +0100

    Remove cruft from the old binary system.

commit 579d9f376b6eec37009d08ebf664c651d5c59c6c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 22 11:13:16 2017 +0100

    Add gapis/api/gvr/doc.go.
    
    Contains magical imports that might fix the linux build...

commit 008a25d4ea9733d59f6c707a43e407d65b9c33e2
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 24 14:06:33 2017 +0100

    Add codegen rules for the GVR api.
    
    TODO: gapii import / export codegen.

commit fdbe47b26f6ca5c98c7e68b7554fc8cb9e168e84
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Thu Jul 20 18:00:33 2017 +0100

    gapii: Connect under thread suspension.
    
    I believe some traces were failing as we were attempting to connect
    after we had let threads continue execution. Instead connect while
    the debugger is still attached.
    
    There's no point dealing with versioning in the connection header
    at this point, so remove the conditional logic.

commit b68182c3b44c807369624f3326d073ff05e9daf1
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 15:58:48 2017 +0100

    core/event/task: Add Retry() method.
    
    Attempting to retry tasks is quite a common thing to do, so make a helper for it.

commit a48aebede183e2f726c1f98f21f49e8373930d67
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 10 19:44:35 2017 +0100

    Kill atom_pb.Atom interface. It was just a proto.Message.

commit b5d877a48a6655fde861c9215162b4c067ec8755
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Aug 22 10:43:17 2017 +0100

    gles compat: Handle glDrawRangeElements with client pointers.
    
    Fixes: #934

commit f461ba00b16384e26f3536dd57bcc1ac3b7eda98
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 15 19:15:46 2017 +0100

    gapis: Add 'Hidden' field to sync.Data
    
    Let's you hide duplicate commands.

commit 22bf1a01c477dab9092181b546f78dc2d005b1fe
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 11:37:33 2017 +0100

    api: Remove Span.itemIndex method.
    
    It was poorly named and was confusing. Instead just special-case the one place it was used.

commit 1e5028aa4289194b48acdc57b418c4488f6e9cfc
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 22 13:07:04 2017 +0100

    Guess pos / norm streams when name matching fails.
    
    Issue: #960

commit 24c3bd9ee143dc3ae039061cd11023008c5e7c62
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 11:38:29 2017 +0100

    gapir/cc/context.cpp: Reduce log spam.

commit ec86736207f1d2879be0832ba60697b9f3236b3e
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 10:31:10 2017 +0100

    Remove redundant glBindBuffer commands.
    
    Similar to c758a511a.

commit 06f27fc2cb82fb9c3af47b305120ad07ba118135
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 22 11:03:15 2017 +0100

    gapil/analysis: Handle bitwise OR operators
    
    Fixes broken analysis of enums or'd together.
    
    Fixes: #939

commit 1aa8b7d942a360ecf1fb4f555686985e9ac9efad
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 22:40:39 2017 +0100

    Move atom.Data to memory.Store

commit 0be3e3d966f43d254612b09568b363cf92881a20
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 17 11:06:09 2017 -0700

    Actually make Track.byName work as expected.

commit 98c3902696fe2eb59b3adad29749ba7d7809a385
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 17 10:43:33 2017 -0700

    "do upload" to always create a new zip package.
    
    Since we don't clean up the created zip file, it is very counter-
    intuitive that when "do upload" is run, an old package could be uploaded.

commit 3aec3100adc3dadb512a50c7230842eda155bd0c
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Aug 17 12:46:01 2017 -0700

    Cleanup, move TaskRetryError to job.worker package.
    
    Centralize retryError into TaskRetryError, along with adding a reason
    for the retry. Adds a retry count into the task handler loops so we
    can make sure we don't go over some max number of attempts.

commit 508e1429411c4bd10f70ab01c8a3289c3009be35
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Aug 15 18:07:19 2017 -0700

    Do full retry on txt file busy error.
    
    Remove the retry hack in shell, and now do a full retry for each
    client handler every time text file busy shows up. Check the actual
    output and returning a special error type for it.
    
    There was also another case of failure to connect ot GAPIS server from
    a timeout getting hit.

commit ab32cf271041b753898f2ef47c5afbc5a9c877de
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Aug 21 09:40:45 2017 -0400

    Escape "\" in gapir log path.
    
    This was causing the windows log to get written to C:UsersAndrew....

commit 45c1a9e8b0682226658e1642fc3db30ae2517ec0
Author: AWoloszyn <awoloszyn@google.com>
Date:   Mon Aug 21 09:43:51 2017 -0400

    Fix issues with mid-execution capture in Vulkan.
    
    There were 2 issues here that were fixed.
    First, sometimes if we were reacreating descriptor sets, we
    would not correctly check for validitiy for COMBINED_IMAGE_SAMPLER
    
    Secondly if we could not correctly recreate a command-buffer,
    i.e. it contains a command that is no longer valid. (Referencing
    a deleted resource), we would just skip the invalid commands, now
    we stop recording the command buffer at that point, since we can
    get into invalid states otherwise.

commit 88fb8bbf78ee048f989f66c6b65653a9731ef774
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 15:46:11 2017 +0100

    gapic: Fix gapit arguments.
    
    Booleans are special and require a different style for passing.

commit b9d843c209776a684d6833c14c5bea3448600efe
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 15:46:54 2017 +0100

    egl.api: Don't error if calling eglMakeCurrent twice on the same thread.
    
    It is only an error if the context is bound to multiple threads.

commit b6d52f119f2a28ef314454df5c67b174beabb1f3
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Aug 21 10:27:36 2017 -0400

    Make a copy for in-place sorting (#932)
    
    To make the thing safer.

commit 78541c2313292a934b768c9502cd1db0b33b7189
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 18 13:52:06 2017 +0100

    gapit: Default to disabling PCS.
    
    I'm repeatedly caught out by this.

commit 2154321b1dd552a6b2bb1c9ef3cb522c61e46ef7
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 18 17:08:21 2017 +0100

    Format gvr.api

commit 5723e1399dfffe9e1920201e987a220786621894
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 18 16:23:18 2017 +0100

    gles: Use the framebufferIndex parameter for QueryFramebufferAttachment.
    
    Let's us pick the framebuffer we care about viewing.

commit 120493ba96c151fe18e023a87f63f64802ed2c23
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 21 12:22:32 2017 +0100

    go / tmpl / proto: s/atom/command.
    
    There's a bunch of other references to atom due to the deprecated package.
    These will be removed soon enough.

commit eb19f769e7ea151ab878ecc41b1b07d2030dcf5f
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Aug 18 19:24:32 2017 -0400

    Revision of DCE for Vulkan (#803)
    
    * Revision of DCE for Vulkan
    
    This version of DCE drops more commands and save more transferring data.

commit 4ea854d12559fdf4d92e03d80cab68af1d644ad2
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 16 14:30:17 2017 +0100

    gapis/api: consider SubCmdRoots as commands when grouping

commit 20a3e49327b536011a6e95667237d9e0a8be4dbf
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 16 17:40:48 2017 +0100

    gapis: Filter SubcommandGroups too.
    
    These were being added with no consideration for the filtering.
    
    To implement this I changed CmdIDGroup.AddAtoms() into AddCommand() and Cluster().
    
    This is a cleaner API anyway.

commit 7ee8e28a77a1aa3e45c5138e9adee853cd85773f
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 16 17:39:07 2017 +0100

    core/data/slice: Add RemoveAt

commit 374736242c0a83b1b3703a0ca019209d6e35a895
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Aug 17 11:32:07 2017 -0400

    Fix a bug in Memory tracker (#921)
    
    When removing a range from tracking, if the range shares pages with
    other range, the shared page should not be granted with RW permission.

commit eb052f693d1af329c477dfb7132a06e171d4784b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 16 10:15:47 2017 -0700

    Default the 'disable PCS' option to true.

commit c231c3c52dc507e78dc6f561b41ef070f986f2ec
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 16 11:21:11 2017 -0700

    Fix a deprecation warning on OSX.

commit b380cd99982e33b21968c2dc52fb66217405d8c0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 16 15:07:54 2017 -0700

    Parse the search queries from robot web requests.

commit b6befb12d669ae099838c55bb4abd42f51120b48
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 16 12:55:41 2017 -0700

    Include the OS name in the OS specific build packages as well.

commit 526ee454b37e2ed8b041947bb10d2e9567c7dabb
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Aug 16 11:42:52 2017 -0700

    Add mutex lock to Actions.update.
    
    The apply event expects the mutex to be locked when it is called via
    ledger.Add. update was fine before because it was only being called from
    the worker task handlers, which were only called under Actions.do, which
    previously held the lock for the whole function. Now that it releases
    the lock before sending a task to the worker, any call to update needs
    to get the lock again.

commit d9e3dc40e32f6531c24aa8c18342e0037316f5b4
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Aug 11 14:26:29 2017 -0700

    Fix tracing on multiple devices simultaneously.
    
    The mixture of a deferred mutex unlock and a channel receive call made
    it so the actions list would wait for one trace task to finish before
    starting the next one. Moving the mutex fixed the issue.

commit 9c518227e7c17db1a2048737bf6647bae36eb847
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Aug 16 17:14:45 2017 +0100

    Do not bind context if it is already bound on different thread.

commit fa57ffe89bbe0a6865e76cd9e8698b7576e6e870
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Aug 16 16:04:55 2017 +0100

    Abort all GL commands without current context

commit 47c0b5f873484ce896d13705a882f3aed471c6d5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 16 10:25:58 2017 -0700

    Remove unused import and fix build issue from #919

commit 8758006ae39ddbea287ce20b983035f3c959f741
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Aug 16 13:11:04 2017 -0400

    A map-based trie for data indexed by SubCmdIdx (#901)
    
    * A map-based trie for data storing indexed by SubCmdIdx
    
    * resolve comments
    
    * Change back to using separate loops for each exported methods

commit 7bb88dfc1b731ae70beaef8c0738379b6ad2b35c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 16 08:10:39 2017 -0700

    Address review comments.
    
    - Renames Pools.NewPool to Pools.New.
    - Renames Pools.GetOrPanic to Pools.MustGet.
    - Fixes a comment.

commit 079b056539c4742e03cd89a799763985dc68f1f8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 15 13:31:53 2017 -0700

    Handle case where the client requests memory for an invalid pool.

commit 6be695238cfe6802e160cbcda32b350ebe257c6c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 15 12:57:26 2017 -0700

    Handle memory requests on commands creating pools.
    
    We used to fail if the memory for a pool was requested on the command that
    created the requested pool.

commit 9e428dda99d51d1f13b84cdc69c05d34bf8840b8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 15 12:02:56 2017 -0700

    Don't return an internal error if the requested pool does not exist.

commit 360c90e14cb14aa0d71f129e1327a54c02a1c871
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 15 11:57:59 2017 -0700

    Hide the pool map implementation behind an abstraction.
    
    - Moves the logic of handling the NextPoolID inside the memory package
    - Is more explicit about the error case if a pool does not exist

commit 650f31db59df34370f45c0ca11bdc32f0a8cbe79
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Aug 16 12:38:44 2017 -0400

    Vulkan: Subcommand support for secondary command buffers and commands (#886)
    
    * Vulkan: Subcommand support for secondary command buffers and commands
    
    Supports cutting in vkCmdExecuteCommands and RecreateCmdExecuteCommands.
    
    * remove debug printf

commit c758a511a24c562895135d6d35294f4d38777d2b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Aug 15 14:40:49 2017 +0100

    Remove redundant glBindBufferBase commands

commit e70530cc8c6ba6b609a0865e142a8ab6f6ecda7c
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Aug 15 13:17:28 2017 +0100

    Ensure GLSL variables are initialized
    
    The compat layer sometimes creates code which uses uninitialized
    variables.  Although the output is technically correct, it makes
    my driver complain a lot.

commit 9e98d89c550dabc5468f38456cb3f85c5628667f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 14 15:58:22 2017 -0700

    Move dialogs from widgets to views package.
    
    Some dialogs were in one, some in the other...

commit 475506aaa6ae7503eb68a77c74ad1d0bc0d59c1b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 14 15:54:09 2017 -0700

    Drop usage of the TitleAreaDialog.

commit 10ba36087d25f66688655c2ecd0e60e648e48f74
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 14 16:24:57 2017 -0700

    Fix resizing bug.
    
    Fixes #908

commit a58565d197408af8d33f84ef2b824ec325dd8797
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Aug 15 11:01:18 2017 -0400

    Memory observation for subcommand (submitted commands) (#898)
    
    * Memory observation for subcommand (submitted commands)
    
    * resolve comments

commit 1a59a84db180f4ce7fa8e3191ca43f64f7c78068
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 15 15:44:00 2017 +0100

    Fix typo that makes the build fail.
    
    See: https://github.com/google/gapid/pull/881/files#r133206977

commit 931e25236369950a6e496bcbaa71b5d5cce7fb77
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Aug 15 10:26:01 2017 -0400

    Fix a crash due to grouping in SubCmdRoot (#881)
    
    * Fix a crash due to interface conversion
    
    Otherwise gapis crash as:
    ```
    panic: interface conversion: api.Span is *api.SubCmdRoot, not
    *api.CmdIDRange [recovered]
    ```
    
    * Update cmd_id_group.go
    
    Remove redundant code

commit 5a3755a4c5501308053a44e43bb0a76e40ed03bc
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Aug 9 14:02:49 2017 -0700

    Fix "text file busy" in robot.
    
    An unfortunate side effect of unix' fork/exec model is that between fork
    and exec file descriptors marked for close-on-exec are still open in
    the child process. This is usually perfectly acceptable, but not when
    writing and executing test binaries in quick succession on separate
    threads. This fix is very ugly, but is currently the accepted solution
    to this problem, more details about it are in the large hack comment in
    the file.
    
    Also to see how many processes this fixes, added a log message to Wait
    when there are no errors.

commit 2ed114da3b6883ff62c224631806aeb43e2a11e9
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 8 18:00:52 2017 +0100

    gapis/server: Don't return (nil, nil) from CheckForUpdates.
    
    Fixes: #877

commit 5eb0cbf84fc1faf0d9940ae23e57f36c4cc83a8f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Aug 11 11:16:30 2017 -0700

    Always show free-form text box when editing enums.
    
    Show the free-form text box along with the drop down when editing an enum
    to allow the application to show and the user to type a value that is not
    part of the known constants.
    
    Fixes #764

commit 017e1549188c023e5667c9a45d72fe2e44536e9e
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 11 14:23:13 2017 +0100

    core/app: Fix tail of log getting dropped.
    
    wrapHandler() creates a channel which needs to be closed.
    The closing logic was acting on the inner log handler, resulting in the channel never getting flushed.
    
    Fixes: #752

commit b15a5cf8d2f173a3896f73ea96649a69122b5744
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Aug 10 16:54:03 2017 -0700

    Adding call error to client output.
    
    As a response to feedback, it actually makes more sense to bundle any
    call errors with the output of the client call. This means that we can
    have a clearer difference between failures that happen in gapit, vs
    failures that happen in robot.

commit 487fa5f7820cb21392bf829e9e0f03bd6e9319c5
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Aug 10 14:23:31 2017 -0700

    Reverts error handling for Trace client.
    
    Turns out, the way client error handling was done previously was
    correct. The command's error needs to be returned at the end of the
    function, after uploading logs and the trace file. This was making
    failing traces no longer upload their logs, so we couldn't figure out
    what was wrong with them.

commit 450d5735ae1c5a9b33db0a91a81be48445152cfc
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Thu Aug 10 10:54:38 2017 -0700

    Fix a log.F to log.Err
    
    There was a log.F in the trace client that would kill all of robot if
    the trace ever failed. Changed it to an err instead.

commit 1028367f265d998a19b5713c3bba2e2b974fd97b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 10 11:06:14 2017 -0700

    Add a refresh devices button to the tracing dialog.
    
    Fixes #864

commit 330968710f814b06d85095bc7b8cb3a1356e09a5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 10 16:13:29 2017 -0700

    Fix thumbnail scrubber scrolling.
    
    Use a custom widget to get around the scrolling limitiations and stop
    using the infinite scroller.

commit f8f7606b05c66f70d50b72ed531bfc6288652b90
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Aug 9 15:19:38 2017 +0100

    Use the last draw or clear command to generate group thumbnail
    
    This avoids a common problem where the framebuffer is unbound
    at the end of the group.

commit a746bc82057045e29ffa968654efa4f10349e7f5
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Aug 7 20:27:02 2017 +0100

    When adding group with identical range, warp instead of nest.
    
    This behaviour fixes my current frame issue,
    and I do not believe we care in other cases.

commit 1730775d65c45fe139c36e267e65ca9b27832979
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Aug 7 18:45:10 2017 +0100

    Make draw groups extend to the previous existing group
    
    This ensures we create the draw groups even in the
    presence of user-defined groups.

commit 7213ca778c040aa166712e889c9b479e39ae958e
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Aug 7 17:32:22 2017 +0100

    Extend the end of frame group to past user-group
    
    This does not have effect on the heuristic based grouping,
    but it ensures that we still have frames in the presence
    of user-defined debug groups.

commit c70e5aaa85d1df3dc703787f4076d6d224e8bd2d
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Aug 7 16:43:03 2017 +0100

    Split draw and frame grouping
    
    Just to make the code easier to read/modify
    
    Also fix silently ignored error

commit 4e48183e5fd13fda83c91b85954252f5dbfc7f7a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Aug 7 13:22:45 2017 +0100

    Group long spans of commands between already existing groups
    
    For pure-heuristic based grouping, this has no effect as we
    do not generate this pattern.
    
    For captures with a lot of user defined groups, this makes
    the user defined groups easier to find and navigate.

commit 4477e71c9c16c27fd34d00a36ed0c0ab44c391b0
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Aug 3 21:53:43 2017 +0100

    Show user debug groups as quoted string
    
    I want to be about to easily distinguish what is user-defined group,
    and what is gapis-generated group (heuristics).

commit bfdcf0e6f5b7b4e49437beb428717395eef199a6
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Aug 10 22:02:16 2017 -0400

    Vulkan: Add wireframe view support (#888)
    
    Fix issue #817

commit e054f8c0b5b685f2a992cde9e9786bc560fbb6ff
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 9 14:04:22 2017 -0700

    Use the new error dialog in a couple of places.

commit 78afbec434f09ffca30ceba13e45c9997f4402ac
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 9 13:47:57 2017 -0700

    Add a custom error dialog with link to file a GH bug.

commit c000cbbe11c611f46c0fd8f692ded4452ce38d63
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 3 10:18:06 2017 -0700

    Show the stack trace of the RPC request on failure.
    
    The stack trace at the time of the error is often useless, as it is run
    on a different thread than what actually initiated the request.

commit e00ca2758b4e61eeb87a9d06070ef4df841864cf
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 3 14:07:02 2017 -0700

    Use the value of --log-level as default for --gapi[rs]-log-level.

commit 0b1a7a3aba5ff030af7f3dffbf9f564d2cb4c42d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 20 06:53:11 2017 -0700

    gapic: Separate flags for gapis and gapir log level.

commit d38d40d88db695e0b3b3dc65582fd3e7ae302e94
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Aug 9 19:20:43 2017 +0100

    Add specific GL error message for negative value.

commit 0b22ecbe1e24ab391a125c380b20adccdc6f3bd6
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Aug 9 17:11:12 2017 +0100

    Remove variable names from error messages.
    
    We never set them to anything meaningful.

commit cbadf156080bedeba72fcb011571738834344013
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 8 11:26:09 2017 -0700

    gapis: Add simple depth->RGB(A) conversion.

commit 634969b9727b7f9771a5600997a11e5276863281
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Aug 8 11:52:36 2017 -0700

    Added MIME type to info for log file uploads.
    
    Log files were just getting uploaded as byte streams and most mime
    lookup tables don't handle .log as a file extension. Just add the type
    manually in the upload call.

commit f0fccfd6c035b4feff3124ed19dffb6b251de2b4
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Aug 7 16:19:45 2017 -0700

    Fix crash in deviceinfo query.
    
    query::getDeviceInstance could return null, but was never checked in
    get_device_instance before dereferencing, causing a crash when it
    failed.
    
    Test case is calling host.getHostDevice while accessing a headless
    instance, which causes glXCreateNewContext to fail from within
    createContext.

commit b9699d7e42a263c753bf1f10a4c16c3956925a8f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 3 15:01:50 2017 -0700

    Add a menu entry to gapid's debian package.

commit a4c6a3cdb3561ae7c912214b3fcbfa261d91d63b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Aug 3 14:23:16 2017 -0700

    Add Installed-Size to the debian control file.

commit 6bc7bbe5e6edb16f3da2f800ee748e822f79a758
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Aug 7 15:24:06 2017 -0700

    Remove extra margin in status bar.

commit 3b4301f109ea47d1d41edfbc731c23902b2ade22
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Aug 7 09:09:22 2017 +0100

    Update README.md
    
    Update to the fact that pre-release binaries are already available.

commit 66d86ceaa924aa48de80a9d6af373587de3cdb37
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Fri Aug 4 13:15:33 2017 +0100

    core/os/shell: Remove comment about 'watchdog'
    
    Seems to be relating to something that no longer exists.

commit 2d7c2f67fed920f5a68c9f48c2cfb7bbc9a69e4b
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Fri Aug 4 13:14:56 2017 +0100

    gapii/client: Fix removal of forwarded ports.
    
    The context was being cancelled before the call to RemoveForward(), meaning the latter did nothing.

commit e1830002105a1cf028a5f7488e5cf78cb56c1773
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Aug 4 11:50:10 2017 +0100

    Bump GAPID version to v0.5.2

commit 110b500847f1fd8dc5b8cc6ac83f7dbebcccdb8c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 3 19:31:50 2017 +0100

    gapic: Address review comments.

commit f74360c73ac56d3791103a5fd2edd07ab849ee6a
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 3 15:06:06 2017 +0100

    gapic: Check for updates every 8 hours
    
    Unless the user has opted out of checking.

commit 07bd1090e6a7c83e6f632102c69fb4fcde2b6588
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 3 15:05:10 2017 +0100

    gapic: Add checkForUpdates method to the Client interface.

commit a827788b6b8e8b3da32d95a2a119633360dd68dc
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 3 15:04:37 2017 +0100

    gapic: Add simple status bar.

commit f9e2140b6f58709b60a18358fcf8a08f1b6915a1
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 3 11:41:45 2017 +0100

    gapis/service: Add CheckkForUpdates RPC.

commit df508043343b40af0793d32f3f0d22ea7dfe7118
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 3 11:30:53 2017 +0100

    core/app: Add VersionSpec.GreaterThan() method

commit 13f12a3b7b240539ac3cb28c2bbbf94f1fa57b2d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Aug 3 11:30:30 2017 +0100

    third_party: Add go-github and go-querystring packages.

commit be7d8d7ba45f6c1178992b59ae5ddc580da9b964
Author: Qining Lu <qining@google.com>
Date:   Thu Aug 3 14:45:28 2017 -0400

    Read the coherent memory from the application memory pool

commit 05f6334cfbda848d8749f17417694b2d226119e4
Author: Qining Lu <qining@google.com>
Date:   Thu Aug 3 14:36:01 2017 -0400

    Fix the problem of double-mutate of the last command

commit e311042e91817ccdaeb6c13a61e7f64b9dd25170
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 2 16:26:48 2017 -0700

    Show the current GL context in the state view.

commit 91cbbde6a1b990e321791c98dd47068384ff9622
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 2 17:19:14 2017 +0100

    gapis/vulkan: Don't propagate ErrCmdAborted in ResolveSynchronization.
    
    This error will bubble all the way up to the RPC, preventing the command tree from loading.

commit b64c49fc05cd74e3ecc7d95f9413bb13ceb355ad
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 2 09:58:13 2017 -0700

    Slight adjustment to the random color generator.

commit c202960c01fb3397d0607308ffe8466d065b5247
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 31 14:34:49 2017 -0700

    Max line length.

commit 3a20a27e5153258e6a385c5df675404c116e0284
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 31 14:20:08 2017 -0700

    Make some of the code generation quiet for a less noisy build.

commit 5df0f98ca5c539b49dc22f5dbdbe932a394631b1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 31 14:19:09 2017 -0700

    Fix some proto import warnings.

commit af8e6d1c3908d85f8827df9c6143c216b3509d2e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 31 14:09:19 2017 -0700

    MemoryProtos.java -> Memory.java

commit 1eb697bdf2cd807904d30c1b52140e4831dff3f8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 31 14:05:45 2017 -0700

    Be more consistent with inner class imports.
    
    Especially around protobufs.

commit 14c4f02a33869026503cc6add1df98384f0097a9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 31 13:11:12 2017 -0700

    Simplify CommandFilter's toString.

commit 370b1673e2b6b04069087f884652b37a70ff15f6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jul 26 09:18:33 2017 -0700

    Refactor the thread coloring in the tree view.
    
    - Clean up colors on dispose.
    - Move the color generation into the utilities.
    - Use SWT's built in HSB color constructor.

commit 6b3cf40fbae76b106174eb9186b5730145234c72
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 24 14:40:54 2017 -0700

    Use PingRequest.getDefaultInstance()

commit 5a0417223ed610c5440104cb88d714dc55dc31c1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jul 19 14:47:14 2017 -0700

    Add a jdoc verb to do to generate gapic's javadoc.

commit 304cc7237384de39c85faaf8c74395f2ccfe7790
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jul 19 14:46:33 2017 -0700

    gapic: Fix a bunch of warnings.

commit dc07b4a7cfcb913bd936279ba219a06577830a11
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Aug 2 09:56:56 2017 -0700

    Allow saving geometry data as OBJ.

commit 7b6650535630dc5d21d585574b1e04223bfcaff4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 31 16:03:22 2017 -0700

    Remember user selections in the state view.
    
    - Not just the followed link
    - Don't expand/reveal the remembered selection

commit 8d045eaf07e65cbd9d095dc744c225093aef8d49
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 1 13:15:09 2017 -0700

    Actually use the remebered frame count value.
    
    Fixes #833

commit 7a57437c37968c7a3ad799c28e30bb3b949473b2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Aug 1 15:36:09 2017 -0700

    Remember shader/program selection.
    
    Also fixes issue where selecting the dummy "select a shader" entry didn't
    cause the source to be cleared.
    
    Fixes #559

commit 420cc7e9dee4f681c11d9e6dfd322e8174a4bdbc
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 2 17:20:54 2017 +0100

    gapis/capture: Treat ErrUnexpectedEOF as EOF.
    
    The process may terminate mid-message, but that's cool.

commit 5a963daf484a3c263a7368cdb8043b1d42abceff
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Aug 2 12:47:18 2017 +0100

    gapis/gles: Fix FB requests stalling forever.
    
    If you request a frame at a command that aborts, the DCE will remove that command from the execution list. The `readFramebuffer` transform then never sees the CmdID it's waiting for, and the request is never completed.
    
    Instead, change `readFramebuffer` to keep an ordered list of requests. If the next command is skipped, read the framebuffer at the next command instead.

commit 38ea2bc9bb2574deef0ab542cc20e711882bde0a
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Aug 1 19:08:28 2017 +0100

    gapis/gles: Workarounds for EGL_EXT_buffer_age #846.
    
    See verbose comments.

commit 2774352442de831a3996f5cbc78e203179786947
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Aug 1 21:52:05 2017 +0100

    gapis: Fix random gapis timeouts.
    
    I believe RPC limits the number of concurrent RPCs, and once a bunch of long-running calls consume all the slots, the pings don't get through.
    
    Count the number of concurrent RPCs, and consider this when deciding to timeout.
    
    Fixes: #773

commit f9edddc949ddb63ec861138ebb7944c84ed6802b
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Aug 1 18:30:02 2017 +0100

    gapir/cc/windows: Log driver debug messages.

commit 9f710de643366287e2c64f23da32b7233d2e030d
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Aug 1 17:02:41 2017 +0100

    Don't create a 'default' backbuffer
    
    Attempting to switch from the 'default' backbuffer format to the actual
    backbuffer format can break as wglMakeCurrent requires the pbuffer
    format to match the HDC's format.

commit dd3e329dd1154492bde4b60ca9141cec150fc76b
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Aug 1 15:05:14 2017 +0100

    gapir/cc/windows: Don't kill the context if the backbuffer changes.
    
    Fixes: #834
    Fixes: #825

commit 1282e79902c7d9eae771fb06bd180bf604e33c9c
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Aug 1 15:00:20 2017 +0100

    gapic: Add "-gapir-args" and "-gapis-args" flags.

commit c0ce82603d788d3202ed745292497566aa6d0d71
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Aug 1 14:59:49 2017 +0100

    core/cc: Windows break after debugger attachment.
    
    GAPIR can race ahead while the debugger is loading symbols, preventing breakpoints from being hit.

commit 56f0090ed72562e3f34936e57cb532759d6f5b56
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Jul 26 14:46:13 2017 -0700

    Fix object view in robot webserver and uploads.
    
    When the format of build ToolSets changed it broke a part of the data
    gathering functionality in the webserver. There was already a TODO to
    change it to use the proto directly rather than using the json and
    assuming the format doesn't change so I took it as mine for the future.
    
    The master server was only listening from localhost for uploading
    subjects and artifacts. Now it accepts from any valid connection, so I
    can upload from another computer.

commit 8977eb959133be1ed91c79cdc18a4f185de2de10
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Tue Jul 25 15:31:14 2017 -0700

    Add histogram data to report.
    
    Gapit report will now optionally output histogram data with the flag
    '-histogram'. This data is in the following format:
    
    [Histogram] frame #{1}, [{2},({3},{4},{5},{6})], ... )]
    1 - the number of the captured frame that was tested
    2 - the difference bin* of this group.
    3 - the number of pixels with red channels in this bin.
    4-6 - the number of pixels with green, blue, and alpha channels in 2
    * each bin represents a difference range to calculate the range do the
    following:
    min := (bin-1)*255/(binMax+1)
    max := bin*255/(binMax+1)
    binMax is the number of bins total (currently 32)
    
    This is a quick and dirty way to get the histogram data over to robot.
    Better representations will most likely lead to better performance and
    usefulness.

commit 573ed95a977032669bd15a0a1309531230ef17eb
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 31 16:23:42 2017 +0100

    gapir/windows/gles_renderer: Don't rage-quit if tear-down errors.
    
    There's not much to gain by quitting GAPIR at this point. In my experience tear-down functions tend to be more buggy than setup & core functions.
    
    Assuming there's a real error being raised, these still get logged. Setup errors are still fatal, so assuming context creation succeeded, there's now at least the possibility that something renders.
    
    Issue: 834

commit 46c0712f21ee2d6294e78031735ce721abbc2e24
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 31 21:19:44 2017 +0100

    gapis/api: Preserve thread on edit.
    
    Fixes: #757

commit 37ea36b7cb5b505f6e2fed4bb995cc1477b4ea28
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jul 31 16:13:18 2017 +0100

    Strip "out/dist" from kokoro artifacts

commit ff90b42025faef3faf99aa84c15b88c594746d76
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jul 28 15:12:22 2017 +0100

    Tweak log output format to match GVR log format
    
    It makes adb logcat look more consistent

commit 1327085b92f52742818cbb81d9922636cb70e91f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jul 28 17:07:36 2017 +0100

    Fix resource destruction

commit a512df1e59f7b3497dd65c0f251177556926ac15
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jul 28 15:32:26 2017 +0100

    Make it possible to get log messages from trace driver

commit adcd9547ddc099417ebc646df3a84c02d029632b
Author: Qining <lqn.anthony@gmail.com>
Date:   Sun Jul 30 15:02:50 2017 -0400

    Vulkan: Drop some unnecessary memory observation for coherent memory (#806)

commit 36528858c60ca4e8984b85a1f5f9bbd758aa4a65
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jul 27 16:00:09 2017 -0400

    Updated the README with more information about Vulkan support.

commit 260056439ecc28c73d2393734ae8884b2b76091e
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 28 11:24:48 2017 +0100

    Bump GAPID version to v0.5.1

commit 569fec46a16b8459a10bf35af3c9823894761ff7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jul 27 14:15:15 2017 -0700

    Make the MSI installer create a start menu shortcut.

commit fa0f6af356637d99c55d73f089ec6028e1da0fd5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jul 27 14:14:43 2017 -0700

    Fix MSI installer to actually respect user picked location.

commit 27f87c9e8b1e3bdc24d5a144956f41190da87561
Author: Qining Lu <qining@google.com>
Date:   Thu Jul 27 15:09:23 2017 -0400

    Just a minor fix to avoid crash

commit 7a13c8d5204c2669fbf7d653f502467be8cc43d9
Author: Qining Lu <qining@google.com>
Date:   Thu Jul 27 14:39:35 2017 -0400

    Minor fix to avoid crash in getIndicesData

commit 9f788480ff196afb7aaa97c9bdd8a210930153e0
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jul 27 12:38:12 2017 -0400

    Make the out of bounds checking for vertex buffer more robust.

commit 60bd1394c019083dc02cba990e0bb22334b6caf6
Author: Qining Lu <qining@google.com>
Date:   Thu Jul 27 12:23:45 2017 -0400

    Fix the bug in flipping the image

commit 1eca5ee6f129bc77e6eddd57e00530e8fbc8abd7
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jul 27 11:32:51 2017 -0400

    deep.MustClone() was not copying read observations.
    
    Switch out deep.MustClone() for Extras().MustClone() as deep.MustClone()
    was not picking up the extras.

commit 653fcd8d7a2c88a58b83a8541b19b7c05e72092e
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 26 17:10:12 2017 -0400

    Add SubCmdRoots for empty command-lists.
    
    This removes weird gaps in the UI that were causing indexing issues.

commit d22b8835afd839e3312b65c9f079fac33d1a23ee
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 27 11:09:41 2017 +0100

    gapis: Ensure all Mutate() calls are on a forked context.
    
    Avoids panics caused by cancellation.
    
    Fixes: #800

commit f2543ed92c4c065e984e962d235d7ea7ceb09c33
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 26 12:19:10 2017 +0100

    gapis/api/sync: Tidy up the godocs for data.go

commit 06910f11187c6137ab247e76f232fabf1d155e24
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 26 14:51:57 2017 -0400

    Fixed an issue when submitting multiple command-buffers.

commit 0ae5940550bf7f995dfb57007cd969bca38050ba
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jul 26 10:46:31 2017 -0700

    Add CWD UI support for desktop traces.

commit dfa4fef1fa59b711085c828194c85f3f37dc49f4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jul 26 10:48:40 2017 -0700

    Grow the trace input area with the trace dialog.

commit 424d5c1c19e4a6cd81365aba1b9de89d1e1fedca
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 25 13:49:29 2017 -0700

    UI support for stopping after a number of traced frames.

commit 9a5033e19136e348ed1e1b9bdbdae66522f8e7d4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 25 13:29:39 2017 -0700

    Refactor TraceRequest into a base class.

commit d9abe38be8bc23fed64f0e075a2c4c8073fbef54
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 25 13:11:36 2017 -0700

    Treat a clean exit of gapit as a successful trace.
    
    If the application being traced quites, gapit exits cleanly, which should
    not be treated as a trace failure.

commit 5cafa08ec92f43f0af1f759086f08c5264d856a8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jul 25 12:21:37 2017 -0700

    UI support for mid execution capture for android vulkan.

commit 15bceb10aef8d5d1e6f68b267d30db56113e6ccf
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 24 16:37:12 2017 -0700

    Mid execution support for the trace UI.

commit 59c6d712926c6d4cbf1d8c62a76aa1dd356d5c6d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 24 16:11:00 2017 -0700

    UI support for tracing local apps.

commit d2864715ea2f9f862fc05fc9b9bcd5452842c1da
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jul 24 14:53:05 2017 -0700

    Clean up the trace dialog a bit.
    
    - Remove the unnecessary wrapper around the API dropdown
    - Remove the margin around the device dropdown

commit cf8f2fd92ace7bfc42c099f384681ba09005f079
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jul 26 09:22:46 2017 -0700

    Don't crash, trying to clean up GL, when the app exits.
    
    This is just to avoid the crash, which causes things like the settings to
    not be persistent, but does not fix the underlying problem. We may need
    to fork and alter SWT's GLCanvas on Linux as well after all, to fix it.

commit 57a5ac887c2d1752d29a65aba5ca830945ba4d25
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 26 10:06:39 2017 -0400

    Added working directory to local traces.

commit ee8f33bfe4dba186731cc4d4629a1bdd9d711bcc
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 26 10:35:27 2017 -0400

    Fixed bug in doUpdateBuffer if the offet was not 0

commit e1cd53b11a3e0aef92a86007b07b80b2bfc4ffbf
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 26 11:14:27 2017 +0100

    Make the OS icons high-dpi

commit 69ad258ef0cfd1442ebb36ef2c301879816caf70
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jul 19 16:21:25 2017 +0100

    Add framebuffer sanity checks.

commit d38a1942ae1e6df0e6ae8c84ad4814c77335b9c1
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jul 19 18:30:23 2017 +0100

    Translate glFramebufferTextureMultiviewOVR to single-view
    
    Just to be nice, it should be rebound on every draw/clear.

commit 01155cf62fa90c515419ba199ada87805d454c9c
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 24 14:07:26 2017 +0100

    Remove dead .gitignore rule

commit b5d202ac3ac1be955abc46fad41db70119166bf5
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 20 20:10:23 2017 +0100

    gapis/api: Fixup some naming inconsistencies.
    
    And make sure go-symbols are all public.

commit 5dfc62479d53305b2318d2962e907104a2ae96f1
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 24 15:37:36 2017 +0100

    cpp_common.tmpl: Don‚Äôt pass structs as varargs.

commit 699fc961d8f2fe33a009a2568b2235e79a52558d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 25 11:29:04 2017 +0100

    gapii/cc/android: Rework Installer class
    
    Tidy up the class and expose install_function().
    This will be used for intercepting GVR functions.

commit 5b1d11fb0fba8c9a77d46fb8d282fbe41a713994
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 25 11:35:31 2017 +0100

    Remove duplicated macro form gles template.

commit 2f3a6989f8bd7e2e56aa54a2278ea3d4b3a5ad60
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 25 12:04:03 2017 +0100

    core/java: Add JDWP support for reading non-static Fields.

commit 54781a31f257290ea1b8d8c0c5825da34ba833d7
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 25 12:18:28 2017 +0100

    core/cc/target.h: Add XXX_ONLY macros.
    
    Makes platform-dependent one-liners more readable.

commit 25b3308b290b321e052427e44e0d31355a50122b
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 24 13:41:12 2017 +0100

    Stub new GVR api files.

commit 65e19bd46bc4e5e15a50f6aeba999468835a21b6
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jul 17 12:20:36 2017 +0100

    Improve kokoro build speed
    
    Kokoro will rsync the whole workspace back after build.
    This is redundant for us so just delete most files at the end.
    
    This saves about one third of the Windows build time.

commit 2c1755715cce55d301fab9ca182ad4af155d279e
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Tue Jul 25 13:00:04 2017 -0700

    Switch to the SVG build badges

commit 5815a0c27e469ee8c2417475caa9f8718500d656
Author: AWoloszyn <awoloszyn@google.com>
Date:   Tue Jul 25 15:52:14 2017 -0400

    Check if the semaphore is valid before we change its state.
    
    This allows us to replay slightly incorrect applications without
    causing a panic.

commit 6762d1babc9b4a53893fd27de6ab7f9336b8295e
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jul 25 15:45:31 2017 -0400

    Increased the maximum message size.
    
    We have run into textures that are 150MB, so we should be able to
    transfer them across.

commit 8f37cef3e47c154d82b56bdecb8bb99cc0a3828f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jul 25 16:09:42 2017 +0100

    Log killing of process
    
    If we accidentally kill gapir in middle of work, I want to know.

commit 847938bcfad20ba0ce5cfee56d907d02ac30845f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jul 24 16:22:57 2017 +0100

    Increase default idle timeout

commit 3ef70dbd5dfbce0a6c4a28cf748c9b8e81f69f88
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jul 25 18:41:13 2017 +0100

    Fix dependency graph for non-supported APIs
    
    The return value from the function was obviously wrong

commit 11a4d152369c6a2eb28042ad95856d1affabaf78
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jul 25 13:41:19 2017 -0400

    Added subcommands to memory view, and shader setting

commit 7e02051dffcde1dd85404db10ee77ce81326c583
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jul 25 13:20:59 2017 -0400

    Added mesh view for subcommands.

commit e17ab6a40706224129e4166a035edf037ea1057c
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 24 18:05:32 2017 +0100

    Fork the context for cmd mutation.
    
    Removes the need to handle cancellation in the state mutators.

commit 39701356d14279119c45ab8a45f2207a7dd5fa8b
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jul 25 09:26:49 2017 -0400

    Update the tree-view for mid-execution capture.
    
    All subcommands that were recorded before the start of a mid-execution
    capture were showing up as "RecreateInstance", now they show up as the
    recreate command that generated them.

commit 36835e668cbac25e2ea613e2204e13b1ecc42c7f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sun Jul 23 14:54:23 2017 +0100

    Add dependency tracking for other clear variants

commit f9568837df10465088b9ef287a1f9b8319880f2b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jul 20 15:34:56 2017 +0100

    Check GLSL only when it is compiled.
    
    Some games set invalid source, but then never compile it.

commit 773009080195186362eb227a203bf57d61cb8b51
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jul 18 17:54:51 2017 +0100

    cmake: Add package compilation
    
    This doubles the speed of incremental builds.
    
    The rules used packages only to track dependencies (what needs
    to be compiled) but never compiled them (which did work, since
    go would compile whatever is needed when building tests/cmds).
    
    Explicitly build and install packages from cmake now.
    This should allow us to remove the big lock which
    made go compilation essentially single-threaded.
    
    Also make test dependencies more precise to make them parallel.

commit d0406b0354ec972416abd0f107f17892e84ede44
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jul 21 13:14:11 2017 +0100

    Fix dependencies for generated files

commit feddcd75d990e34136f76accd4f84e4ba312f5ad
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jul 20 15:13:39 2017 +0100

    Reduce replay driver verbosity.
    
    I am getting a lot of distracting noise from my driver.

commit 5ffa5bef18ab59e5de8aee623376520545a432fb
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jul 24 17:08:48 2017 -0400

    Vulkan: Only copy the coherent memory data in the read observation (#778)
    
    This saves a huge amount of time on transferring data from host to
    device

commit 774ec8f92f302d553665762d68144f48071d36a8
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Jul 24 11:19:16 2017 -0400

    Added subcommands to resource view.
    
    This allows us to get textures from subcommands.

commit 4d7e3369a4e895a0014fee9037bd0eed0c0662ac
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 20 15:47:32 2017 +0100

    Minor tidy-up

commit f95ac152b89b2ab90508f22a748636760e222c2d
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 19 15:51:29 2017 -0400

    Some changes to help make building with MSVC easier.

commit 4548090dd0c028275e326823e89012e8404e1fbb
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 19 15:54:07 2017 -0400

    Added the ability to trace if STDOUT is consumed.

commit a033391198c1c7c207ac1dbf13dee92115f10a26
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 19 15:54:41 2017 -0400

    A handful of fixes for Vulkan traces.

commit c2f95c1b4f770910fea1086713529859ca8131b4
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jul 13 12:40:39 2017 -0400

    Added subcommand handing to the GAPIT tree view.
    
    This allows clients "gapit commands" to display subcommands.

commit 8fa8d520d2c75bae94b6fd5c26ae9f55abea2a85
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jul 13 12:40:13 2017 -0400

    Leave protobuf unconverted if there is no converter available.

commit fb9907b7b368cb7c360cbc3ae1de5b42ea1a860d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 18 13:53:38 2017 +0100

    Kokoro: Use XCode 8.2

commit 3b405d629d77ffa2d0c8a2215595b87f869a2302
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 12 11:02:11 2017 +0100

    Make GAPIR multi-threaded.
    
    Add a new SWITCH_THREAD opcode to dispatch execution across multiple
    threads.
    
    The goal here isn't to make replay concurrent - instead this is to avoid
    funnling all traced threads on to a single thread for replay. While this
    works (and always has), it involves adding a [egl,cgl,glx]MakeCurrent
    call between each interleaved thread switch. As it turns out, these
    context switches are expensive - on Windows, these calls can easily take
    the majority of the replay time.
    
    Significantly speeds up replay on Windows (3x for some traces), non-
    negligible performance improvement on Linux and OSX too.

commit 7573a62b5af00f2859a5c6fe572670d6cb68bd70
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 18 11:57:58 2017 +0100

    gapir/cc: Add ThreadPool.
    
    Collection of worker threads.

commit 88675635e81302afe4cb8e4b4b48a634728838bc
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 18 11:51:33 2017 +0100

    core/cc: Add Semaphore class.

commit d019b00f0ed4c6fa9d0f54fbb7b86ec8886f88ac
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Mon Jul 17 15:55:35 2017 +0100

    gapir/cc/windows: Switch to using pbuffers.
    
    Creating and adjusting windows for each renderer does not work well for multiple threads. Attempting to change the size of a window on a thread that wasn't the one that created it requires a message loop.
    
    Instead implement the renderer similarly to linux, using offscreen pbuffers.

commit 941cfe2fe25e50663327dbae57f94a168f8f97a0
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Wed Jul 19 13:48:38 2017 +0100

    If the framebuffer attachment isn't available, log the reason.
    
    Fixes: #603

commit 6f191d0bca96f0bafccb0eb04868ca4204a47e4a
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Mon Jul 17 15:59:11 2017 +0100

    cmd/do: Add --time flag.
    
    While on unix systems it's easy to `time ./do <blah>`, on windows you need to have unix tools on the path.

commit ff6dd1a7b5b1898c8675f0292fe2a721738a213a
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Jul 17 14:44:17 2017 -0700

    Address nits, remove error from file.Path.URL().

commit 16a784accedd6b4d2e0970ea78936fac623468cc
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Fri Jul 14 14:26:43 2017 -0700

    Change file.Path.URL() to return url.URL.
    
    It makes more sense to have a URL proceedure return an actual URL, this moves some URL parsing
    logic out of the shelf and stash libraries and into their callers.
    
    Some other fixes include moving layout's DirToBinABI into a function and fixing some Windows file
    URL handling to use strings library instead of manually testing the bits. Several small nits were
    fixed as well.

commit faef72e4169d2e1e7e5e220fae5918cdbcb01f35
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Jul 12 16:32:00 2017 -0700

    Robot works on Windows!
    
    There were several problems with filepath mismatches because some calls
    expect tools to be in binLayout order, or at least have that naming
    convention. Switched the upload tool and artifact processor to use that
    layout instead now.
    
    ffmpeg and git could not be found because we clear the path out and
    don't try to add the files they are in!
    
    Windows has ".exe"s and bin layout didn't care before, now it does.
    
    There needed to be a way to get the android abi name from the binlayout
    directory as well.
    
    Many instances of errors never being returned in error states because it
    halts the scheduler, so I switched it to storing a slice of errors and
    just returning and printing them out once done.

commit 1e22055892efe357e2f66c357dd0b06482fedeec
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Jul 10 14:58:07 2017 -0700

    Robot: Webserver works on Windows.
    
    The embed command was using system dependant filepaths for use in
    lookup. This was an issue in static webserver which attempted to lookup
    files based on the request URL, which uses different filepath separators
    from Windows. The fix is to add an option ('WEB') to embed that swaps
    filepath separators with url standard forward slashes.
    
    There is also an issue when loading the root index, which used
    filepath.Base to look for a forward slash which will not be the case in
    Windows. The fix is to use filepath.Separator to look for a root name
    instead.

commit 6060a33592632e593f7aa073a89298fe1fe28bf3
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Jul 10 14:31:50 2017 -0700

    Fix stash and shelf URLs on Windows.
    
    Creating stash and shelf files on the master server involves performing
    a URL resolution to find the correct protocol scheme and location of the
    file. The default method is to just pass the file path and assume the
    resolution will figure it out, unfortunately on Windows, the URL
    resolution will see the volume label followed by a colon and take that
    to be the protocol scheme, which causes the server to fail.
    
    The fix is to generate a correct file:/// url from the file.Path and use
    that instead of the plain filepath, and then remove the extraneous
    forward slash that the URL processing code prepends to the location
    field of the URL on Windows.

commit 9121737b139546c04f51b1fc630fc31cb93ab1b6
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Jul 17 12:50:28 2017 -0400

    Fixed a copy-paste error in vk_spy_helpers.cpp.tmpl.
    
    We were calling VkEnumerateInstance* from vkEnumerateDevice*, which is
    completely invalid.

commit bbb8199e50cf9c0dce15ebbaf02de87a881d25ce
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Fri Jul 14 19:08:07 2017 +0100

    Don't let sub-cmake builds generate code.
    
    This will always be racy and lead to either broken or incorrect builds.

commit 2e875588aefff1c5ac7f6ee94ccf82e4d1585f51
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Fri Jul 14 18:56:12 2017 +0100

    CMake: Remove BUILDBOT flag. It's never set.

commit 5adba0431d1113b5e09fb2d46057a50895b9577f
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Thu Jul 13 13:23:17 2017 +0100

    Switch NDK compiler from gcc to clang

commit b5b43d94ac536f39b4dc1474d48ffb9125954f80
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 13 22:17:50 2017 +0100

    Bump NDK to r15.

commit cb59264f5a05c8db8736df9719d63d90e3ccbf8f
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 13 21:17:27 2017 +0100

    cmd/do: Stop if the user interrupts with ctrl-c.

commit 350749a7d5172c443e8f9f521d9f7f3880ddf165
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 13 20:57:12 2017 +0100

    cmd/do: Change to only ask for the last invalid param
    
    Don't spin around and around confusing users.

commit 6c90f052d64468697b44e5a8b5271f30b5cc5917
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jul 14 10:07:46 2017 +0100

    Reduce integration test verbosity.
    
    I missed critical in the output which would have saved me a lot time.

commit 4fe6ae5e8629c736f88895cb7cea643baaeb9b12
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 14 13:33:09 2017 +0100

    Bump GAPID version to v0.5.0

commit c44dd16919b2ea324016a6c8e3ed4798ba40a03a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jul 13 22:24:43 2017 +0100

    Integation tests: Propagate memory layout to builder
    
    This is needed in compat to create memory observations
    with the correct pointer size.

commit 6bebe8db1804239dfd9f7a1b163bbbe37a1efef1
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jul 13 23:55:20 2017 +0100

    Shared contexts also need to share X-display
    
    This concludes a long search for a cause of a driver crash.
    
    Kudos to Ben for figuring this out!

commit b0197314b97eb1516cdbe916b9c8a49d294baa60
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 12 18:17:12 2017 +0100

    Fix deserialization of gles.ErrorState protos.
    
    Unfortunately it seems like an ErrorState can be serialized before the command, so we have to ignore these for now.

commit fc718107e6b1c630a90eefa5c945ef115713bc86
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 12 17:40:28 2017 +0100

    Fix a silent database error that could break resolving.

commit ded000ea2f5ba94cb92f944c69e91da84af23676
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jul 12 18:08:14 2017 +0100

    Integration tests: Update expected report output

commit c6a801f7b022a48ac70be65b71222f54c29332b3
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jul 12 18:07:15 2017 +0100

    Integration tests: Fix shaders
    
    glslang was correct to complain.

commit 531f67d93a4cce8c556fc592f9fa0a8b9ae1c1c1
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jul 12 17:39:08 2017 +0100

    Integration tests: Set image depth

commit f9f492bb96a03b0158cbc7aaf0f849a7428f1912
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jul 12 17:16:51 2017 +0100

    Integration tests: Fix command IDs
    
    They were set to wrong value when atom.List was removed,
    which resulted in asking for framebuffer before drawing.

commit 9b048b487e29b83ff3c59e32f5456f55bc7353a6
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jul 12 17:28:16 2017 +0100

    Replace error quoting characters with normal ASCII
    
    I have nothing against UTF, but the "bow" symbol just looks odd.

commit 216337313d0a184bb0ee96a806f3b96bbc9b93aa
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jul 11 23:18:16 2017 +0100

    Propagate and print cmd label in gapir debug log messages

commit b37e48a7f92613d597e7aded335be4be16788100
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Wed Jul 12 11:00:07 2017 +0100

    Add ThreadID to replay.Custom.
    
    Add a Custom() method to the CommandBuilders.
    
    Fixes: #729

commit d7d9820335c516e8d7e019222c92944301368f0b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 20:42:39 2017 +0100

    gapis: Make sure host is first in GetDevices()
    
    While Android may have preference for replay, the host should be considered the primary device.

commit e900d648048baaee0f2978f1ba2d8b6ffb878007
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Jul 11 18:31:44 2017 +0100

    gapic: Remove unused uniform

commit 5efd5d38ce39ccf4b30d3072c71a3501f58e04ac
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Jul 11 18:23:46 2017 +0100

    Remove POSIX-only, unused include

commit 1e4a80f47a1226859c75dc811799bb006fe55df9
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Jul 11 18:23:22 2017 +0100

    Fix C++ warnings about implicit casts.

commit 8ab5bab3649fe53e27f1faac92f706979aff804d
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Jul 11 18:22:27 2017 +0100

    Rename core\cc\windows\debugger.cpp to win_debugger.cpp
    
    MSVC can't cope with cpp files of the same name.

commit 8580161a696eee2ee757deeb7eedc116860d793d
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Jul 11 18:21:33 2017 +0100

    snprintf is now declared by MSVC
    
    It's also a fatal error to redeclare it.

commit 929cb383d000bc6dcb0c86efba9a46304030c911
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Jul 11 18:19:31 2017 +0100

    gapir: Use wglCreateContextAttribsARB to create the context of the highest supported profile.
    
    This doesn't seem necessary as the standard wglCreateContext() function seems to create a everything-compatible context. By being explicit we're being more in keeping with Linux, and we have a place to put context creation flags if we need them.

commit 9dd7b43393055889b2cdc5f0fb8fefecf7b36211
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jul 11 12:53:40 2017 +0100

    Disable ccache on Mac build server

commit ec46ddfb1d95492425a7c6b3af3080cdd73fab2f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jul 11 13:54:41 2017 +0100

    Add GL_EXT_clip_cull_distance
    
    Took me a while to find it as I was looking for MAX_CLIP_PLANS,
    but it is a red herring as it is aliased to MAX_CLIP_DISTANCES.

commit 8e2ac6ee0ef247c1cee10ae01d1535916fe3e2ec
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Jul 11 12:02:54 2017 +0100

    gles: Fix replay issue introduced with the thread changes.
    
    If you had an eglMakeCurrent() followed immediately by some
    commands on a different thread we'd miss a BindRenderer call,
    resulting in those commands being executed with the wrong context
    bound.

commit cc4851a4a3d1ded8ad59840481a1b6004b48c243
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jul 10 12:16:19 2017 +0100

    Remove all layout(location = ...) qualifiers in compat.

commit 7632e929820857413712628a7f053e4b0dd5a8fd
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jul 10 14:35:30 2017 +0100

    Add compat for GlTexBufferEXT

commit 9dc3f6bc8240d1fef7533bf13e57294b252db8f0
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 10 15:09:07 2017 +0100

    gapit: Don't default to the first context

commit 18e5535a1cd476a0cd61df8d38a3b5d9c3becd99
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 10 10:00:15 2017 +0100

    gapis/shadertools: Standardize error messages.
    
    Has the benefit of having line numbers when we fail to parse generated source.

commit 34f67fae445e58114790a01ef4ddbef2ee52e4cd
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 21:33:57 2017 +0100

    Move the alloc functions from atom to api.
    
    Issue: #706

commit 99aed5835a94905058ff3c40f0402349e525cb12
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 20:22:08 2017 +0100

    Move gapis/atom/test to gapis/api/testcmd
    
    Issue: #706

commit c43daa62701615335c3baac689737d5af1cb2720
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 19:52:51 2017 +0100

    Move gapis/atom/transform to gapis/api/transform
    
    Clean up the code and documentation while I'm there.
    
    Issue: #706

commit b02bc479067d07529e46ec62f941b91423471e4f
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 19:11:53 2017 +0100

    Move atom/service.go to api package.
    
    This involves moving the service proto declarations into the api package, otherwise you end up with a circular dependency.
    
    This is cleaner anyway.
    
    Issue: #706

commit 851f5d32805574912072f5df9f801cee1b6ef1af
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 18:36:15 2017 +0100

    Delete more unused files.

commit 0d398c75baaba76f4f8cded6005b4a5381b227d1
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 18:33:10 2017 +0100

    Move atom/abort.go to api/cmd_errors.go.
    
    Clean it up a little.
    
    Issue: #706

commit fcd2a7d410dc30b85bcdb0187571d7b83ea7b4b0
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jul 7 16:13:47 2017 -0400

    API support for vkCreateSharedSwapchainsKHR (#696)
    
    This command is NOT tested, as this command requires
    VK_KHR_display_swapchain extension, which is not found in any of my
    devices.
    
    MEC is not supported either.

commit b470abcfb492411b3c19bda9ea89e7cd9e7aa457
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jul 7 16:13:06 2017 -0400

    Update Vulkan README.md and add support for vkResetDescriptorPool (#694)
    
    * Update Vulkan README.md and add support for vkResetDescriptorPool
    
    * Resolve comments

commit f760d320b9201911492d35a6e4ee8f902366b35b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jul 7 18:12:26 2017 +0100

    Check GLSL code during find-issues

commit 4da24cd7d4243bb0ab1a44c2d5bccba96f28fdbf
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jul 7 17:51:16 2017 +0100

    Shader tool: Include disassembly on failure

commit 73a534ddb2aff14c1302f55bb296599ef154cb0e
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 18:27:16 2017 +0100

    Delete atom/registry.go.
    
    Move the new command creation logic on to API, as we can now.
    
    Issue: #706

commit 9f96775773f417ea9b084153f8cda0fc47877e2c
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 18:12:36 2017 +0100

    Delete atom.RangeList.
    
    Not used by anything.
    
    Issue: #706

commit fcc6374c25ddb7fb525f6b616347439f81d9f244
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 18:08:29 2017 +0100

    Move atom.Labeled to api.Labeled.
    
    Issue: #706

commit b5cd056ad30e2611ca82010a16a4182dc9bc4ee2
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 17:47:30 2017 +0100

    Kill atom.List.
    
    It's a legacy wrapper around an atom slice which we don't need any more.
    
    It was also creating a whole load of unnecessary copies of the command stream everytime we resolved the command list.
    
    Issue: #706

commit 34573316aa3be4ed6d7fd875538271eb3dd19d7e
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 16:39:07 2017 +0100

    Move atom.{Group,Range,RangeList} -> api.
    
    Issue: #706

commit 2c3e0be4bff8372cc884a4076349931616671d39
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 16:24:41 2017 +0100

    Move atom.ID -> api.ID.
    
    Issue: #706

commit d88afeba48be1adb84ee7373156922df675a16ac
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 16:02:30 2017 +0100

    Move/Rename gapis/atom.Atom to gapis/api.Cmd
    
    Standardize variable names where possible too.
    
    Issue: #706

commit d7d1e14a7cd57e198cdd79f272d2a5013dd03c92
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 13:47:47 2017 +0100

    Rename gapis/gfxapi -> gapis/api
    
    Issue: #706

commit dc59165ffe83515657d0781b8ce5f78e801cbef1
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jul 7 11:41:18 2017 -0400

    Fix a bug in Vulkan DCE and add all Vulkan Commands to DCE (#704)
    
    An 'command' should always be recorded to be rolled out later for
    vkCmdPipelineBarrier, no matter whether there are any
    buffer/image/global barriers attached with the command
    
    All Vulkan API commands are now added to DCE.

commit dc829b672119825792a281cd04292b9dfc1d7511
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jul 6 21:41:18 2017 +0100

    Fix attribute location mapping for glLinkProgram
    
    gl_ prefix is not allowed and we should skip those entries.

commit 8923546fcc10fdb9273f1face5ee658711c6d5e8
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 11:19:54 2017 +0100

    gapic: Settings dialog. Swap OK and Cancel buttons.
    
    Confirmation button is on the right for every other dialog!

commit 7efe19f7548a8ebe46d57aae05c975f727ab877a
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jul 7 11:19:17 2017 +0100

    gapic: Add API combo-box to trace dialog.
    
    We can‚Äôt sensibly replay mixed-API traces yet.
    Forces the user to pick one.

commit ebeee66f65f2810d0386cc1c824cb41f35fbab07
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jul 6 21:00:04 2017 +0100

    EGLImage compat robustness fixes

commit 7f737a4ef5d4d481b1564922f698cee7e6c90d72
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 20:15:44 2017 +0100

    gapis/atom/transform: Add debug info to panics.

commit f599d097b730149913a1fadfcc0a974f9d5b49c0
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 20:15:08 2017 +0100

    deviceinfo: Use correct parameter for GetGlesProcAddress.
    
    Wasn't noticed as the context isn't actually destroyed.

commit 0e92f1b75001b49a3d1b5a1ac26a6dfa193d3b08
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 18:18:07 2017 +0100

    gapii: Pass CallObserver down to more functions.
    
    The encoder is going to move to this class, and will be needed by these
    functions.

commit 15178931dd25c4042e004800c4959a7e25a9ee84
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 18:00:12 2017 +0100

    gapis/capture: Remove backwards compatibility stuff.
    
    It's not used.

commit 73924857dff73a55a87c701b1d787e9249278e03
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 17:56:57 2017 +0100

    gapis/gfxapi/vulkan: Avoid a getter function call.
    
    Micro optimization. The field is accessable.

commit b0fb6139c1af89b3bb767f35a2fff6fe52f47b34
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 17:55:52 2017 +0100

    gapis/gfxapi/templates: Delete unreachable code.
    
    Named imports dead, baby. Named imports dead.

commit e82a948aec047da7553dca49e44af6008b6ce845
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 16:05:32 2017 +0100

    gapis/capture: Add test for exporting and importing a simple capture.

commit 316ed8d1afab19b2f2f05c0a469b8a396fff314a
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 16:05:03 2017 +0100

    gapis/atom/test: Fix deserialization of test atoms.
    
    There was a mismatch of pointers for the unboxed type and the target type.

commit 80dc94d913fb3c84cf6958888e69a31727732f93
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 16:03:31 2017 +0100

    core/data/deep.reflectCopy() Shuffle early tests up higher.
    
    Gives a cleaner error message if the target cannot be assigned to.
    Expands the permitted types tested for Assignable.

commit 5d687ad6e82923ff0bb73c33e01fdaadbcac7b0b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 16:00:57 2017 +0100

    gapis/capture: Handle errors returned by convert()

commit 8394fa3815897d320448e7a617cbafe203b0166c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 15:51:30 2017 +0100

    Add tests for core/data/pack.

commit 48364d35235465b65d3dbb33332ac8ecabebc2d3
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 15:49:54 2017 +0100

    Add core/data/protoutil/testprotos.
    
    testprotos: Protos for tests.

commit 5d6534d8f33b89ee6de5021ab10e3c1c1e5013ab
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 14:25:17 2017 +0100

    gapic: Color commands by thread

commit 636b6195037abab8eeddc0caf7dfdfac8783fde0
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jul 6 12:03:10 2017 +0100

    Plumb threads into the service.
    
    Remove service.Command.context - it isn't used and is actually very hard
    to add efficently.

commit cb43632e092b1ece0269e37a84f6360c8ead89f1
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 19:32:00 2017 +0100

    gapil: Remove named imports
    
    They smell and we don't use them any more.

commit 0930c3f7638fa2c74e25143503498e83dc80bf53
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 19:00:06 2017 +0100

    gapii/cc/.gitignore - remove dead rules.
    
    There's no more than [0-3] spy cpps now.

commit a1d6173d12189188be627d903180dd2b8affa0ca
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 18:59:27 2017 +0100

    Kill gapis/gfxapi/core package.
    
    Keep the core_pb proto around as we're using it for the .gfxtrace file
    format.

commit 3c181a8067d15c56dade8705bd92dd78196c64b2
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 18:58:08 2017 +0100

    gapis/atom: Fix more stupid typos on ProtoToAtom / AtomToProto
    
    Observations is a pointer - fixes capture saving.
    
    Return errors if they are raised. Fixes silent corruption.

commit bf926c1f59069bf1a1a54bf040d18dabb16fd6d7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 18:56:59 2017 +0100

    gapis/atom: Strip switchThread atoms from the runtime stream

commit cb368131e700bf1d1235cdad902419f979673cf4
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 18:03:43 2017 +0100

    gapii: Remove core API file dependency.
    
    Emit the switchThread atom directly.

commit 271bcb49ccfd2bb2c92536ac6c3f3f7bb8d14495
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 17:58:35 2017 +0100

    gapis/atom: Fix invokeMarker type mismatch
    
    These were being added as extras instead of separating read from write
    observations. Impressive this hasn't been spotted or hasn't had any
    side-effects.

commit f581178729dae856eb386cbb62aa4a05784697f6
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 16:46:29 2017 +0100

    gles: Use $Thread for renderer bindings.

commit 0ed7d1c492e996b5aa7bb1ccd0d090f66e6f4764
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 15:16:38 2017 +0100

    gles: Replace use of CurrentThread global with $Thread.

commit 065ee369ab152ac89c03682ccb813bd0ff590378
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Jul 6 09:51:07 2017 -0400

    Fix Vulkan addCmd() by add thread argument (#697)

commit f24e9aa9149c10684c74ba4af3f3973127858d24
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 5 09:34:35 2017 -0400

    Flushed out the rebuilding of all commands.

commit 9044d6ab95d4d880ce4213758102f202086bc82a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 14:31:16 2017 +0100

    gles: Assert that atom thread always matches CurrentThread

commit 8bb7c3fd5c6382571127d61d573d4a0582f0334f
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 14:30:38 2017 +0100

    gapis/atom: Assign thread ids to deserialized atoms.

commit e4883d1ff37198c73cf5ff1ad1fbcf0962fe84d9
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 11:58:47 2017 +0100

    Add thread identifier to subroutine parameters.
    
    This thread id is still not used.

commit 9d80bcddef98d57bc63493db8dde0c329fee254a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jul 5 12:27:32 2017 +0100

    gles: Swap parameter order of atom ID and Atom.
    
    All other functions have ID then Atom.

commit 8f5c505be31ec3a916f70b61d0ac0a671b7d4fa1
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jul 5 11:39:28 2017 -0400

    Change some logs in Vulkan DCE from warnings to debug info (#691)

commit 3c93087b71a35385f29c6b51b880d6db590d4156
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jul 5 11:37:34 2017 -0400

    Reduce the chattiness of the GAPIR log in normal Vulkan Replay.

commit 6cbc3cc01c02cf8e89b5e65ab209e3672f1666d0
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jun 30 13:54:24 2017 -0400

    Added gapit screenshot command-line tool.

commit f570d562a80aceb3870d0bba47798843d01265fb
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jul 4 11:08:47 2017 -0400

    Fix review comments.

commit 065e0efe84a6e7c19dc42fca3d5418502b16b19b
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jun 30 13:55:13 2017 -0400

    Updated subcommand error messages, and removed restriction on Atom.

commit 0f97a3120b4b002c699d954c1fb2a5f7ad454d3f
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Jun 30 11:54:01 2017 -0400

    Added framebuffer requests for subcommands

commit d274590aa91c3756fb67d44f0da21b47a4e7c280
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 4 17:21:50 2017 +0100

    Un-revert and fix "gapis/replay/executor: Optimize the gapir <-> gapis io."
    
    The issue was that both gapir and gapis could fill their TPC/IP buffers,
    waiting for each other to consume data. gapir was blocked sending resource
    ids, and gapis was blocked sending the actual data.

commit 2dccdf256bf569b77a259bb3ea38ffc226b8468e
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jul 4 13:11:24 2017 -0400

    Fix DCE for Vulkan with synchronization support (#679)
    
    Also added new API commands in DCE

commit b7e3255dcb4b12afd3fca7a685ae629a5d96eba2
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 4 14:44:36 2017 +0100

    CommandBuilder: Propagate thread from seed atom to new atoms.
    
    Thread information currently not used.

commit b62b039c27e9eeb097d4d76c60af7258857835a9
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 4 13:28:15 2017 +0100

    atom.Atom: Add Thread getter / setter.
    
    Currently not used.

commit 7481324fd70f9c2b5a2f6d091f3ac1064701b7f0
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 4 13:24:55 2017 +0100

    atom.go: Remove stale comment.

commit 3b991a8456ce33c673b09533a27f11ba00530804
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Jul 4 11:56:28 2017 +0100

    gapil: Add support for $Thread - the current thread.
    
    This adds language support for $ globals, and registers the $Thread global. This isn't declared or used anywhere yet.

commit e8a4d1bd60da8ef4147f1289564fdfdc02032e12
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Jul 4 11:03:40 2017 +0100

    Cleanup a couple of things I spotted from my own PR

commit d5a697a5ce4ffcf277b24a430fecba1fb58b6572
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jul 4 17:04:06 2017 +0100

    Revert "gapis/replay/executor: Optimize the gapir <-> gapis io."
    
    This reverts commit 0d7b32a8857de4723199ab2439ad2b132bf5cb55.
    
    Seems to break replay, but I've still not figured out how.

commit 2177a6b9fbfd3c56f47427918503cd3993768d5e
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 27 18:39:22 2017 +0100

    Enable glslang by default

commit b71955e3deb86494c47a7342ac178051f1c1ee12
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 27 18:19:13 2017 +0100

    Update Khronos submodules
    
    Update the external repositories to the latest commits.
    
    This includes various needed fixes that I pushed upstream.

commit b3a2f0c480045fddf0692003d5e4e714a800094c
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jul 3 17:35:37 2017 +0100

    Translate build-in gl_ViewID_OVR to compat uniform

commit 92661e9bcba7cd453eba114860ee0b34ca6abdce
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jun 30 19:43:07 2017 +0100

    Tweak error messages of shadertool

commit 12151b9cf14d3f78f872726b30327aecc559ed44
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 27 16:34:23 2017 +0100

    Put a mutex around GLSL converter
    
    glslang is not thread safe

commit 690eb80266dcb58b9ccf66df490471ad44b9b048
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 27 16:07:49 2017 +0100

    Keep glslang initialized.
    
    The compiler set up is very expensive, so just let the compiler
    keep its cached data structures.

commit cf7b4c1c3cf626c65d0283f7e63ade9be0c3ed32
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 27 18:17:00 2017 +0100

    Improve shadertool
    
    Small tweaks to allow me to test speed, correctness and thread-safety.

commit 45ff02f0e995888d51ccd44cc0263a5e2f9fc1a9
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jun 23 17:16:40 2017 +0100

    Remove repositories in third_party/khronos
    
    We have switched to git submodules for them a while ago.
    
    I have kept the original copies around just in case, however,
    nothing went wrong with the switch, so let's delete them now.

commit 6b6cf46f94027daa5e785628724d8ff31d1bfa7d
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 3 15:12:24 2017 +0100

    Don't hold on to contexts as struct fields.
    
    Context should closely match the function flow - by storing them you're likely to hold onto stale logging and cancellation state.

commit 3a975218370a1f35a881c41abaa2fcd2518bdc3e
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 3 12:00:16 2017 +0100

    Move constructor functions to CommandBuilder
    
    This CL should have no side-effects, as it creates an empty CommandBuilder struct that holds all the same constructor functions.
    
    This is in preparation of adding threads to each atom and killing the core package.

commit 0d7b32a8857de4723199ab2439ad2b132bf5cb55
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 3 20:01:09 2017 +0100

    gapis/replay/executor: Optimize the gapir <-> gapis io.
    
    Buffer the reader / writer to avoid syscall frequency.
    Interleave socket IO with database resolves.
    Reduces prefetching cost by 4x on certain captures.

commit aa7b41b83920d6e748309c801612e2b5fd898f2e
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 3 19:59:18 2017 +0100

    gapir: More prefetching debug messages

commit 80c82329c7f9145b780a7412a51bfe0be9c04f91
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 3 19:58:38 2017 +0100

    gapis/database: Make the Database methods public again.
    
    Let's you pre-get the database from the context for super-hot code.

commit 587e87d7d0e6086caf01394787321eb29360332f
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 3 19:57:15 2017 +0100

    core.log: Remove parameters for the normal log style.
    
    I conceed that this is just too damn verbose for default printing.

commit 0245242d48a971b242b3ce438149cfa91c3abe86
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 3 19:55:59 2017 +0100

    core/data/binary: Make binary.Reader implement io.Reader

commit ca9f5906ae4dde2a5f4f8b31661755bff695ccaa
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jul 3 14:38:26 2017 +0100

    gapii: Remove legacy deqp code.
    
    deqp will be used for testing, but not this way.

commit 5a51650ea7098388717528bb53eec0dbaa0dbd3e
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jun 30 23:14:04 2017 -0400

    Add support for some Vulkan API commands (#674)

commit c02fadfbea9ef83f3a24fbb90df122f21609c008
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jun 29 17:13:24 2017 +0100

    Record thread name on context creation

commit fc8f4472150f46baaead3bd68549bff57f805d49
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 30 10:26:18 2017 +0100

    Add doc about the current proto-pack format.

commit ffee8e8c8ef2b02cc96445de1c48f8462bffe2f2
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 29 18:00:19 2017 +0100

    Kokoro mac: Update path to CMake executable.
    
    Hopefully fixes the mac buildbot.

commit 3404a0e4d32cc446b7d340c9ba3df6dc5f4386c5
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 29 09:25:06 2017 +0100

    gapic: Fix exception thrown on shutdown.
    
    Fixes: #661

commit 23037821d313e7eed8010fcba576c6754ef6b88c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 29 16:20:22 2017 +0100

    Fix missing return from previous CL.

commit c17238ce5e7e810a0a9182981d185c61e1af5096
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Thu Jun 29 14:56:53 2017 +0100

    deviceinfo: Fix character encoding for GetComputerName.
    
    Should be UTF8.
    
    Fixes: #651

commit 6b614549a5d36f0454509ec0fb222a2778857b18
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jun 29 13:30:45 2017 +0100

    Find issues: Do not propagate invalid commands
    
    Invalid commands are not allowed to enter the compatibility layer.
    
    Report an issues for invalid command, but do not process it further.

commit 12401557c54e1fcfa6fc5e4cb3000cd6499e4799
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jun 29 11:43:05 2017 -0400

    2 fixes for vulkan replay.
    
    1) We still had bad indexing of replay functions
    2) There was a bug when trying to get certain framebuffers related
       to subindices.

commit 4c89b9c31467e3eb583d525f5ed39c6953cbfc5d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 29 15:58:05 2017 +0100

    gles textures: Fix 'uninitialized' texture error.
    
    These usually weren't actually uninitialized, but compressed formats.
    
    Kill getImageFormatOrPanic.
    
    Fixes: #567

commit cd213d9e957e82925c65cf951ff48d13d15725a7
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 29 15:59:16 2017 +0100

    database: Truncate debug messages if they're crazy long.

commit 013dd1cf693714b3dc44f8ef8fb0b8eded01ad46
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jun 28 23:00:17 2017 +0100

    Add support for EGL_GL_TEXTURE_2D kind of EGLImage
    
    This creates EGLImage from existing GL texture.
    
    (In contrast with EGL_NATIVE_BUFFER_ANDROID which
    creates several GL textures from non-GL buffer)

commit 07b2447f12370d09c66d52f73e55a26235964382
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jun 29 12:09:15 2017 +0100

    Add two missing draw calls
    
    To stop API verification complaining

commit 02a6961a6c88e37fc689949ef2269903fa758c95
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jun 29 12:39:51 2017 +0100

    Add @Clear flag

commit b28865d1de470374547422b7a6988288c3089129
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 29 10:07:09 2017 +0100

    PackageInfoService: Handle Resources.NotFoundException
    
    Fixes: #646

commit 1cf09f2705ec677f63c579d83b23aba95dca5c7c
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 28 19:18:02 2017 +0100

    gapii: Silence warnings about re-entrant eglGetError
    
    Can really affect tracing performance.

commit 69ae2f17b5e64df859e4beefe22caadd9dfe3e46
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 28 19:07:26 2017 +0100

    gapil: Use sorted function list when installing interceptor.
    
    Makes navigating logcat messages much easier.

commit fc2bd6671bccff43220c9f0602c54a15e9364c66
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 28 19:06:34 2017 +0100

    gapii: Don't expose functions that aren't exposed by the driver.

commit 1e0703a741321c3aa277845a3e124fd12e623ed2
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 28 19:04:05 2017 +0100

    gles.api: Add EGL extension functions used by GVR.
    
    Fixes: #653

commit 071373ed8ab208de4f71f585fd750106d548c0c1
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Jun 28 13:23:20 2017 -0700

    Respond to pull request feedback.
    
    Fixed some comments, spelling errors, and performed small refactors.

commit f1c136d842a3ae62195889485ca3864d78120751
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Jun 26 17:44:39 2017 -0700

    Fix half-reverted change.
    
    Reverts an incorrect new and adds the dereference needed in artifact. Change was half-reverted and didn't catch it.

commit da632c3473c760e0759a4833dfe2ad097157df82
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Jun 26 15:13:46 2017 -0700

    Small fixes during robot cleanup.
    
    Removed a semicolon via gofmt.
    
    Added an error case that was unhandled previously.

commit cae1b01e798144a8570b9680451275dd607cce71
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Mon Jun 26 14:49:24 2017 -0700

    Fix file mode for zipped tools, Android abi list.
    
    Zipped tools were losing their execution bits because the created file in the zip writer was defaulting to read-write
    but no execute permissions. Creating the file with a file header fixes this.
    
    Android ABIs were being tested just based on architecture, which cause binlayout packages to fail since they need the
    abi name to find the directory. Now we list the supported device ABIs directly (though this should be moved to a better
    place still).

commit f6e5bace4cc6ad05a20dc996c133c3be89db2191
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Jun 14 18:14:31 2017 +0100

    Robot: Change ToolSet, add build based artifacts.
    
    The decision was made to tie android tools directly to the host that built them within an artifact. This allows Kokoro to simply upload an artifact at the end of each host's build step. Another potential problem this solves is when a bundle
    may have failing android tools that had never been tested because merging logic caused the master to ignore them.
    
    Now a toolset is a collection of a single abi and hosttoolset from the build device and an androidtoolsets for each
    android ABI that the build device created. Now when searching for a target androidtoolset when tracing, a host abi must
    be given at the very least.

commit 5ef52294571c1e9ec647b2ea640424619ca31ad9
Author: Nicholas Baldwin <baldwinn@google.com>
Date:   Wed Jun 14 18:04:35 2017 +0100

    Robot: Adds packaging of build files to do upload.
    
    Implements an auto packager for the upload verb for robot. First we look to see if the package file
    already exists, if not we create a zip file, populate it with the build artifacts in the directory
    structure expected by test/robot/build/artifact.go (TODO(baldwinn): currently hardcoded, either
    expose artifacts desired layout as a FileLayout, or make it use the FileLayouts defined in
    core/app/layout/layout.go).
    
    FileLayouts from core/app/layout/pkgdata.go are used to find the files to be packaged, and a method
    to retrieve the path to gapis was added.
    
    Changed upload to respond to errors from uploader.prepare().
    
    This also adds .dylib handling to the layout package so it naturally works on darwin (though not
    entirely necessary, this makes more sense than adding special code to change the path in the robot
    command to .dylib on OS X as a side effect of [this bug](https://github.com/google/gapid/issues/570).
    Fixes not passing through ctx on layout.Gapis().

commit 418bc47f9c74e3d35bbdcb267a11b6c8c839c0c0
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 28 20:26:37 2017 +0100

    gapir: Fix for synthetic function index collision.
    
    Only allocate function indices downwards from 0xffff if the function is @synthetic.
    Namespace the synthetics by API.

commit 9f6e947600a8db50fad4c177e6de99d34e4e3622
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jun 28 12:37:56 2017 -0400

    Responded to review comments.
    
    Mostly renaming and adding godocs.

commit ccc896de0b639aea523a487aaf7b38b967a1ca99
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Jun 27 09:32:24 2017 -0400

    Added the ability to get the state tree at a subcommand index.

commit 8030414965a112dbcd2cf2f19f31e01a486a9afc
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jun 28 14:39:48 2017 +0100

    Make 'min' helper generic

commit 08df5e55ffc920fa79104556406b25c895082d53
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jun 28 15:06:31 2017 +0100

    Fix client side index buffer compat
    
    I accidentally broke it in the multiview commit

commit 22f90623a41c4b7a165c5f2de8d54b4bcf87f296
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 28 11:39:39 2017 +0100

    gapil: Fix panics due to broken error messages.

commit cd5e1df146170b5d223329f4421abce7d0bb9866
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 27 13:04:08 2017 -0400

    Fix build failure caused by undefined AtomBehaviour (#649)

commit 2d87d04caadbae56283738aeacf210dba9a04017
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 27 10:24:43 2017 -0400

    Vulkan:Observation for vkGetRenderAreaGranularity (#644)

commit 6d90c9607182555fbe72297d2b4c1e4ff511de98
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 27 10:22:53 2017 -0400

    Vulkan:MEC support for vkCmdWriteTimestamp (#643)

commit 39e32ea970361b2e3d9b058e4b5eff7cd2a3037d
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 27 10:21:04 2017 -0400

    Vulkan: Fix a bug in reset query pool (#642)

commit 39062f2a7911168ae325c4dc1aa6df29f9696218
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 27 10:20:47 2017 -0400

    Vulkan: API logic for vkResetCommandPool (#638)
    
    Also update the vulkan/README.md

commit 1faad0c23095bc7d71e1a5234b56bda0c4047326
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 27 10:17:19 2017 -0400

    Vulkan: MEC support for vkCmdSetStencilCompareMask|WriteMask|Reference (#634)

commit 9860c19bd8cc8209c5b91490a71e027c0f59df06
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 27 10:04:57 2017 -0400

    Vulkan: API logic for vkCmdSetDepthBounds (#639)

commit a049f3b81ffbb3ad36d5c3226e1aa98a910f7c61
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jun 26 15:06:19 2017 -0400

    Merge the dead code elimination and dependency graph code for gles and vulkan (#555)

commit 9d91306ac441b7bc5c2f04a3d80ad1cdd9fa9824
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jun 22 09:59:13 2017 -0400

    Added heartbeat to keep gapis alive.

commit 1cd745d5a851d9d2f98d179a6b7dac71b9985052
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Jun 21 14:53:16 2017 -0400

    Added idle-timeout to gapit<->gapis interactions.
    
    This prevents gapis from orphaning itself.

commit bb5b58df22e7ee6ab52173ddcb27638ab10bcc21
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jun 15 10:59:08 2017 -0400

    Added synchronization analysis for Vulkan Events.
    
    This allows us to click on any atom in the tree without worries that it
    may deadlock the system.

commit 8a91eb9939858c5ee210eb5334b35e0cd6116327
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jun 15 11:52:33 2017 -0400

    Fix for dependency graph.
    
    We were not handling VkGetBufferMemoryMemoryRequirements.

commit 72d783b9559bdc3f6097a1db68dc99f83b6df7ba
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Jun 15 10:51:58 2017 -0400

    Allow gapit video to output individual commands.
    
    This is in contrast to replaying only at a frame level.

commit 6601f870a2bfa62f5683dda4972a292898236702
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 20 00:16:48 2017 +0100

    Implement shared exponent stream format
    
    Fixes: #620

commit a2c33935f8dd9c2da5ad0631122087cecf520d02
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 20 16:21:06 2017 +0100

    gles: More hacks to handle Unity's interpretation of user markers
    
    Fixes: #459

commit 7b18c1632a96c46e249494af18dea3f7e29c34a2
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 19 19:37:45 2017 +0100

    Initialized Versions and Extensions
    
    Closes #609
    Closes #564

commit ce4a0695c3242c5756c890782e34c6233f43c84d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 20 12:10:10 2017 +0100

    Attempt to fix flakey mac build

commit 6a5db24ffbd21a8af0e129e86814aa2d03e76ac8
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 19 15:34:43 2017 +0100

    gapic: Re-architect the OpenGL rendering.
    
    Add Renderer class that manages the GL objects and context.
    It also has a number of methods to simplify 2D drawing.
    
    Abstract the GL objects further. They now contain more of their state,
    without requiring explict binding to use.
    
    Use new Scene model to separate rendering logic from data. If we move
    back to a threaded renderer, this cleanly separates data that could
    cause race issues.
    
    ImageViewer now has sticky zoom-to-fit and zoom settings. Lets you zoom
    in to an area and change commands.

commit 5f1982e558186dd584e22bb1435dfc4f6ec490e6
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 19 15:15:42 2017 +0100

    gapic: Add more functions to MatD and VecD.

commit e77d0719cfd09ef551da08575dcbaf41ad23d1d2
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 19 15:14:58 2017 +0100

    gapic: Add flag to disable gapis timeout logic.
    
    Helps with debugging.

commit 3eda77ad92103f937438295a26eeea8154e34757
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 19 22:35:04 2017 +0100

    Naive multiview implementation
    
    Invoke each draw call once per each eye,
    and rebind framebuffer before each draw.

commit a06ea66958f343a9374390c500e3577a6e7df9ad
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 19 17:49:32 2017 +0100

    Add dependencies for glCopyImageSubData

commit 8950ad9fa2271d19b0d5829ad6c67d919f626bc8
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 19 13:03:23 2017 +0100

    Use shared contexts for EGL images
    
    Closes #486

commit 0d0fdaadf736ab7f723101c06a59e4c58639a40f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 19 04:41:01 2017 -0700

    gapic: Cleanup paths utilities.

commit 7db21bb46fb99abdeb7a47534187941b401aed63
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 19 04:33:21 2017 -0700

    gapic: Remove a done todo and remove the "do not submit" of another.

commit f3cd3cc80a8b924273ddcee6bf6efe205cb03d5c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 19 04:32:02 2017 -0700

    gapic: Implement path toString.

commit 0c57a0f336c1e0bea96d0c38bfee2015301f185f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 19 03:22:40 2017 -0700

    Parent path.Events to path.Capture from path.Commands.

commit e424b3bc1b4e22010860580f439102b4648662c2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 09:30:22 2017 -0700

    gapic: Delete some unused paths stuff.

commit a26c93a9cdf3aa7f9582d504cf920ab3c25e3f85
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 09:25:34 2017 -0700

    gapic: Implement Follower.Prefetcher's cancel.

commit 6af30c4bb2765c9a6f40791aa1ae9822356f77ac
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 09:19:52 2017 -0700

    gapic: Remove commented-out pre-proto code.

commit 65bf48b73dab4b63dc7c9e773e72887e48665fcd
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 09:06:17 2017 -0700

    gapic: Documenation for the atom index.

commit 1ca2657588d3cc00303370bc5cde62c5dc6be255
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 09:00:37 2017 -0700

    gapic: No more getBox().getPod().getUint8Array().toByteArray().

commit 28845c6d01a8811db1e3fa97f530715c992cc553
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 08:50:22 2017 -0700

    gapic: Texture goto menu now loads and shows the commands.

commit 920c0a8158ee02ae06af3fdc627d12a185a5b6da
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 08:18:20 2017 -0700

    gapic: "goto command" not "goto api call".

commit 4d24ae5fa8b7e3cb9f78a8cdfdcfdf504e9710a4
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jun 16 17:47:17 2017 +0100

    Make clone of ProgramInfo extra as well

commit 05bba8122bfe505e4a7a8b932c204005010e6c37
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jun 15 17:25:31 2017 +0100

    Remap uniform buffer blocks

commit acd69ca85cd7eff7318d91ead77e6f82df37fa0c
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jun 15 17:03:40 2017 +0100

    Collect more uniform information at trace time

commit c282146b5bcbf60447a47524ceadbd15c5137cd8
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jun 14 14:33:35 2017 +0100

    Remove target enum check in getFramebufferAttachmentInfo
    
    It does not server any purpose, the state should be consistent

commit 849bcea847cae38cb69b13bfcaca93f25a345d2f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jun 1 13:02:05 2017 +0100

    Implement glFramebufferTextureMultiviewOVR

commit 00a6138e0444dad65e60c07c682b11b39ee801bc
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 06:20:40 2017 -0700

    gapic: State "view details" popup should load actual value.
    
    Fixes #422

commit 1f6fefa5c517a147d8bef83cb4d7e3c9eab38e2e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 04:44:24 2017 -0700

    gapic: Rename src/service to src/generated.

commit 7324421cc00d6106759a5d0f2978c7de6edfd035
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 16 04:10:30 2017 -0700

    Version fixes for cmake and a version flag for the client.

commit 3334873123c93391a4c52e85cfadcd8addf9555b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 15 09:42:07 2017 -0700

    gapic: No more rpclib.

commit 5c9a13fca156daee84e7467fcdce87cc070c5ea5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 15 09:41:41 2017 -0700

    gapic: Delete outdated build and run scripts.

commit abc8e019dd6edd8841b7494f42f4d72f6112b069
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 15 09:38:36 2017 -0700

    gapic: SingleInFlight that cancels futures early enough.
    
    This new implementation cancels futures in the SingleInFlight controller,
    before the new future is created.

commit 8a568470d4be0e24ab4593c64cd5de6114766bb7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 15 04:19:36 2017 -0700

    gapic: Move some stuff into a new rpc package.

commit 58a05008f48bd391bebd15571ffd8e3f2c7c3cd6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 15 03:27:51 2017 -0700

    gapic: Don't trigger the search twice on enter.

commit 4b451b5cb1836ef6276bb648a220bef4dc9673d8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 14 07:17:23 2017 -0700

    gapic: Workaround late cancelation in SingleInFlight.
    
    By the time SingleInFlight cancels the previous future, it is too late
    and so both the old and new futures are actually cancelled. The "single
    in flight" logic needs to happen before the futures are created, so the
    second future is created only after the first is cancelled. This needs
    some extra work and will happen soon(ish). For now, just work around the
    issue, which was uncovered due to the "double searching".

commit 077117938482b816ce0a59c3d7a12eb8f022fb49
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 14 05:38:09 2017 -0700

    gapic: Remove the deferred image loading.
    
    It's not required anymore, since we're tracking the visibility in the
    tree now.

commit 9dbcfff607f6b630d91128c012ac6fb2c40f90f2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 13 12:08:27 2017 -0700

    gapic: Atom tree model writes need to be on UI thread.

commit 85cbe9470aba4168d242a6de9d2d4ec1f8f41cb2
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 14 14:51:51 2017 -0400

    MemoryTracker: Dirty pages should always be writable (#597)
    
    But in practice, dirty pages may not be writable. E.g. One page is added
    to tracking ranges twice with two ranges that shares a common page, but
    not overlapping. The later added range will mark the shared page as
    read-only, even though the page has already been marked as dirty before.

commit 919748896dbe0cbe232888a0f60c806e5ef5aa1d
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 14 10:22:42 2017 +0100

    gles.api: Hack PushDebugGroup to work around Unity bug.
    
    Fixes: #459

commit 49bdcd18ac95a013f046bf2d7891800c688597e3
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 14 10:29:14 2017 +0100

    Fix another panic in langsvr

commit 3fc2d3a9a759732a6384cb4d04b63a17b66ae715
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 14 10:45:58 2017 +0100

    do: Switch back to using append (review comment).

commit f16bf429efd45ef3678742480fb944c275dd8439
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 14 08:58:43 2017 +0100

    core/image: Fix panic when upscaling images.
    
    Fixes: #600

commit b38bbab291aa3bf6c4e426739ce265ff13b42c6c
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 14 08:31:51 2017 +0100

    core/data/binary: Don't panic in ConsumeBytes()
    
    The reader already holds the error state, this was just wrong.
    
    Fixes: #522

commit b7dd9ee912f9acb4e8aed456ab7d9e19369e6e09
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 14 08:28:53 2017 +0100

    gapis: Don't timeout if the machine is suspended.
    
    Fixes: #582
    Issue: #557

commit 827680b9f8cf59ffc1e2538f0b3e872c5de33bdb
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 14 08:14:40 2017 +0100

    gapis: Make the report super-low priority.
    
    Fixes: #562

commit 08da0215c51b019ccc312cce24e7ece99f9cdf41
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 20:54:17 2017 +0100

    core/cc/log.cc: Fix shadowed 'file' parameter.

commit 5ff0db40fa76ced09b7769721aa20892a8da499f
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 20:53:49 2017 +0100

    do: Fix duplicated gapic args on macOS.

commit 7d64446c953920ca45d54a84f12cbf976bfd7a44
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 20:06:43 2017 +0100

    gapit: Cache constant sets

commit f2826fd4be3333a02c482d8fe2840c9405da79e3
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 20:06:32 2017 +0100

    gapit: Add all the grouping flags to 'gapit commands'

commit cac4c6a53f42bc3dac7ebbb53a60f09853128443
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 17:20:31 2017 +0100

    gapic: Fix missing whitespaces in copied log message.
    
    Fixes: #584

commit 0ccbb2a8042bdfa092cce7318026e2bf2c2fa132
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 17:00:09 2017 +0100

    gapic: Move 'Tag' column to child.
    
    Fixes: #583

commit 4fc7bfa954d0628a2a4421bfa0e172dfe6810208
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 16:44:31 2017 +0100

    gapir/client: Don't filter gapir messages with gapis filtering
    
    Fixes: #588

commit d288f8fb60cb538ae0aa8f7051097c54aef2ae09
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 16:44:12 2017 +0100

    core/cc: Log to stdout *and* a file instead of one of the other.

commit abdce54f22203e0ae9fde5c781908359969b92d7
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 14:51:30 2017 +0100

    do: Fix opening a trace with ./do run gapic xxx.gfxtrace

commit 1d337455fac3af355685df916f17b4c3bc9b2534
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 13 07:19:08 2017 -0700

    gapic: Allow browsing when specifying the path to adb.

commit fbc3f23cdb4c7c29e91fc62cb16fb6501cd5c3a9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 13 06:17:00 2017 -0700

    gapic: Show a warning in the trace dialog if adb is missing.

commit dd0787c0a9eea7decb9cec779c5b71997be2cc86
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 13 05:59:00 2017 -0700

    gapic: Add a settings dialog.

commit cec47de508f55ac5dfe4688fef47b767b322bce6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 9 11:55:52 2017 -0700

    gapic: Store in and retrieve adb path from the settings.

commit a4d29cf0433191c89920a8eaf45a5a4bf0a8c017
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Jun 13 06:55:17 2017 -0700

    gapic: Handle non existing trace files seperately from empty ones.

commit 1ab54385707d5e701089137c0a564ac908800d2d
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 9 17:13:39 2017 +0100

    gapis/database: Add stacktrace information panics in Resolve().
    
    As Resolves() are executed on a separate go-routine, we only get the
    panic callstack up to the point the worker go-routine is created.
    
    With this CL, a panic will now display:
    * The stack trace of the call to database.Store() for the resolvable.
    * The resolvable's data.
    * The stack trace of the call(s) to database.Resolve().
    * All of the above for other resolvables that kicks sub-resolvables.
    
    Greatly helps diagnose issues.

commit 3478827b3b6b23896cddb2cff931b93a8d2d455a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 13 15:47:00 2017 +0100

    Update and run verify_gles_api

commit 8c029b91077759ec64512e4f5e175fdd6b010625
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 12 17:12:39 2017 +0100

    Move ctx.PixelStorage to ctx.Other
    
    Split it to two fields at the same time: Pack and Unpack

commit b11cbfe33da7641155e0058099f1c980b8e35513
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 12 17:02:45 2017 +0100

    Move some fields from ctx.* to ctx.Other.*
    
    I want to improve the signal/noise ration for the top-level fields.

commit 185ef83cd50f64a921b9528f804ba3391f1c4172
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 12 16:49:55 2017 +0100

    Move two fields from ctx.Miscellaneous to ctx.Vertex
    
    With the new VertexState in place, they fit there better.

commit 194c70e194fb3234a50f1965b7d13312082c4730
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 12 16:29:26 2017 +0100

    Move ctx.TextureUnits and ctx.ImageUnits to ctx.Objects
    
    I am not sure if they are strictly speaking objects since
    there is always fixed predefined number of them, and thus
    there are no API call to create or delete them.
    
    However, they seem follow some of the same patterns as
    the other objects.  I think it makes sense to store
    them with all other other ID->object maps.

commit 53af5d96b0f905cdfafa19d19249d52af76bda84
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 12 15:48:51 2017 +0100

    Rename ctx.Framebuffer to ctx.Pixel
    
    Merge the "whole-framebuffer" state into PixelState.
    This puts the two related state groups together.
    I have not found the distinction useful and I was
    never quite sure which state block to look into.

commit db13f5cae8d9767c4a51d5b81aaeab53033536bf
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 12 15:35:53 2017 +0100

    Rename ctx.VertexAttributes to ctx.Vertex.Attributes

commit 26c2f72d0043eee1413b68e0be09c53480d5110c
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 12 15:29:13 2017 +0100

    Rename ctx.FragmentOperations to ctx.Pixel

commit d1742c4cfd4e4ef2e14bd623d8d947189f24b21a
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 14:33:20 2017 +0100

    gapic: Rename logLevel to log-level
    
    Fixes: #587

commit 25323c67b01381724e7c17d0fd3cd10a45d4ecae
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 14:16:24 2017 +0100

    gapil/analysis: Fix flow analysis for select expressions
    
    Fixes: #589

commit 3b2064618fa1347b82b339ddcf0124c6e76b34b9
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Jun 13 10:04:01 2017 -0400

    Check if an attachment is VK_ATTACHMENT_UNUSED before changing the underlying image's layout (#575)

commit 41cb3d7193d639aa5a5a786e0399b9b0b7350030
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 13 10:51:19 2017 +0100

    Unify version codes throughout gapid exes.
    
    Fixes: #373

commit f60150e07739bdaa1875cebb0b2da24125a86714
Author: Nick Baldwin <baldwinn@baldwinn-macbookpro.roam.corp.google.com>
Date:   Mon Jun 12 18:01:45 2017 +0100

    Temporary fix for robot running replay from OS X.
    
    Bug https://github.com/google/gapid/issues/570 makes it impossible to build replays within robot on OS X since vulkan is not supported and we can't currently distiguish a device running vulkan in it's instance proto.

commit c40c9bcbdb1bd8ff0b54a42a4fcdc5fb7c9dec39
Author: Nick Baldwin <baldwinn@baldwinn-macbookpro.roam.corp.google.com>
Date:   Mon Jun 12 17:58:00 2017 +0100

    Changes a few err returns to proper form.
    
    Error returns should not return "valid" state along with the error object. This changes a few instances that were not following this rule to return nil or empty structs instead.

commit 72db2166a76efcdd5290f1a632b6da9933bb87ab
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 13 11:33:24 2017 +0100

    Handle attached null Image
    
    It seems that the spec allows attaching mip level
    before creating it in the first place.

commit e114d67cab9f1afc04a1b3e107d5da21fd6bee36
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 12 11:20:23 2017 +0100

    Add missing case in glGetFramebufferAttachmentParameteriv
    
    Fixes #546

commit 1d8842a1883b8630455535a335d924ed3018c62e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 12 08:00:56 2017 -0700

    gapic: Correctly handle textures with no data.
    
    Fixes #568

commit 0ff32fc6fc95566dc7bde0b05f1286e67fe76d56
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 12 12:57:33 2017 -0700

    gapic: Don't dispose the error icon.
    
    Fixes #543

commit 8625a5c0a7e18d963c661c7a00ebd5d9c9273b91
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 9 17:10:25 2017 +0100

    gfxapi.proto: Flesh out texture types
    
    Add definitions for Texture1D, Texture1DArray, Texture2DArray,
    Texture3D, CubemapArray.
    
    Not actually hooked up to anything yet...

commit aadce63ddfae7d043d878e3eb29c0d7256813a98
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 7 17:13:42 2017 +0100

    core/image: Add support for 1D and 3D textures
    
    Required rename of types to avoid proto name error.

commit 461b5ebc8b425e1e1739fb2ced168fe2472fbaec
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 12 09:37:19 2017 -0700

    gapic: Show color previews in uniform panel.

commit b478d06d100b71691278a450d1ed1046c962c4d4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 12 08:26:00 2017 -0700

    gapic: Full row and multiple row selection for uniforms.

commit 56b7c173324b0e74a963811fee0044bcca3e53b7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Jun 12 08:23:08 2017 -0700

    gapic: Snap the pixel preview to pixels/texels.
    
    Closes #563

commit 482d278b84eb61ce1bfb565fcdcd495c02ff9147
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jun 9 17:29:10 2017 +0100

    Rewrite ref-count tracking for programs and shaders

commit 2740685b3caae3c23602c870617c4c0e7d689275
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Jun 9 16:05:52 2017 +0100

    Track texture units by ID rather then enum

commit f7223c9f2961bd96931f8f0e7abe677a20887c8a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jun 8 21:54:41 2017 +0100

    Track generated GL objects names.
    
    glGen* just reserves an unique name.
    glBind* actually creates the object.

commit 3872dc9ff749958ef9001bf6e46eb8fb83addd2a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 6 20:17:41 2017 +0100

    Track bound GL objects by reference rather than by ID
    
    This simplifies the code and will help us track
    lifetime of objects correctly.

commit c9cfc6111c7845a89464b74fb3bd4ada8b78fc2d
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Jun 12 10:36:08 2017 -0400

    Vulkan:Postpone the messaging of framebuffer observation atom (#533)
    
    Gather the framebuffer observation atom data prior to the EndOfFrame atom:
    vkQueuePresentKHR, but do not encode and message the atom. The atom will
    be messaged after the vkQueuePresentKHR, so that on the replay side, let
    the read_framebuffer.go grab the image to be presented first, then we
    can compare the framebuffer images from trace and replay sides for the same
    vkQueuePresentKHR atom.

commit 06ed72d09bb10b8571f78b0367cc1934bc7b7de9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 8 09:16:57 2017 -0700

    gapic: Restore the expansion state in the state tree.
    
    Fixes #505

commit 9e4ddd1ba19ebe5d4cfad47597941ab1e434a37f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 8 09:15:43 2017 -0700

    gapic: State model writes need to be on UI thread.

commit da55cf3b7fd94402031a90c62a607c2d3c260a6f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 8 09:13:58 2017 -0700

    gapic: Fix name of Paths.stateAfter.

commit 2ea7dd32810eced7d67706e06666e1ea5057a7fa
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 8 09:10:54 2017 -0700

    gapic: Scheduling utility.

commit 882b7d2c8c65b4400c2b5f6360a2b69d170b01f8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 8 09:09:00 2017 -0700

    gapic: Remove errant print statement.

commit 9d049cde644dfc85a6c19542ffb79edd1fba22cb
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 9 11:14:53 2017 -0700

    gapic: When resizing the preview balloon, also recenter it.

commit 52fd55c8bfd1f7f55f5d69466f3f3af937d11b92
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 9 10:48:20 2017 -0700

    gapic: Scale small thumbnails and previews up.

commit 91020dfc9dced42fa6c87847414b32e1df3c5f22
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 9 10:33:28 2017 -0700

    gapic: Fix thumbnail load/unload issues.

commit e423933520c97e3794d06b0592ee0cf2dbdb049a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 7 09:13:40 2017 -0700

    gapic: Fix popup ballon focus issues.

commit 05371917c66e885712640732e68009dee2b70582
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 9 11:15:20 2017 -0700

    gapic: Actually register the adb flag.

commit 5004555b5e2c2926a95dd0c459316ae7b7cf150d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 9 07:45:20 2017 -0700

    gapic: Menu option to open log directory.

commit 8c2f7d538f22c601a1d35242402848cac65d507d
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Jun 9 12:23:52 2017 -0400

    Fix the function return type of GL debug callback function (#549)

commit c31c4be5a0cf9c1a30e3fa13136cd4282b19842c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 8 21:52:40 2017 +0100

    gapir: Add --wait-for-debugger flag.
    
    Does what it says.

commit 3f99305a5c98dafb85409d408f71205b91b04d14
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 9 03:37:51 2017 -0700

    kokoro: Define the build artifacts in the continuous jobs.

commit 727b88dc854dfaedb588d581dccca1edd5f4675b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 9 10:24:13 2017 +0100

    core/event/task: Fix flakey test 'TestEvents'
    
    TryWait() for 0 duration will result in undefined  results.

commit d4945042b437ed96385c50cdba83f939693ea620
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Jun 8 20:46:34 2017 -0400

    Add StartOfFrame annotation (#532)
    
    * Add BeginOfFrame annotation
    
    The new BeginOfFrame is exactly the same as the original EndOfFrame
    annotation (as shown in resolve/events.go)
    For GLES, atoms like eglSwapBuffer will be annotated with BeginOfFrame,
    as the framebuffer image should be read before mutating such atoms. This
    CL should not change any behavior on GLES side.
    
    For Vulkan, vkQueuePresentKHR will be annotated with the new EndOfFrame
    annotation. So when grabbing framebuffer images, vkQueuePresentKHR will
    be mutated (but not called on replay side), so the server will grab the
    image which is to be presented, not the image just rendered.
    
    * Rename BeginOfFrame to StartOfFrame, revert some incorrect changes.
    
    * Revert another touched java code

commit 7b30c7b39b8eb4805b837902d5a5144e8bff79e2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 8 12:17:32 2017 -0700

    Don't pass an empty string as the adb flag.
    
    A certain platform doesn't like it. Also, pass the adb path to
    gapit trace, while we're at it.
    
    Fixes #540

commit 03ca336637eb74406eecb18cc5997ff5b82dc7fd
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Jun 7 17:17:22 2017 +0100

    Move SharedObjects to field of Objects

commit a0f8e2a0ec165edba50c4775092bb181a202ca56
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 7 05:23:44 2017 -0700

    gapic: Add a flag for the adb location.

commit afa8644ecefde24ee725f6d119875975de3fd250
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 7 04:36:40 2017 -0700

    gapit: Add a flag for adb location for trace and packages.

commit caae3f6c2c647102b33c7922886d327442c46eef
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 7 04:05:22 2017 -0700

    gapis: Add a flag for adb location.

commit 377a154dde0e3179634995b04158e1cbcd1da45c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 7 08:48:03 2017 -0700

    gapic: Copy support for log view.
    
    Fixes #347

commit d94459c93901b05bf12f7553a467dcfcd91d0597
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Wed Jun 7 02:09:01 2017 -0700

    Change to go version 1.8.3
    
    Version 1.8 has issues on MacOS with Xcode 8.3.

commit 6a67f30ccce23ea305605afc8d5a10ad37f3918e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 7 07:42:09 2017 -0700

    gapic: Add support for Float16 to memory view.

commit 498b5aab38eaa0d70c483ab508cae1e7fc87491f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 7 10:10:53 2017 -0700

    gapic: Respect the atom selection on load.

commit 2d0a568b3d51617b5c2332df6dce65049ebc13a1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Jun 7 10:05:47 2017 -0700

    gapic: Ensure selection contains correct capture ID.
    
    When a capture is edited, the model maintains the selection state. The
    state, however, needs to be updated to reflect the path with the new
    capture ID.
    
    Fixes #454

commit 7cbd549edf9f2e8e1b2df7848e74f5a4da9cf09a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 7 15:24:09 2017 +0100

    gapic: Implement basic keyboard shortcuts for code editor
    
    Fixes: #386

commit cae6c84deb899fa638acc5ecaa30030cd0e9c1ac
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 7 10:39:36 2017 -0400

    Track the image layout transition in subpasses (#517)

commit d88825f50aad4b1d8e9d033d61123608b0c23e05
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Jun 7 10:39:19 2017 -0400

    Vulkan:vkGetEventStatus on replay side (#499)
    
    * Vulkan:vkGetEventStatus on replay side
    
    On replay side, the vkGetEventStatus can proceed only when the return
    code matches with the return code in trace
    
    * Avoid infinite loop on the replay side
    
    The traced return code of vkGetEventStatus might not be valid to block
    the replay side call to vkGetEventStatus.
    
    Only when the traced return code and the event state recorded in the
    mutation matches to each other, the traced return code can be used to
    block the replay.

commit 1f01e94389b96481445ae42ac6f10a0488a00693
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 20:36:11 2017 +0100

    Fix NPE panic in langsvr.

commit cc25166ba4b2f100e3bfc0e4e5c01ae80d1beafb
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 20:35:32 2017 +0100

    vk_spy_helpers: Fix compilation warning

commit 12725fac1c0fdc888c10da6a0809d1bf5b8e4464
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Jun 7 12:22:28 2017 +0100

    do: Search ${AndroidSDKRoot}/platform-tools as well as PATH for exes.
    
    Fixes #525

commit 7fb2e8d4fadcb25b30133881f28b7ac344bc8b3a
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 20:07:38 2017 +0100

    libinterceptor: Intercept functions using SUBri

commit 47876c2ebb5be177382f275d2285e2040ee804ce
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 20:07:11 2017 +0100

    CMake: Fix globbing of .cc files

commit 87f0ea6bd91ade7c0884c72ba7153eb55cae040d
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 20:33:16 2017 +0100

    gles.api: Change Program.Shader map from ShaderId to ref!Shader.
    
    Fixes #475

commit 4665ec8384840e68d1dd1beac81804f8e2b51857
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 21:49:01 2017 +0100

    Fix null slice crash in UpdateImageData

commit 241732fd4cdc4d5669162d86842eb6e7e8440f1b
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 21:39:57 2017 +0100

    gapii: Remove fancy assert logic that hides issues.

commit 51566369edd0c9752c27d17eb11ca179205fc5b7
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 15:13:48 2017 +0100

    gapic: start gapis with --idle-timeout and ping() at regular intervals.
    
    Fixes: #19

commit 4aa08d12c80ac035554c20292b8b9de546a6f76c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 14:15:53 2017 +0100

    gapis: Add --idle-timeout functionality.
    
    Closes gapis if there's no activity within the specified duration.
    
    Issue: #19

commit 8c9267826189467f62d8f80eb7796ff668eaf3bd
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 14:14:30 2017 +0100

    service.proto: Add Ping() RPC.
    
    Ping is a no-op function that returns immediately.
    It can be used to measure connection latency or to keep the
    process alive if started with the "idle-timeout" command line flag
    (coming soon).

commit b76a81e08a063d07d848f3de05d1457feb1834a5
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 14:02:37 2017 +0100

    cmd/robot: Further clean up port command parameters.

commit b520ceb6c2227387ae0276bec94a23fa48639718
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Jun 3 01:19:19 2017 +0100

    core/app.Verb: Make Flags field private.
    
    Use the power of Actions for everything.

commit 6e98f98470b872a319e01e20f5834d389104f749
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Jun 3 01:09:53 2017 +0100

    core/app.Verb: Kill Run field.
    
    Rename Auto to Action.

commit cbbcc93663c7fa8f4a7932913281f7d9948eefb0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 14:54:00 2017 +0100

    cmd: Move all the verbs over to 'Auto' form.
    
    The application flag system gained a cleaner way to represent verbs - this CL moves all the verbs to use this system so that global flags aren't aliased between multiple verbs.
    
    The benefit of this is that we can have different defaults for things like port numbers.

commit f853e9263290feb308b2cb25c24ef5fb699bcfec
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 21:02:53 2017 +0100

    Hook up bitfields to ConstantSets
    
    Fixes #382

commit 57f70e3ff4dc29b77db4388345b39bf6014f9089
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 11:23:31 2017 +0100

    cmd/gapis: Hook up gapir-args flag.
    
    Fixes #187

commit d1090831e6704daa05c89c6aedebaa8dc7218d62
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 11:22:27 2017 +0100

    core/text: Add SplitArgs() helper.
    
    Takes a string and splits it into sub-strings, for use as command line arguments.

commit dc704216b26dc59074aa3f785c7f9535ae0a8c57
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Jun 6 11:13:11 2017 +0100

    core/os/device/bind: Add support for device properites.
    
    These are key-value pairs that can be bound to device instance.
    This will be used to bind launch parameters to the host device.

commit f0f8a2534fb49a646622a573d2b62b05fc06748a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 2 15:44:40 2017 -0700

    Fix atom group selection tree path computation.
    
    - Make sure the path contains all nodes to the root.
    - When selecting a group, select the deepest group/node
      that is not the last child of its parent.
    
    Fixes #491

commit 9cf8c2aff5abaa57445abb831d2ef4aa97b14f26
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 19:40:36 2017 +0100

    gles.api: Fix all warnings

commit 1f4ec985eee8421c1d3be98f80db184ed5981195
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 6 17:53:24 2017 +0100

    Replace minRequiredVersion with @if
    
    The intention of @if is the same of as of #if. If the condition
    is not true, the semantics is as if the code block was deleted.
    
    This allows us to express more complex conditions which were not
    possible before (e.g. Version.GLES30 || Extension.GL_FEATURE).
    
    It also fixes the problem that checks were not possible in switch
    expressions, and resulted in incorrect error in switch statements.
    
    Extending this idea to fields will allow us to filter irrelevant
    data from the UI.

commit ae58c3fc5aa658f3a18c87758bc1538edd7bac9b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 6 15:50:58 2017 +0100

    Allow annotations on switch cases

commit f7034654b5f077169221f8a9568a5b28e63b660e
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 6 15:47:46 2017 +0100

    Make Version/Extension identifiers into global bool flags
    
    The idea is that we will be able to check those variables
    to determine if the given version/extension is available.

commit e0378695271db4406790403b295f02447052c334
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Jun 6 15:13:54 2017 +0100

    Fix one more buffer 0

commit facea1f235bbc6bedcf128e9fca1062d1d079090
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 18:04:14 2017 +0100

    test/robot/web/client: Fix NPE missing tools.

commit 66abb7563d64e4207562c3bb4129eb55086b7bea
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 18:03:56 2017 +0100

    test/robot/trace: Bump default duration to something useful.

commit e00c6438fbd8578c22774343972849898f030050
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 18:03:40 2017 +0100

    test/robot: Make the virtual swapchain a toolset.
    
    Required for host desktop replay.

commit be2e798d85d01e1789e551fe479388bb0e7813dd
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 18:02:41 2017 +0100

    core/app/layout: Handle sparse packages.
    
    robot will only extract the minimum set of files needed to perform a task. Assume binLayout if a sparse package is found.

commit ca0ae54ae968b42a4e636162742c83a32f41fc67
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Jun 5 15:30:35 2017 +0100

    test/robot: Start a README.md

commit 7b4adc2ef43d3275b2114106fd73e01b4c201f03
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 5 18:44:28 2017 +0100

    Make @Doc lower-case and make the API name an identifier
    
    Make it lower-case to be consistent with other annotations.
    
    Make the API name an identifier to check against typos

commit 1e02044b6cc62d8e732e7375e4feff004716e231
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Jun 5 18:27:32 2017 +0100

    Buffer 0 is not a valid buffer name

commit 2c8486e8e6082afb90a821333b35ebd9d929600f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed May 31 17:15:05 2017 +0100

    Copy texture data for 3D and array textures.
    
    Creates uber function to copy texture data.
    
    This also takes into account packing parameters.

commit 8551e8b1369e49d6a8b469fabff682856a5591e7
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 2 12:59:34 2017 -0700

    Clear LIB and LIBPATH in do.bat for a saner windows build.
    
    Closes #494

commit 0f736f50c5de89c53cebabb791534ee5b3100533
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Jun 2 12:51:34 2017 -0700

    Workaround a strange SWT/Windows bug.
    
    Closes #448

commit 3ea01af3d3fe88ad306b4cf5cbb993669de0adb6
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 21:15:19 2017 +0100

    gapis/capture.NewState: Return error instead of panicing.
    
    Don't be lazy with errors.
    
    If the context is cancelled, we don't want to crash gapis.

commit 8443b6348516e8871d433bbb2dffa868a092d386
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 21:13:29 2017 +0100

    cmd/gapit: Add stress-test verb.
    
    Spams poor GAPIS with numerious repeated state queries that are cancelled at random intervals.

commit 6cc4b0b1efe5082fa6a1b35db2b8b39c6f6b55ec
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 10:18:23 2017 +0100

    gles/find_issues.go: Don't use glsl package when UseGlslang is true.

commit 26df7acfd24754cb22bd9ae5f120e4187ba77442
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 10:17:44 2017 +0100

    extras.api: Delete unused DeviceInfo class.

commit eb395afdfb42ca93a503b071e5232f37a64fa4e3
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 10:17:06 2017 +0100

    Stop mutation if the context is cancelled.
    
    Also panic if decoding / encoding returns an error that isn't context cancellation - we should fix these.

commit 8c8625ae2bced480213e51161c084b31271bc06b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 10:14:56 2017 +0100

    gles: Use code/data/deep.Clone for forking immutable data.
    
    I don't think these guys were actually mutated, but the risk of difficult-to-find issues with these are terrifying.

commit 93e668865850e914f6b380b17f6128568a9dd986
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 09:43:05 2017 +0100

    core/data/deep: Add Clone()
    
    Creates a deep-copy of the parameter.

commit e905de3f251593826477f125583d8d6dd16f8b96
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 1 15:55:10 2017 -0700

    state_tree_test.go: remove flags and test both for each case.

commit cd32dcd7dce0b00150893d3f8183c71997259b26
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 1 15:42:34 2017 -0700

    Fix the state tree resolver tests.

commit 04a9f0a828d502f93f378e6ca08d7d99b256c52c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 1 15:07:19 2017 -0700

    Handle slice paths when looking for the state.

commit a0ba1bcba4f4b61db24aad1d76d0c0f60a12cf68
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 1 15:04:02 2017 -0700

    Use the slice path in the state tree for subgroups.

commit 35a165a1d789a4e27d0f9c72657b0834f83ec5a3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 1 13:56:07 2017 -0700

    Follow paths for state tree's subgroups.

commit 5504a599b11d9e0773f277eccac6fecbd2e7a0ab
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 1 11:39:21 2017 -0700

    Implement following in the state view.

commit c8abd67558e135a7a1c5c14e243d45ca64392ed5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 1 11:06:52 2017 -0700

    ObjectStore factory method, for less typing.

commit 43c7cce0fb3dee1bce778e0d6c3bc2af806c97da
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 1 11:05:23 2017 -0700

    Implement following from command tree to state.

commit fed55ec2c81297f4f3eed44fa10d6b728351b244
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 31 15:10:25 2017 -0700

    links.go: Remove incorrect uint64 casts.

commit ef0c60f922d7dd9ca31164ea62478baf08792563
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 13:35:11 2017 +0100

    cmd/robot: Return error instead of crashing

commit 2e904424cc3581fa18be7b12cf3239e42739dcf5
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 12:06:28 2017 +0100

    Move core/text/lingo -> test/robot/lingo.

commit cfde04afa4d6f4c384412b669d1aa85f608c9b02
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Jun 2 12:03:20 2017 +0100

    Move packages from core/data -> test/robot.
    
    The general rule for core is that it is code used by multiple components. This CL moves those packages only used by robot from code/data to test/robot.

commit be70ea308cf2e964eb45d8121e1c70366e6d4763
Author: Keith Mok <ek9852@gmail.com>
Date:   Thu Jun 1 09:41:19 2017 -0700

    gles/compat: Drop debug message for replay

commit 0d4266d08a74100bad2aa7a975cb3fe824000f51
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Jun 1 14:03:06 2017 -0700

    Remove the edit error work around, now that it's fixed.

commit eb451358ed7503ba7499353602a761b87f96170e
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 1 00:55:08 2017 +0100

    gapis/memory.Pointer kill now redundant Set()
    
    Use data.Assignable interface instead.

commit 2e99bdc97a86f772549c58b87dec6a2e281bfdff
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 1 00:41:03 2017 +0100

    Make all pointer types implement data.Assignable.

commit 3c9a30b5c326db62e3f2ca77ae5c08684aa36589
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 1 00:40:40 2017 +0100

    gapis/atom/test: Add custom Pointer type.
    
    Much like the api.go.tmpl produces - these will fail assignment unless they implement the new Assignable interface.

commit db708ef48f2291f14e85d35871ded54429f27445
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 1 00:20:23 2017 +0100

    Add code/data.Assignable interface.
    
    Used for copying hidden fields.
    Add support for data.Assignable to deep.Copy.

commit 5799911fdd5dd9fb0a03b606a0b45f07da6e755a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 23:59:29 2017 +0100

    core/data/deep: Don't attempt to copy unexported fields

commit 73bea5eaf4b8acb3c4e2fbbb8f0faa463d9b126a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 23:35:41 2017 +0100

    Add gapis/atom/service_test.go.

commit 70d710b513e56101c823e8bf23bb6cf205357fa7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 23:21:18 2017 +0100

    Move atom test structures to gapis/atom/test

commit 9d69b5af27f4e4180636a9871373739b446be50a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 22:43:15 2017 +0100

    get_set_test.go: Add tests for Pointers.

commit 2e33d5b4ff514ee8c10eea3720d6b119d053b1c7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 21:32:12 2017 +0100

    get_set_test.go: Remove codergen cruft.

commit ca50f59641c8e118818130ca724c54c6a23cc154
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 21:31:26 2017 +0100

    get_set_test.go: Rename Ptr to Ref
    
    Keeps consitency with the API and Box naming conventions.

commit c17be5c1bb232443d396ed016041d7c1ab179fe2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 31 11:39:34 2017 -0700

    Cause gapis edit error.

commit ee2a79ca4d87cd2788cca491144835aa21f37157
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Jun 1 15:34:33 2017 -0400

    Vulkan:Remove the Size field from the image object (#489)
    
    Add inferImageSize and inferImageLevelSize subroutines, which can be
    called to calculate the image size

commit 2b410534f9f1dc04074d16f38cc62f48500fe5e4
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Jun 1 11:20:09 2017 +0100

    Convert the format of EGLImage
    
    The format is used create replacement texture in compat,
    which needs to have correct format for glCopyImageSubData.

commit 9868c65d433a0633b7f6564819a3f2a82a9a3960
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 1 10:52:49 2017 +0100

    Add line numbers to source dumps.

commit 9f06f8628e392fe57468914d1f21c687acbf9a05
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Jun 1 09:57:40 2017 +0100

    Fix "panic: *gfxapi.Texture_Cubemap is not a Texture type"
    
    Panic introduced by b03855a

commit b03855a46c10454a381cf5c3afaaee8236ecc086
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 30 17:16:17 2017 +0100

    Clean up resource.proto
    
    Implement the changes as proposed by #237.
    
    Fixes: #237

commit b71b82e8d8482a351867c8b31e259ace344ab390
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 21:12:44 2017 +0100

    Temporary fix for #474.
    
    Proper solution suggested in #475.

commit 61bdc343194f88249f1c339b0bc3afbab775574d
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 18:24:09 2017 +0100

    Don't create nameless marker groups.
    
    Issue: #459

commit d8960c8d034ea2f430b18d18701450b9cff4e012
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 18:23:26 2017 +0100

    gles/compat: Drop all markers for replay
    
    Issue: #459

commit 0d665517597c02f770a2713c8c3a324347a86b30
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 17:24:04 2017 +0100

    gapis/resolve: Add StateTreeNodeForPath.
    
    Fixes #370

commit 11121ec0b964e87ee814646478249b414b915b09
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 16:04:01 2017 +0100

    gapic: Use explicitly-sized data type name is memory view.
    
    Fixes #461

commit d2ba769c6bb4ab5bc16eea697daced3f350e83a3
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed May 31 17:04:52 2017 +0100

    Remap arguments of glCopyImageSubData

commit d40a2e48a033727ffeaa3b03dae56bfcdec7fb50
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 15:50:06 2017 +0100

    GAPIR/GAPII: Use the same GL context search order for linux.
    
    Fixes: #208
    Change-Id: Ia2046e7c9692a982311cdd44706d27fcfe7ec5b6

commit 9ce5e65fa5d63c54046f52481a1c98cd0186b1bd
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed May 31 11:45:38 2017 -0400

    Vulkan DCE:Handle vkGetImageMemoryMemoryRequiment and barriers (#469)
    
    This fixes the issue #460

commit 0497634e3f10aeb960c8386f1026d8b432685665
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon May 29 13:42:48 2017 -0400

    Capture/Replay the actual presentation images.
    
    We had been getting the framebuffer attachments for the most recent draw
    call rather than the presented image. This switches that logic.

commit fc4dc3b00f53470a0294de174eb00fd764b9e02a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 15:06:18 2017 +0100

    api.go.tmpl: Remove min() for u64.Min
    
    Change-Id: I9f8bb1323436351a5eecdd400aebc9b8916d0d6c

commit 9dcbcac828c40176737de6872629e423b5d73526
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 14:08:04 2017 +0100

    u64.go: Kill AlignToNextAndReturnLargestAlignment
    
    Change-Id: I6bc0d627dee836057ca6e4aba07ab3a54be99b58

commit 30a6d1cd5f03a586c5127b61a772bf36af1923ca
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 14:07:24 2017 +0100

    api.go.tmpl: tidy up "ReadStructFieldsWithRemapping" codegen
    
    Change-Id: I18028569f85b8f5f955a1421f006e116b83c9dc1

commit 1335051644c9e74a73d3022ae78f2b9afd2a0c07
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 13:59:30 2017 +0100

    templates: Clean up "Go.Decode" macro.
    
    Make it return a value instead of storing into a variable.
    Merge in "Go.DecodePOD".
    Kill unusued types.
    Kill "Go.Encode".
    
    Change-Id: I1a0b9c241ba77f9ecca10e0a1c51e044576623f2

commit 0e4c45f1c6bdaae6394f986c04edac547fa583aa
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 13:25:02 2017 +0100

    gapis: Replace custom alignment code with memory.Decoder
    
    Change-Id: Iba67dee2a568da3185b7cc9ce1e9a3f463725562

commit 1bf08dcb86d12701ba07f56ac2c9b6451f81090a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 12:51:27 2017 +0100

    gapis: Move to memory.[En,De]coder.
    
    First step in removing duplicated alignment logic.
    
    Change-Id: I6b59b976bb1264436d011df40bba0a06882acb39

commit a97ce37f949ee2dc5bb4d1a864da10f2182e6dc4
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed May 31 11:13:39 2017 -0400

    Vulkan:Missing pieces of VkEvent Support (#443)
    
    * MEC support of VkEvent
    * Add read observation for buffers used in descriptors via buffer view
    * Add vkCmdSet/ResetEvent and vkCmdWaitEvents in dependency graph

commit cd67a0cc38c5947f5d1be656784413c1d3336931
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed May 31 14:56:12 2017 +0100

    Simple compat for glFramebufferTextureMultiviewOVR
    
    For the time being this just renders the first eye

commit c787cb4a713c949b53c4aa937a38ee27a699a0b6
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed May 31 14:54:43 2017 +0100

    Trim new-lines in messages from the driver.
    
    This removes bunch of empty messages from the logging system.

commit a1aacb831079c8d5e56bf775b2b095dcaae1594b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed May 31 13:33:36 2017 +0100

    Ignore eglCreateNativeClientBufferANDROID in compat

commit d2bc59baa01cb3e5266a3feaddd6546ac685aebd
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 11:44:16 2017 +0100

    gapir/cc: Keep GAPID_XXX log messages on a single line.
    
    Splitting them across lines doesn't work well with the GAPIS log parser. Eventually we'll use a decent logging protocol like the one exposed by GAPIS, but until then we have to deal with string parsing.
    
    Change-Id: I51d54d59c47636b0ff90895c9437cc2ce1acb54c

commit 9a8b7fe4a068da6a3e8421d5458f800953b6f297
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 11:43:09 2017 +0100

    gapir/cc: Display invalid addresses in hex.
    
    It's not immediately clear that  195948557 == 0xbadf00d
    
    Change-Id: I532d6bcfe5f67068d3571181e91ed73f03f034a3

commit 2de39e273d0ef88d31037434ef6a9a947ea64eec
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 11:40:11 2017 +0100

    gapis/replay: Fix for unobserved pointers referenced by other pointers.
    
    Fixes #458, but I'm not sure why this was not an issue before. AFAICT, this logic was always broken.
    
    Change-Id: Ifa58d4bde5ebff7b1a2445c699ea800961335eb8

commit 2d9574b39332412328a05e1094dbc21231cb509b
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue May 30 16:11:49 2017 +0100

    Allow GL_TEXTURE_EXTERNAL_OES in glTexParameter

commit c310c2e7821093cb9cb74fcc0d5c4c97f61ea68c
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue May 23 11:57:08 2017 +0100

    Implement all texture specification commands (3D, array, etc)
    
    Create uber function to handle all of them as they are very
    similar as differ only in dimensionality and source of data.
    
    The uber function tracks image creation and state, but we
    are still pretty bad at correctly tracking image content.

commit 6f93242f4b8628ed4e76dc0992aafa67eaf9fa14
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed May 17 19:03:44 2017 +0100

    Add GLSL support for GL_OVR_multiview2

commit 29123ff4685dedc05762a812bcc5fb2464cf19da
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed May 17 18:27:42 2017 +0100

    Reduce driver log messages back to debug level

commit 9217082b157b3616c5d1d94be6bab9d82324d56b
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 31 11:48:44 2017 +0100

    gapis/resolve: Don't crash getting the state of a cmd with no API.
    
    Change-Id: Ia8a1e8d37a0ef6d949f70af87ec6e40247a5e356

commit d8ec514ab2f39d9f085a046c3e04c040d5d74c99
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 30 17:37:30 2017 +0100

    Drop severity of some very frequent log messages

commit 560120f761c907a86a930b092aed512a26622805
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 30 17:21:02 2017 +0100

    gapis/server: Push the log stack on each RPC.

commit 94323e437388e80e2a6248475183d144d6ba4ef9
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 30 17:20:31 2017 +0100

    Add custom grpc logger
    
    gRPC can cause GAPIS to exit if a proto message fails to marshal.
    By implementing a custom logger, we avoid aborts, and log the error to the client via the GetLogStream RPC.

commit 2c0a77bfcea42dc2c78d583646765d7407b14bc9
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 25 17:17:42 2017 -0700

    Remove usage of GapisInitException outside of server package.

commit 39843336599c8be89701f4c1886c5f18a2f8cd49
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 25 16:33:26 2017 -0700

    Soft error support in loadable.

commit 6cfa962281a0b4d21977f853020620863ed052cc
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 25 14:10:34 2017 -0700

    Handle soft errors for image previews.

commit 02515736c1709223cc9d9e02aaf579a465562a0a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 25 14:10:34 2017 -0700

    Refactor loadable image factory methods into a builder.

commit 83aaf1e46d909a190507dd39c76c8920a9ecb762
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 2 10:22:25 2017 -0700

    Fix "bottom end" scrolling in infinite scroller.
    
    Fixes #393.

commit 2cee68cb7d6bb4450c3b655378a9ebf48c9df735
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 25 12:19:30 2017 -0700

    Activity picker improvements.
    
    - Use a TreeViewer
    - Add a search box to allow filtering
    - Be a bit nicer about what can be selected
    - Make it bigger

commit adf3aceca015c57ab9ff0226ffdecf6fc4438c3c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 25 12:15:08 2017 -0700

    Show a spinner in the capture dialog, while loading devices.

commit 121d96a8670dbe307850f68cfdf670ac96af64fb
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 25 12:13:36 2017 -0700

    Search box fixes.
    
    - Correctly handle the return key in all cases.
    - Allow filtering use case.

commit 76cd4396c7548d951d75884377f9829d11abeab3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri May 19 16:10:13 2017 -0700

    Atom editing UI for new proto world.

commit 7f6af245c5191b9a779e19d133f2e9087b8e6632
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 23 14:41:27 2017 -0700

    Actually register the atoms in the registry.
    
    This is required to make atom editing work.

commit 759106b1fae9315e01fbab54b38e9760e6918813
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 25 18:05:42 2017 -0700

    Fix flakey MacOS build, hopefully.

commit f07533b166ca44b1dde7e990bf55ff78e7714ed8
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 30 18:06:34 2017 +0100

    gapis/atom.Group: Don't let bad sub-groups in!
    
    Prevents out of range groups causing mayhem.

commit e3803fb33f14f4a100853055376f4a8dee89fbf7
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 30 18:05:59 2017 +0100

    gapis/resolve: Fix panic in the CommandTree builder.
    
    The marker grouper would terminate incomplete marker groups with 1 greater than the number of atoms in the capture.
    
    Fixes #445

commit a024c4ce5817a30782a997ed6e6fe7b8585664f6
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 30 08:45:59 2017 +0100

    Add Gitter badge to README.md

commit 6a3d3f65a7d562334fc8239c61ddd52ba4bb77d9
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 30 11:01:23 2017 +0100

    Fix tests broken by 19cecac7

commit 269bf054462e28fd4efef52cdba24dc353b687d7
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue May 30 12:44:23 2017 +0100

    Handle glTexSubImage2D with different format more gracefully.
    
    Reinitialize the texture data buffer if the format changes.
    
    This still is not ideal, but at least we do not crash.

commit a9c18074ec9269a54d9e521ce0b843024c098dbf
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu May 25 22:06:33 2017 +0100

    Use newest when looking for process by name
    
    "am instrument" wraps the invocation in parent process,
    so oldest returns us the wrapper, not the actual activity.

commit 883215f958023eed0069a7ce3fbb2af307b176d9
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu May 25 21:33:01 2017 +0100

    Add missing android installed packages
    
    Even if the package does not have an activity it might
    be needed for the attach method.

commit c567304d763dc3dc9a52b9b3056e135ac5e7229f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu May 25 21:30:52 2017 +0100

    Add gapit option to attach to existing android activity
    
    This is a simple way to handle non-standard scenarios by
    allowing the user to launch the activity manually.

commit 6dfb69c6c3114f8f6411632f597441513451f392
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 30 11:18:12 2017 +0100

    Add support for verbose logging on the command line.
    
    Fixes: #434

commit 19cecac724ee49b0bb40a23658347594fbf370ec
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon May 29 13:52:06 2017 -0400

    Make SizeTy interface to group all size_t types (#442)
    
    * Make SizeTy interface to group all size_t types
    
    This fixes the incorrect parsing of Vulkan dispatchable handles, which
    is caused by not considering those dispatchable handles as size_t type
    values.
    
    * Add interface for char, int and uint originated types
    
    * Renaming and add dummy functions for all char, int, uint derived types

commit 50aa086e8a1476b990916b86b34f5cad4c7e2cd5
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon May 29 09:42:22 2017 -0400

    Use generated API names rather than hard-coded ones.

commit e0986a4c79b986a1998323ef9a0f5b2e336a09a0
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri May 26 11:22:29 2017 -0400

    Close the connection when we stop MEC or after N frames.
    
    We would leave the connection open, this meant gapit continued to
    run even if we would never get any more data.
    
    Also when running a host application, this terminates the host
    application.

commit 68a9510c4c7a66fabad4b2f0b74eb395d42d2184
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon May 15 09:47:12 2017 -0400

    Side-by-side Vulkan Video support.
    
    This allows us to use gapit video to get side-by-side trace and replay
    videos.

commit 8dd190522a6bf8e7f3203c3110e0d962d0a60737
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 23:18:17 2017 +0100

    gapis/resolve: Reimplement StateTree building.
    
    New implementation lazily builds branches of the tree.
    Makes searching a StateTreeNode from another path far more viable.

commit 5f3fdd7b156ffc93e61d06412027b694a1ebd1ea
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 23:16:39 2017 +0100

    gapis/service/path: Add ToList()
    
    Breaks apart a path chain to a sequential list.

commit 9dae94254c1ac80737ba1c00756e9aab2e624297
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 23:16:04 2017 +0100

    core/data/slice: Add Reverse() function

commit 5bc8eb9b2a917bc80ce948afbd6f5a7954515ed5
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 17:07:50 2017 +0100

    gapis/resolve: Respect the groupLimit.
    
    The previous implementation suffered from two issues:
    1) The remainder of the grouping could overflow the requested maximum.
    2) The logic didn't handle the case where the number of items was greater than the limit¬≤.
    
    Fixed the grouping, documented the functions, added tests.

commit 1e9a2c6ab7233c0ec8a673b24527f53eeb2dccef
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 15:12:58 2017 +0100

    gapis/resolve: Add state_tree_test.go

commit 93757a2836a71444f5c4823aa95d0c16ca0991f1
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 15:12:20 2017 +0100

    gapis/memory: Fix slice type not being propagated.

commit a2450bc569885456864632183b3edc8b048305c0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 14:36:52 2017 +0100

    gapis/gfxapi: Simplify the usage of MemoryEncoder

commit e870793e2a190bebc15ac10190c2f04e087c2e82
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 13:58:17 2017 +0100

    gapis/service/path: Rename StateTreeNode.Child to Index

commit 4d78083565648aa1f7dffdecb461a9dba55b0804
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 13:47:44 2017 +0100

    path.proto: Rename repeated uint64 index to indices.

commit adf1817a26839e81b45c440785c67283f9033890
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri May 26 14:08:19 2017 -0400

    Vulkan:Add support of VkEvent, resolve hanging on host blocking commands (#427)
    
    Resolve the hanging on commands like: vkQueueWaitIdle caused by vkCmdWaitEvents.
    
    Add support to VkEvent related commands.

commit 89ba5dd5447b242206d2c8b20167409a4527a9e4
Author: Keith Mok <ek9852@gmail.com>
Date:   Tue May 23 11:28:48 2017 -0700

    Fix out of bound problem in glTexSubImage2D
    
    If we have an x-offset and running on last row,
    we will get out of bound, since it wrongly slice a whole
    stride.

commit df19f436fc091a0ac89d129e95c02e315022e830
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 23 15:16:19 2017 -0700

    Show the image flip button for framebuffers.
    
    Closes #351

commit a31b2b5a443be649c8ae48d0b18e15f36d37c922
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 23 15:14:56 2017 -0700

    Honor flip in image preview.
    
    Closes #226

commit 2699b9f2d19d5b8cb224a50012f1a2cecbcc8adf
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 23 16:15:45 2017 -0400

    Allow VkDestroyImage/VkDestroyBuffer to take VK_NULL_HANDLE
    
    We were missing a condition from the spec.

commit 60af9261f4203e2704cbd67820b94cf0186ed3ef
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 22 12:50:28 2017 -0700

    Create an MSI package as part of the build.

commit 2e729e0686a3bc9d69217788da30f40dce40aff1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 16 16:10:11 2017 -0700

    Setup eclispse to use UTF8 and remove some encoding work arounds.

commit 7f1aa03bfb1f6675d32e6bb82d4b5ad7840814b4
Author: Ben Clayton <bclayton@google.com>
Date:   Sat May 20 01:14:37 2017 +0100

    Use the memory types (Int, Uint, Char, Size) for Encoder / Decoder.
    
    Just tidying up existing code.

commit fa5c851da538417e8aadee8e789b24e61ee5bf11
Author: Ben Clayton <bclayton@google.com>
Date:   Sat May 20 01:13:37 2017 +0100

    core/os/device: Fix alignemnt of char in Little32/64

commit 48308c4fb4e20de895d67c8d1cf75380f9100885
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Fri May 19 13:24:36 2017 -0700

    Add package details to kokoro/README.md

commit 9567ea825c826d24b5fa6df5d92714858bfc7532
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 17 21:20:08 2017 +0100

    gapis: Use new memory logic to remove dodgy code in state_tree.go

commit 1b05191391780c76fbc38b6b7a41d38727e2e6ef
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 10:50:53 2017 +0100

    gapis/resolve: Improve map key sorting.
    
    Sort numerical map keys numerically, not lexicographically.
    
    Fixes: #388

commit 1374e87bd0ca4b32facda16fb602b2fcda945046
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 19 10:49:29 2017 +0100

    core/data/slice: Add slice sorting functions.

commit 1f5df9a16ba71c03f9cfcba80cbff911756d48e4
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 18 18:47:32 2017 +0100

    gapil/langsvr: Show possible values of class fields.

commit 210f1bd8f5e36d6a612c3aebb986ae23f44ea0c1
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 18 18:46:53 2017 +0100

    gapil/analysis: Improve tracking of maps and instances.
    
    Add more tests.

commit 3b83b1a98e66a6df878a81c04e95d4dbd47cc68b
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 18 18:44:41 2017 +0100

    gapil/template: Fix non-deterministic ordering of constsets.
    
    Yet another bug caused by random golang-map iteration orders.
    
    Because apic is invoked once for api.go.tmpl and constant_sets.go.tmpl, we ended up with random constant set ordering.
    
    Fixes: #376

commit c873a56296f93043266e7b3fb58506f2d0cb234f
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 18 18:41:57 2017 +0100

    constant_sets.go.tmpl: Emit comment for entry name.

commit 9e4444f97fe8011404e554878d05fd8aefaf3875
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 18 01:24:50 2017 +0100

    api: Replace codegen encode / decode logic with reflection.
    
    ‚Ä¢ Removes a whole load of complicated and delicate template logic with a single, readable implementation.
    ‚Ä¢ Cuts the generated go codegen down by about a 1/3rd.
    ‚Ä¢ Unifies the existing code with the memory.Writer logic (used by atom.Data).
    ‚Ä¢ Knocks about 7 seconds off a clean build on my '16 MBP.

commit 8c18dd1b2505f06a249ed89997cb914e43714ff5
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 17 21:22:28 2017 +0100

    core/assert: Fix printing of types in slicesEqual
    
    Using reflect.Type in a print doesn't skip interfaces, meaning many assert messages showed interface{} instead of the boxed type.

commit b29fccadaa15d21dc20ca9ebf67749a33fa96086
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Wed May 17 12:23:36 2017 -0700

    Add build badges to README

commit 76cbeb41d46c7462a18ef801d0e354de6d727d0a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 17 10:29:31 2017 -0700

    Fix formatting bug introduced with the preview change.
    
    Fixes the !!BUG!! part of #376

commit 98b64359178d81439de90ba11d3af5ff9e8b542e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 17 11:57:09 2017 -0700

    Actually fail the mac build on failures.

commit 2066dbf686becf28904117a6311f167c91d6fda0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 17 11:34:05 2017 -0700

    The SHA is in a different variable for different build types.

commit d94a3519be111c111714f3e90ba1bcc19e3e4b70
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 17 11:12:01 2017 -0700

    Continuous and presubmit build configs.

commit a7a00d1adc2ec05062ff59dabd2165d4fcadaa71
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed May 17 10:21:34 2017 -0400

    Vulkan:rename X to groupCountX to follow Vulkan spec updates (#363)

commit ab47157a5466720ad1ce0523d0cf55e57b6fb0d8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 16 13:57:51 2017 -0700

    Windows build fixes for the ASTC 3rd party library.

commit 01ad6435011e4bdaddfb978b60359b0f7a83683c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 16 10:48:58 2017 -0700

    Path following in the command tree.
    
    State paths do not yet select the appropriate node in the state tree, yet.
    Waiting on an API to do that.

commit f167805e487cf0f0f012de4ebad592d677c4bac4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 16 11:04:27 2017 -0700

    Bump the minor version to signify builds post the major proto changes.

commit b608312fb845e14c36643226f1a63cfd98707147
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 19:00:00 2017 +0100

    gapis / gapit: Pretty-print pointers.
    
    Change-Id: I502c7d8cacf9ac06b8094e0d5960708f5d826f33

commit 7b9933df78a0f2335ee4440c1d0c0effcb698cf5
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 16:33:24 2017 +0100

    gapit: Add flags to display observations.
    
    Fixes: #357
    Change-Id: Iec6c6b00f37f548c18e0c186367b157c041cea78

commit 6c77720d51b6dc18b4a72fa5a750cfa7307647de
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 16:29:35 2017 +0100

    gapis/resolve/memory.go: Fix panic when memory data is 0 len.
    
    Change-Id: I7e330b6ea0bbf84e98c3a32aa093840ddc5c5eb2

commit 94c61d203800d3ae9fe22cf3926c526d4073f8f5
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 18:09:32 2017 +0100

    do: Allow any go 1.8.x to be used
    
    Change-Id: I6a583d2a5b50b7316f4c8b1ca618e7d5581c0ceb

commit af943729f65b76c012e57b84c6f4c9b566ad4844
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 18:30:03 2017 +0100

    path.Proto: Add Result() to complement Parameter()
    
    Let the client get / set / follow command results.
    
    Change-Id: I67962196593ad54210bdb0e55801af6500eec5c7

commit 66ac0639b69d0ddb3f92f0b50e33bbb2aad008ee
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 16:52:49 2017 +0100

    api.go.tmpl: Make static arrays arrays, not structs.
    
    Kill the pointless struct with a single Elements field.
    This was a wart left over from codergen.
    
    Fixes: #356
    Change-Id: I5a514ef6c15754f42d78500d1f69f20938c56893

commit 9028821f42939e7ab89b1f17005efef26ce3feaa
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 17:44:33 2017 +0100

    gapit: Fix sxs video rendering.
    
    Change-Id: I62eea0f2c6fb22b4466940472d0250f44c02dce8

commit b74636634306e0deeae009e68d1d5335e6936a5c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 15:39:30 2017 +0100

    box.proto: Document the less-intuitive fields.
    
    Change-Id: Id17481b049d30bdecfab8d7260ed9b6a650bcaf4

commit dc455ced166ec4b69650ad019eab8d149d406d07
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 15:39:04 2017 +0100

    service.proto: Rename StateTreeNode.path to value_path.
    
    Change-Id: I787cb6c8d7b192d1bcbe8ee1157e2930d1584178

commit 4b836f225912ca27d763e8ac16c2f9a230bcfda9
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 15:29:56 2017 +0100

    box.proto: Try to clarify the scoping of value_id and type_id.
    
    Change-Id: I8088a3922680f0db5125e3bf3531f19a138a3967

commit 33b1f5f0970d96eb01c9b616d0743b1142c5b6b6
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 16 15:17:50 2017 +0100

    Kill path.Resource.
    
    As pointed out by https://github.com/google/gapid/pull/352#discussion_r116715973, having a service message with a path to itself is something we've tried to kill off.
    Turns out that `path.Resource` was not really used - everything just cares about the identifier. So, replace the Resource.path field with Resource.id.
    
    Change-Id: I2555d4db0592a97d1436f7eb628b36e2f29dc80e

commit 8add2664b9b1a067e3e08e1ce3b9af873c7abeb8
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 16 10:26:24 2017 -0400

    Fix for crash when recreating Vulkan images after MEC.

commit 24a0c7d1f1c708fcc9cd3e40fd2fc589fa2a2c2e
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 16 14:22:17 2017 +0100

    Fix adb root issue on certain devices / OSes.
    
    It appears `adb root` will return no output on success under some device / host combinations. Assume succes for no output.

commit 483390bdc088fd0375c94387934112fcd1bb7813
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 16 14:13:53 2017 +0100

    core/os/file: Document that FindExecutable takes care of .exe extension.

commit 135e7b039050bb715c93159006fc20e1861f1a09
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 16 14:13:27 2017 +0100

    adb.go: Search PATH and ANDROID_HOME
    
    Don't just give up if ANDROID_HOME points to somewhere crazy.

commit 4070ee1761beb471de1d02141cb734980c62bdf0
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue May 16 14:12:50 2017 +0100

    do: Pick up node.exe & adb.exe PATHs like on unix.

commit 9e322511351dea4baffdbb2ac470d68477f38d50
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 12 18:11:26 2017 +0100

    Add ASTC support via the astc-encoder library.
    
    Add astc-encoder to third_party.
    
    Move the decoder logic to a sub-package of image to avoid compiling cgo
    code for anything that references images.
    
    Add a test.

commit 52ac1e44fa53700b3dd2f2c98b2d2eb2b3c5e184
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 12 18:10:53 2017 +0100

    Add astc-encoder as a third_party submodule

commit 5985c08e85036ae79833393a35ea6aeb34732f10
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 15 13:53:27 2017 -0700

    Don't maintain the atom selection across captures.

commit 701198840713306329d4a5ace55a82f94a39628b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 15 13:52:54 2017 -0700

    Force a repaint when the scrubber size changes.

commit 655442c8b53351e916042ea91768911c9b033547
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 15 13:25:53 2017 -0700

    Ensure state tree updates on mac.

commit 3ae71815ca4790a16b4ce44aa766a820ec50e487
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 15 12:26:11 2017 -0700

    GAPIC support for boxed arrays.

commit 78215dfde2bdf43e2edc4c20f972a1c00e92a0a6
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 15 20:18:44 2017 +0100

    gapit: Uncomment the GetLogStream go routine.
    
    This was accidentally commented out when trying to debug something.

commit 870d029fefb22d4cae8ec61d5fb39c0d23a70122
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 15 20:10:35 2017 +0100

    Don‚Äôt catch panics. It just hides the issue.

commit cb62adcc36815edaa2caabee025634d05c61c113
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 15 20:10:18 2017 +0100

    Fix for thumbnails on vulkan.
    
    When attempting to render for the thumbnail we were picking the
    ‚Äôdefault‚Äô device - this is the host, which cannot replay Android
    captures.

commit 94122bc81a712025a4b4cf04969e1c9948e54961
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 15 19:14:24 2017 +0100

    Fix state fetching for Vulkan.
    
    Don't consider invisible fields in the state_tree, add
    box support for arrays / slices.

commit e6c2446774c1b430bdb488996c18e8dda341a3ff
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri May 12 12:53:35 2017 -0700

    Group traversal tests and updated fix (see 3c90b4c).

commit 678eccef650ca175ee799c7ae541551d3297af48
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 11 14:10:32 2017 -0700

    Implement UI search and server search improvements and fixes.
    
    - Fix backwards search usigned int overflow
    - Start search just after the given node (i.e. "find next")
    - Allow case insensitive searching
    - Allow wrapping the search

commit 3079d4b19f9b4a0e85a920398ea2dccbc6fb520e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 10 18:15:15 2017 -0700

    Simplify log streaming.

commit a9d65b089a597c9adbd07302337b001b7d2aac71
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 10 14:10:59 2017 -0700

    Fix panic for certain nil values in the state tree.
    
    Closes https://github.com/ben-clayton/gapid/issues/16

commit 86824453c2399d428a4c0711acd9ea892b68d65e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 10 12:16:49 2017 -0700

    Select the frame group in the tree, when selecting frames.
    Select the earliest frame in the scrubber that ends after the selected
    command.

commit 4e3210c10c4fb0707e10599bdf88074e94ba49b0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 10 11:57:41 2017 -0700

    Fix CTN resolution bug introduced in 8c8ac9bf.

commit 85a3702f5ec198d7146c1c26b463af9b59ef6fe8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 10 11:26:33 2017 -0700

    Filter reports by context (again).
    
    And fix report item -> atom linking.

commit 51c126ac93295bec69dcb920fcc067418900a705
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 10 11:01:19 2017 -0700

    Refactoring the models.
    
    Extracting some common code into a base class.

commit 01f21e19e97d80fae4e4d2687cfcabdc0549bca8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 9 16:08:13 2017 -0700

    Display the number of commands in a group.

commit 7dc8e0540bf581e3de36c61ce00bb68ea1803920
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 9 15:54:14 2017 -0700

    Sub group splitting.

commit 3032e256bf8ba4f2d252fab6fd057f3df711abe0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 9 11:13:08 2017 -0700

    Incomplete frame and "no context" grouping.

commit 39a9f4c648a552b7803e1e20a3010093bfaf334e
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 4 13:14:30 2017 -0700

    Communicate if the mesh was requested on a non-draw call.

commit 85d32cf22b1a16b4212119ee6aeae3fe70e4f3c4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 3 17:55:17 2017 -0700

    Convert arrays/slices of a large size into multi-level nodes.
    
    For, say, a texture with a couple MB of data, this prevents the UI from
    freezing up, as it would attempt to create a node for each byte.

commit fc7860d526bdf7ea9788a7390e42dd3b3d613bb2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 8 15:41:21 2017 -0700

    Allow the exclusion of "other" memory observations.

commit 239aa0343147ff2853772a7f420892a070b65458
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 8 16:16:02 2017 -0700

    Some clean up.

commit 52fcd6cc2c4d38550e3f674d004a7c77f4589f1a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 8 15:08:09 2017 -0700

    Only allocate child nodes, once the parent is expanded.
    
    When setting the child counts explicitly, the framework allocates the
    UI elements immediatly, which makes expanding of nodes with many children
    very slow, as all the grandchildren are created.

commit 8e5cb0c68f6885ab1341cc49bdce5d8858f2e128
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 8 15:07:15 2017 -0700

    Default command grouping based on context selection.

commit 226d41c7b1adb55dfffdf03fdf41df24dc3e65e3
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 12 17:12:10 2017 +0100

    Steps towards handling partially supported captures.
    
    If a capture contains gles and vulkan APIs, but only one is supported by the target device, then don't kick a replay for that API.
    
    This still doesn't work however, as each API apparently includes the atoms of the other API.
    The long-term solution is to fold the replay logic into a single pass - as this is the only way we'll handle interactions between the APIs.

commit c4465a22ea45ed49eab57f3b794280fb656055fc
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 12 17:09:41 2017 +0100

    Include GL_MAX_TRANSFORM_FEEDBACK_XXX values in device gl info.

commit 73ed38106ee13bbaa3489e6c60d75c6ec3adf62a
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 12 17:09:00 2017 +0100

    Build fix after rebasing to master.

commit de4cf138b7d11f1ca28f07cc6ec5397737d3d4e4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 8 15:46:33 2017 -0700

    Implement memory observations.

commit 4aa14b807f917389a6304aaf973d7ee99c2d19d6
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 12 11:01:23 2017 +0100

    Fix another OOB slice panic in draw_call_mesh.go

commit 5789101f3be0afefd58c7aa0d5496b47a9488ad3
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 11 21:47:14 2017 +0100

    gles: Add GLenum_GL_UNSIGNED_INT_2_10_10_10_REV case to DataTypeSize()

commit 523eb168bc0098ca592b896df5d60995d4b8baa7
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 11 19:22:39 2017 +0100

    find_issues: Bump the buflen for shader errors / source.

commit 7d5addb4ee81dc3e9205ca4d5715af4703e528f7
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 11 19:21:47 2017 +0100

    Fix modification of resources.

commit 746b0246d7d41a7752b9f5745371a001dbdbfc25
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 18:28:14 2017 +0100

    gles/compat: Enable ARB_texture_multisample if we can.
    
    Change-Id: Ic94dc4f9fc7c6d81ff98a417163401d93cfb59b0

commit adb02453dc613794226f2b7bb2fb31b51b5a3785
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 18:20:42 2017 +0100

    glsl: Support variables that share name with type.
    
    Issue: 348
    Change-Id: Ibee4f4a69584b69f1485128fff6a4b6b67f72460

commit 52e13694f3e8d61810fcfe70f6b630c53a016403
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 18:19:11 2017 +0100

    gles: Add version AtLeast() helpers
    
    Change-Id: I6782a8a5a4a04d7bc213b456a4176a1d58731de7

commit 1b8f7400011820d5c17221040c2cf49b50f2a22c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 18:18:43 2017 +0100

    glsl: Add support for multisample sampler types.
    
    Change-Id: Ic102822442ca8e035ec7f4272f4a256f70279ba0

commit 0c8ce9fb8843024c7ca77df6bec0ec0e67453629
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 18:17:37 2017 +0100

    gles: Fix NPE in draw_call_mesh.go with bad data.
    
    Change-Id: If01ec34f73df01cc1d0897e89f39adc740f877f4

commit 7b5678d057306e7161b6d5afe1b6d3921c5d4c4c
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 18:17:09 2017 +0100

    GLSL parser: Allow repeated macro defines.
    
    Change-Id: Ifa1593ee7b3be7ff9c244c5716499056efdb8c13

commit 8b0d463d1fd8becf2ced2871b9eae368e69e7e70
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 18:16:30 2017 +0100

    gapir: Include the atomID when printing KHR_debug msgs
    
    Change-Id: I502c4724380623f941dca7b276e16de4a5589f2e

commit f1dd4ed898fa6ec7d69a2cd4c3344a132cc6e952
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 18:15:18 2017 +0100

    GAPIC: Bump the number of log entries x10.
    
    I'm continually finding the logs wrapping in a single replay.
    
    Change-Id: I3c0e3bdd655588c83757dadbed215a047ba795c5

commit 8f36506fc03ed4a3157778e6603649a5350c484b
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 17:04:21 2017 +0100

    gapis/atom.Group: Fix off-by-one in AddAtoms
    
    Removes switchThread atoms appearing from filtered context.
    
    Change-Id: Ic0e295891877699596e0cccc42c6a9e458497e8f

commit ff602f9aa29b0dfb2c5010837257f3848dd35156
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 9 11:52:01 2017 +0100

    Silence spammy warnings in addDrawAndFrameEvents
    
    Change-Id: Id16f800ef5c160e9c0fc5b93e075b085d89a5354

commit 7f9bb23531684c87189038558b30b1e1ab7a10b9
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 8 18:39:58 2017 +0100

    Change Resource.accesses from repeating uint64 to repeating path.Command.

commit 4db86391412f1fac73704960fb7be9d3dbc81280
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 8 18:07:59 2017 +0100

    Change ReportItem.command from a uint64 to a path.Command.

commit bf721d161bbca8bcef87cdf2c1292389ce494a74
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 8 17:16:39 2017 +0100

    Add CommandFilter field to path.Report.

commit 278f4741a80d50e8950a3056698652e53b60ad11
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 8 16:20:38 2017 +0100

    Unify the filtering logic some more.

commit d951b12ad83e153510f58825bcb0542206445b78
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 8 15:36:28 2017 +0100

    Make all command tree grouping controllable.

commit ceda80e57150798bd38871357c50243bbe9e6de6
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 8 15:06:48 2017 +0100

    Add path.CommandFilter to hold filtering fields.

commit d05c88ddf287d4473d565e112a9ee7a913d25aad
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 8 14:18:07 2017 +0100

    gapit: add ‚Äòcontext‚Äô parameter to verb ‚Äòcommands‚Äô.

commit 30771b318bef4d9f31614bb910eaac63ebfffaa3
Author: Ben Clayton <bclayton@google.com>
Date:   Mon May 8 14:17:46 2017 +0100

    gapis/resolve: Properly filter by context.

commit 27dff8880d95e48bd3552128333d78145d036c38
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 5 09:39:39 2017 +0100

    New atom.Group implementation.
    
    This new implementation supports gaps in the atoms.
    This is required for server side filtering (e.g. context/thread).

commit 4217fc150f1f546a2438f5343c2eb534de0c8766
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 5 16:46:43 2017 +0100

    Silence the very chatty build
    
    Change-Id: Iba2d5a2bdda348ffc60166ce8a3ff5e34d41f603

commit 195265caa7552650c8a698254baf3697a2cabd20
Author: Ben Clayton <bclayton@google.com>
Date:   Fri May 5 16:08:35 2017 +0100

    Add new core/data/slice helper library.
    
    Does basic slice mutation on any slice type.
    Sort of thing you might expect as part of a standard library...
    
    Change-Id: I20f9fe14ff2d1ccbb041621ad5f3cc900a037633

commit bb8e01464f0bb066a31f99c458ea3ec91058bdad
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 3 17:53:38 2017 -0700

    String fixes in the state tree.
    
    - Prevent long strings from being shown as arrays
    - Add a '...' at the end if the string is truncated

commit 88b92cb15093db1f1a79e875a07a7daefdccca4f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 4 13:13:51 2017 -0700

    Hook up geometry view.

commit 42da9795660a7594369a845dc1aa90a92f950d4f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 2 12:43:58 2017 -0700

    More gapic proto changes.

commit c561192a157563f73f5c01694be612a36f44a701
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 4 10:00:22 2017 -0700

    Use the first command as the index for groups.

commit 5cafcef27d00b987bcc39b7235b3d9045dda0032
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 4 09:52:30 2017 -0700

    Correctly format boxed values in string table messages.

commit 3f5aa9ed1be74842a86dc0673651d3954cb96116
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 4 15:07:29 2017 +0100

    GAPIC: Unbox the stringable value before printing.

commit 7fa3b743770cf3babb5a9cc73dceccbc258ef90d
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 4 14:53:26 2017 +0100

    Fix panic when thumbnailing errors

commit 7c9d97f260e97bfcd62a2e23dac0dc4d5eb93406
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 4 13:56:47 2017 +0100

    Fix NPE panics when dealing will null memory.Pointers.

commit 428dc1271770b63cdfa27bbb1f4eac788b09317c
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 4 13:22:29 2017 +0100

    Rename service.MemoryInfo to Memory.
    
    Add exclude_data flag to path.Memory so you can just look at the reads / writes.

commit 71775ae825d7a2d0909f3f0e57cace776074a0c3
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 4 12:51:47 2017 +0100

    Add support for requesting the mesh of a CTN.
    
    Untested.

commit 35b0993535a6f98de31206b5c21598b72bc6164f
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 4 12:47:34 2017 +0100

    Change signature of gapis/resolve.Atoms()
    
    and NAtoms() to take a path.Capture instead of a path.Commands.
    
    Using path.Commands is a broken API - it has a range that was completely ignored.

commit a420a7794cc8c7428f1ad9bd5ed0d44433683d4e
Author: Ben Clayton <bclayton@google.com>
Date:   Thu May 4 11:29:55 2017 +0100

    service.proto: Replace CTN.command with commands interval.

commit c4e61dd105b7d16fbb2d342ab65877252ecec6f0
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 3 21:06:54 2017 +0100

    gapis/memory: Make Pointer an interface.
    
    Steps towards supporting element types.

commit 08d87185548d8ef05ecff24c37fc3d66d961ea2a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 3 17:40:37 2017 +0100

    Remove ElementTypeName() from Slice interface

commit c92a111e55123abfc0f08c92e3a4dae147330177
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 3 17:30:59 2017 +0100

    Kill SliceInfo.

commit 6a52266843d04c000188183f60f716a433eb4033
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 3 17:10:08 2017 +0100

    core/data/deep: Support copying with conversion.

commit 877d2d48ad8971776b6593714282387db107edb9
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 3 17:09:40 2017 +0100

    Fixes for API decoding.

commit f8acff7514602ff746793e2c0236107e63572a6d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 3 10:24:37 2017 +0100

    Add Slice type to box proto.

commit 3fc48e3aea7736e4f519a2aad30258ea1edd2c12
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 3 10:03:18 2017 +0100

    gapit: Prettify the printing of trees.

commit a213180ca5dfc79a6c3761d410bfd6459f8fd352
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue May 2 11:26:13 2017 -0700

    Fixes for changes to service.Context.

commit 044ebe9cf2459cd048584aad03edf0b8d7077cf2
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 2 18:29:19 2017 +0100

    Fix resolved type of path.Contexts.
    
    Should have been a service.Contexts, fitting with the path.X ->
    service.X pattern.
    
    Change-Id: I4cf5f086487d01c2d5f06d1d4a6071651c9ed088

commit ee9db04e4e9c783f1240d81b9bed885c22e85d84
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 25 13:45:27 2017 -0700

    GAPIC protos WIP.

commit 9f1d18c8936ee6b8708799d7090729dd10a7a363
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Apr 28 10:14:17 2017 -0700

    Support thumbnails for path.Command.

commit f211a467bd5e24b48bf153398272f1309af29b37
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 2 17:28:58 2017 +0100

    gapis/service: Add case for *Context in NewValue()
    
    Change-Id: I1f47e745321e8fed461efe9226afa0d89388b37d

commit 9df774c8e260aa1a1dd947b37838e37cde58942d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 2 17:27:51 2017 +0100

    Remove now unused FETCH_SCHEMA_TIMEOUT_MS field
    
    Change-Id: Ifbee0b648a89845c128a772d2134bbc69c6ec6da

commit 5c1e3d0a1c09b4f8b998b12c321d7eef29f02078
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 19:01:25 2017 +0100

    Add Pointer type to box.proto

commit 1fb4b85a68e58bb42cea7cffcc7663cc0fa2fe82
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 18:18:26 2017 +0100

    Move Reader and Writer from core/data/pod to core/data/binary.
    
    These interfaces aren‚Äôt related to the rest of the pod package, and
    seem badly homed.

commit 0dd9d8e0066491bdb8e7c624ee2c44d21b3e17bc
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 14:33:10 2017 +0100

    Separate out result from other parameters

commit d551189c284b3398eba6f579498a8459bdd1b3e5
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 14:17:50 2017 +0100

    Use true .api parameter names instead of lower-cased names

commit 8e4dfc50a54ccb1796a58bc1479beaf5c5a92013
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 14:02:51 2017 +0100

    Support paths being returned by Get()

commit 1d1fbd734fb28afd7258c8dfc1ed1c7bd84512d9
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 13:37:27 2017 +0100

    Convert command thumbnail to requested format

commit 67ea8ef38c7c44e3543d54a17e2b03f5a42ca290
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 13:25:57 2017 +0100

    Add new RPC Find().
    
    This streams results instead of resolving all and handing them
    back as a big blob. As such, it needs a new RPC instead of another
    path type.

commit 33c96fbfd7caa45e36971b6effbc096e64d8e677
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 26 15:05:18 2017 +0100

    Add CommandTreeNodeForCommand path node.
    
    Finds the CommandTreeNode for a given command path.

commit 6dc56a1f244053d970b012fc27b68e09746e44ba
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 26 14:13:10 2017 +0100

    Restructure CommandTreeNode to always have a path.Command field

commit 59589884534cdd4686ad1b1dcf5ae796dbe20651
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 26 14:02:12 2017 +0100

    Add Thumbnail path support to CommandTreeNode

commit 0b62ea6ae4abb9e3a6a5779fc251b9a343046a05
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Wed Apr 12 11:08:27 2017 +0100

    Kill codergen, snippets and annotate.

commit 1a31637e6950cc6f22334f94507676f964ea1578
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 3 15:33:23 2017 +0100

    Add memory.Slice - an interface implemented by all the slice types.
    
    Note: There's a bunch of changes to explictly reference SliceInfo
    fields of the slice type. SliceInfo now exists purely to satisfy the
    old (current) way of serializing these structures. The proto branch
    will delete SliceInfo.

commit 99e41dbc9f5f0c6688c757b60ba4f45eec2b4996
Author: Ben Clayton <bclayton@google.com>
Date:   Wed May 3 13:53:55 2017 +0100

    gapis/memory: Rename Slice to Data. 'Slice' is overloaded

commit 960ce284c02a3ca205ef20084d8dd7dc72783732
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu May 4 13:56:21 2017 -0700

    Kokoro mac build definition.

commit c7f3f7ec23e464331de8727fee9be8e51fb01e60
Author: Keith Mok <ek9852@gmail.com>
Date:   Fri May 12 22:16:40 2017 -0700

    core/os/device: Fix if else statement
    
    else is missing in a statement checking

commit 4a493d0ec69fed6e6f70de2e5b15a95f14b02240
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Apr 20 13:13:38 2017 -0400

    Added a mode to gapit to only trace a single API.
    
    This will allow us to filter out traced commands during trace.
    Specifically this means we don't have to care about GLES during a
    vulkan trace.

commit 88a8e6758e6945c5f2bfa908dde0f466d7c0d505
Author: Wanchang Ryu <eternity74@gmail.com>
Date:   Tue May 2 18:01:50 2017 +0900

    added gapii target for arm linux (#303)
    
    We can build libgapii.so for arm linux target with this patch.
    To build libgapii.so, please follow below steps
     1. set proper path for sysroot and compiler in cmake/Toolchain/ArmLinux.cmake
        (see ARMLINUX_SYSROOT and ARMLINUX_COMPILER_BIN_PATH)
     2. ./do config
        'true' at "Build additional gapii for armlinx [Default: false]"
    
    libgapii.so will be created at release/bin/armlinux

commit bd3e5823c65bb40c89e738457cccbed9661555b7
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon May 8 16:32:15 2017 -0400

    Fix for some drivers that allocate GPU pages on demand.
    
    Our use of signals was interfering with those pages, this
    forces them to get allocated.

commit 9cd75c125e332c38b8301ec1d9bebb9a74292712
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed May 3 10:08:54 2017 -0700

    Don't include alpha when computing the color range for tone mapping.

commit 45fd2434eb90e79ee86bc0242ec93c23e1fd0676
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon May 8 12:03:21 2017 -0400

    Fix build: showTraceABIInfo -> showABIInfo in dump.go (#346)

commit 0dced5804a9f77cd59448ccddc0e57eb2a67fc38
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon May 8 10:09:36 2017 -0400

    Switch off some of the OS checks for the more generic check.
    
    This lets us turn on/off Coherent memory tracking more easily.

commit ddc70070f0e4ccf559fbde0c08b50f36c2c5ae43
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon May 8 10:57:40 2017 -0400

    Enable gapit dump information about the ABI used for the trace (#344)
    
    * Enable gapit dump information about the ABI used for the trace

commit ae1afeef43ab90e246f031fb0e8a0bb27eb8c7bd
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 4 13:52:10 2017 -0400

    Vulkan MEC: Finish secondary command buffers prior to primary ones (#342)
    
    According to spec, when primary command buffers call
    vkCmdExecuteCommands, all the related secondary command buffers must be
    in pending/executable state, cannot be in recording state.

commit d5c004ce16153ac4a1b5afe9653d33b3c0b75405
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 4 13:47:59 2017 -0400

    Vulkan:Fix a bug in piping geometry data (#340)
    
    As we only extract the vertices from minIndex to maxIndex, all the
    indices must minus minIndex to be valid for indexing the extracted
    vertex values.

commit 4eb31a663bb106695e743695f8479fbed61e9ef4
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 4 13:43:30 2017 -0400

    Vulkan:Add callback for handling vkCmdExecuteCommands (#339)

commit 8e3048e9bd89c56cd4999538b80537b198c50626
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 4 13:22:16 2017 -0400

    Vulkan:Ignore the instance data buffer for geometry data (#338)
    
    * Vulkan:Ignore the instance data buffer for geometry data
    
    Instead of returning an error, just ignore the instance data, so the
    geometry of the first instance will be shown.

commit d573490dcc60a4c9e6d0720a8a8c6a64d911214c
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu May 4 13:21:37 2017 -0400

    Vulkan:Assignment to LastDrawInfo should only happen in command callbacks (#337)
    
    * Vulkan:Assignment to LastDrawInfo should only happen in command callbacks
    
    Also moved the CmdBoundBuffers and related structs around.
    
    * Do not clear bound descriptor sets
    
    According to the spec, binding new sets of descriptors does not clear
    all the original bound ones.

commit 3bf4e6b391a14caa8eadbf110e0c6f1d74c6daa6
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed May 3 09:52:58 2017 -0400

    Fixes for broken shader-editing in Vulkan.
    
    This fixes shader editing in Vulkan. There were 2 issues fixed.
    
    libmanager.cpp was checking result (bool) != SPV_SUCCESS (0), which
    always returned the wrong thing.
    We missed RecreateShaderModule in mid-execution capture. Now we can
    modify shaders in RecreateShaderModule.

commit acb0bd71d9f00948eccf61095d21ecba79c30d5a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 20 16:23:23 2017 -0700

    Kokoro windows build definition.

commit 9c6794eea7b3c686e4cf0cf42d660cf3538c64c0
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 2 16:10:34 2017 +0100

    gapic: Fix typo in NO_REPLAY_DEVICE string
    
    Delete duplicate, unused string.
    
    Change-Id: I57f6f1d9fbe0eecaecbb2fbcd024837e5a88a448

commit 64253eab97ac3726a427d7f90ec2c1ae7eb4438a
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 2 16:10:05 2017 +0100

    do: Also include adb in the env PATH.
    
    Change-Id: I93a223cbe2fbacc14985e49d536f3d76428fa355

commit 2014ab6cb262b7bbae5cf877b148e9364dbaeff9
Author: Ben Clayton <bclayton@google.com>
Date:   Tue May 2 16:09:49 2017 +0100

    gapis: Only print the name when listing compatible / incompatble devices.
    
    Change-Id: I87cd06feb86134df2a78926b51943ab7cb3cdc3a

commit 993f43a750a3156ab4be69004b2ea1a75024bb6d
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 10 21:33:25 2017 +0100

    Add protopack capture header
    
    This CL breaks backwards compatibility with the old file formats.
    
    Change-Id: I248f2ff1c532a709155f08ce9db7b8b4041b39a7

commit 7288a5669bcba6e7e8bf0dacafdf8e95c5fdb311
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Apr 11 17:59:09 2017 +0100

    Remove the gfxtrace command
    
    I‚Äôm about to kill the old file format making this tool useless.
    
    Change-Id: I73e47923fb8fe1ad8224ff5f2036b2680f554307

commit e533f80258f8efd937dd9156efb90e2b58596026
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue May 2 09:48:44 2017 -0400

    Fixed a bug in vulkan Mid-Execution capture.
    
    We were potentially picking the wrong index if the only valid
    memory we could find was coherent.

commit 19ed734b3ae7ee3fe3dbb195aea3114dfc32a721
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue May 2 09:57:25 2017 -0400

    Enable Geometry View for Vulkan (#328)
    
    * Pipe Vulkan vertex buffer data and index buffer data to Geometry View
    
    * Changed the vertex stream names
    
    * Add TODO that we can disassemble shader and pull out the debug info in
    future
    
    * Add TODO for vkQueueSubmit that we need to filter out those calls that
    do not submit draw commands.

commit a866b2cdfe63dcd375e3ec026835afc98a1357f5
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Apr 28 11:28:16 2017 +0100

    core/os/device: Flesh out MemoryLayout to include all the basic types.
    
    Also avoid linking deviceinfo against EGL / GL directly as this will be
    used by GAPII, which wants to patch the drivers.
    
    Change-Id: Iddad0d146b13e8d307fa59c2a9bbeeb4216d43b8

commit 9695e0001f86ab37d92a356e45ee33b9e122a6af
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon May 1 12:43:20 2017 -0700

    Don't attempt to use ccache for LLVM on Windows.
    
    LLVM assumes that if ccache is enabled, it's on a UNIX style system
    and attempts to set env variables as part of the ccache command,
    which fails horribly on Windows.

commit 1b3f7cf7f8dacad2e3e42a3d0f9daf0188276837
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon May 1 10:29:18 2017 -0400

    Vulkan:Fix crash caused by accessing NULL handle in Vulkan DCE (#327)
    
    * Vulkan:Fix crash caused by accessing NULL handle in Vulkan DCE
    
    * When touching buffer/image memory bindings, if the image or buffer is
    not recorded in the state, just ignore it.

commit 05af5fd660248926e73d252f9d9520e43615cc0c
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Apr 28 09:56:02 2017 +0100

    Move framework/binary/bitstream* to core/data/binary

commit 8d6b83bf1c2f59bb25ace4de151db0eedc579a72
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Apr 28 13:17:25 2017 +0100

    Change strings in cmd types from std::string to char*.
    
    5edbc9bf broke tracing any app that used command with a
    string parameter. This CL removed the inline proto
    construction with helper structs now in xxx_types.{h,cpp}.
    
    These structs used std::string for string types, but the
    constructors did not consider nullptrs. This CL changes the
    string field type to char*, as these are already correctly
    handled by the toProto() functions.
    
    Change-Id: I8def5215abbb2606bf9fb3d3290a9f36f6a5cf71

commit 22ce01d205baffb2b0e37de91eeaa377c216cb6a
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 22:15:46 2017 +0100

    Fix random crash in gRPC library when calling GetLogStream().
    
    We weren't synchronizing the log messages, resulting in
    random race conditions inside the gRPC library.
    
    Use the log.Channel to keep everything concurrent-safe.

commit d734a1c7c28c060d2fe60239a8e308fa9c6524f4
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Apr 25 15:21:39 2017 +0100

    Remove 'Bound OpenGL M.m renderer' log spam

commit 065b77553006a3bf389f05eaede9a8bfff1bd802
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 19:50:43 2017 +0100

    Fix "Cannot unpod: uint8_array" exception
    
    Change-Id: I7e5a03d726bda3d6bd4f01645f4d14783c0fc3c9

commit a1b10879c28bf4c9db92eec654b0d6936adeba34
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 19:10:52 2017 +0100

    Fix for: panic: runtime error: comparing uncomparable type log.handler
    
    Change-Id: Ic96e8f12ab9e742c927c12c48e447c4f04b00e9b

commit 3be04f45c440175484f7c15405a29c20daa5af87
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 26 17:25:17 2017 +0100

    Reduce {api}_spy.cpp parallelism to 4.
    
    It does not make a difference to build time,
    but it reduces the risk of killing the host.

commit 62c6cf27baf1f22a8076ed94174f895d45b9adc0
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Apr 27 13:28:41 2017 -0400

    Vulkan:Move more info into LastDrawInfo (#314)
    
    * Fix the format problem for Vulkan Depth Attachment
    
    This bring back the depth buffer
    
    In short, when we copy the depth data from a depth_stencil format image,
    we need to extract only the depth part, so we need a mapping from
    depth_stencil format to the corresponding pure depth format.
    
    But when we create the staging image, we still need to use the
    depth_stencil format, as vkCmdBlitImage requires the src image and dst
    image to be generally the same (if either of srcImage or dstImage was
    created with a depth/stencil format, the other must also have been
    created with EXACTLY the same format.
    
    Also, when the source image is a depth/stencil image, the filter of
    vkCmdBlitImage must be VK_FILTER_NEAREST
    
    * Add new formats in test
    
    * Use unicode to label Channel_Undefined, fix format test
    
    * Vulkan:Move more info into LastDrawInfo
    
    Also cache the draw command parameters, so later we can use them to find
    the geometry data

commit 2bba7444f21ce16c1c379cb9be70afd58655564a
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Apr 27 13:28:25 2017 -0400

    Fix the format problem for Vulkan Depth Attachment (#301)
    
    * Fix the format problem for Vulkan Depth Attachment
    
    This bring back the depth buffer
    
    In short, when we copy the depth data from a depth_stencil format image,
    we need to extract only the depth part, so we need a mapping from
    depth_stencil format to the corresponding pure depth format.
    
    But when we create the staging image, we still need to use the
    depth_stencil format, as vkCmdBlitImage requires the src image and dst
    image to be generally the same (if either of srcImage or dstImage was
    created with a depth/stencil format, the other must also have been
    created with EXACTLY the same format.
    
    Also, when the source image is a depth/stencil image, the filter of
    vkCmdBlitImage must be VK_FILTER_NEAREST
    
    * Add new formats in test
    
    * Use unicode to label Channel_Undefined, fix format test

commit d769508663391733d31cdc578e74b9daa8d3415f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 27 17:55:58 2017 +0100

    Optimize protobuf code for size.
    
    Decreases the build time by 20%.
    
    They do not take that much user time, but their size puts
    them on critical path.

commit deb715935b01a10d1c91afdeaf98bdc4e6630eb7
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 27 17:23:49 2017 +0100

    GAPIS: Log messages to stdout when there's no GetLogStream().
    
    GAPIT: Watch for GAPIS messages on stdout / stderr.
    
    Fixes issues where crashes and early messages can go unreported.
    
    Change-Id: Ic5f3b42645c5bee1c656d0ddfc177757811de074

commit 30cf11fcf4f489eb94f9282aa6fcd102f605b0b0
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Apr 12 14:52:23 2017 -0700

    Binding a framebuffer causes its attachments to be read.
    
    This fixes a trace I came across where the texture size is modified
    after it has been attached:
    
    glBindFramebuffer(1)
    glBindTexture(1)
    glTexImage2D(1x1, null)
    glFramebufferTexture2D(1, 1)
    glTexImage2D(1024x1024, null)

commit cc93c2a4e50a685a9551ac6cd867ef1c40e664f3
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 27 12:42:11 2017 +0100

    Report warning if we fail to read framebuffer.

commit bbac3791c33e766739220138edb522aec872f35a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 27 13:19:11 2017 +0100

    Fix build: compile vulkan/resolvables.pb

commit 55bc213240570b86cf8b9da4576c46d961233e0e
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Apr 21 18:44:30 2017 +0100

    gapil: Add template support for generating constant sets.
    
    This is used to generate the new data stored in the exe to
    describe enum and bitfield constants.
    
    Change-Id: Id119bfb27deaa9adbffcee7050e8982e0ddd9407

commit 88757958ecb02249e72dcf4a1feb7c0af793ef99
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 12 18:20:48 2017 +0100

    gapil/analysis: Improvements to the analysis.
    
    Handles more of the cases needed to discover enum
    and bitfield symbols.
    
    Change-Id: I

commit 8384abc02b7b38eff5c236f3338f629da8d42aa4
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Apr 26 14:06:56 2017 -0400

    Vulkan: Dead code(atom) elimination (#247)
    
    * Vulkan: Dead code(atom) elimination
    
    If a command buffer has never been submitted, don't create(allocate) it
    and don't record any commands to it.
    If an image or buffer has never been used in any commands, don't create
    its Vulkan handle.
    If the data in an image or buffer has never been used, or has been
    overwritten, don't transmit its data.
    
    * Fix the failure when multiple pipelines are used in same queue submit
    
    Also add support to VkCmdExecuteCommands
    
    * Add debug info to DCE for Vulkan
    
    * Resolve comments and rebase
    
    * Revert the changes in the dead_code_elimination
    
    Now the vulkan/dead_code_elimination.go is exactly the same as
    gles/dead_code_elimination.go

commit 5edbc9bf808717b203d0c3ade0c710d5b91a8ec7
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 26 01:20:59 2017 +0100

    Move code from {api}_types.h to {api}_types.cpp
    
    This reduces uncached clean build time by about 25%.
    
    The header is frequently referenced so make it smaller.
    Constructors are moved to (newly created) cpp file.
    Reference to the protobuf header is also moved to cpp.

commit d5cfbb3b5423e388bd96d333c0dc3c8094419ffb
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 26 14:26:32 2017 +0100

    Add core/data/protoconv: A registry of proto <-> go-struct converters. (#304)

commit f52937d0de9822abf624fd74ab00e13fc434d290
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 26 13:28:32 2017 +0100

    Replace glob .gitignore for *.pb.go with explicit ignores. (#310)
    
    While the old glob may be convenient, it causes horrible and confusing
    issues when packages are moved or deleted.

commit 69a2fcedb2bb35c88b744b4d180d3e212b2a6d6a
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 26 11:24:32 2017 +0100

    do: Use env() helper when spawning gapic (#257)
    
    Brings in paths to msys dlls on windows.

commit d41d373e44889b59b17b99a7acf4c5a6f23b4793
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 26 11:23:27 2017 +0100

    core/data/pack: Handle bad data without exploding. (#299)

commit 73e5cebdf424b6ccd1ce20676466bef6907c9a33
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Apr 25 20:46:44 2017 +0100

    cmd/do: Be explicit about the Java file encoding. (#298)
    
    Issue: 280

commit 20e5138280178a4f790e997f4ee5d02ff6c587a0
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Apr 25 20:27:58 2017 +0100

    gles: Kill the backwards compatibility support. (#305)
    
    This was for a file format we won‚Äôt support any more.

commit ff77ac5ee8756c7214b82b2c5a50b23cbc13ae25
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Apr 25 18:06:11 2017 +0100

    Move the pod package out of gapis/service to core/data. (#300)
    
    Refactor the proto a little.

commit 1343477a170b9eb171d13a88eb6133fc78ea123d
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Apr 25 17:41:07 2017 +0100

    Fix build for machines that don't have ccache. (#308)

commit 54898b25a150e9f1cfbd00a9bb9dc438ae29dbb3
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Apr 25 16:46:25 2017 +0100

    Implement shared context support on Windows

commit 94d66e26f3df3fc9d709243c24b650517c06b9e7
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Tue Apr 25 16:45:51 2017 +0100

    Fix GLES integration tests on windows.

commit 2056a41e1a5966ea89295bf2b1fdede1fabfb504
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Apr 25 15:45:54 2017 +0100

    Implement shared context support on OSX

commit 42c6dc8b0f9a4cfc67b40f29f381dd1cb3dfe866
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Apr 10 17:49:42 2017 +0100

    Implement shared contexts for GL

commit c362e452fff34dd66fa531f26d43666099da643d
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 20 19:06:21 2017 +0100

    Add test for shared contexts

commit 4e373657117b34417a6e44d5e457a8554247d632
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Apr 25 12:58:46 2017 +0100

    Ignore QCOM tiling extension during desktop replay.

commit 0a20d03bbb9456a85116b7907f89abc3579a2e6f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Apr 25 13:02:58 2017 +0100

    Add sized format for egl images

commit 572d9d86255b9fed10d5507bb36b8183488b1f58
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Apr 25 12:24:29 2017 +0100

    Implement saving of captures. (#186)
    
    Fixes: #112

commit bdd860ab475890ecb0fd583acdf10725d4a22b02
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Sat Apr 22 01:28:15 2017 +0100

    Ensure ccache is used for LLVM
    
    LLVM is build using separate cmake invocation so our root ccache
    setting did not propagate to it.
    
    Enabling it speeds up "do clean && do build" user CPU time by 4x.

commit 0837d7ecc4e9056330929c31175993b48411e8d3
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 20 22:54:48 2017 +0100

    Fix bug in image.Difference
    
    Majority of the image was excluded from the comparison.

commit fcc56478d27bebd3ed3552ad24647227b8782bb0
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 20 20:56:33 2017 +0100

    Fix integration tests

commit 2ae843b0437f8953aaef217b5d9762185d3b6538
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 20 21:43:15 2017 +0100

    Synchronise log.Severity and service.Severity
    
    They are integer-cast between each other so they need to match.

commit af245570a4047ec8c802ce505a76f9167f6b2015
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 20 19:38:13 2017 +0100

    Use the main format table to check glRenderbufferStorage

commit c24a7ecbcb97414fb14bd05456250619e67cac32
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Fri Apr 21 12:47:33 2017 +0100

    Replace most atom.NoID uses with derived ID. (#292)
    
    Derived ID has a high bit set to indicate it is generated atom.
    
    The derived ID has no semantic value and it is just for debugging.

commit d7df9e4dbd3c4c602686c154fef5f9dbd77e7f37
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 18 13:10:25 2017 -0700

    Kokoro linux build definition.

commit 6859bdda7d25ffaee1d0718c5b539e1a740a089b
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Apr 20 14:10:07 2017 -0400

    Unify naming: Change the name of RecreateUpdateBuffer to RecreateCmdUpdateBuffer (#284)

commit d8d6615d9680d0cf58e464165ceb298257e38c6c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Apr 19 12:49:44 2017 -0700

    Add missing cgo dependency to fix #279.

commit 681774ea0f44bb8a3d1b3b265e01a0e88e872d01
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 20 14:12:05 2017 +0100

    Add texture compat for BRGA

commit d0c5c66bd181704dcc2fdd5a5e9d44f6f9aa2d6a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 12 15:13:09 2017 +0100

    Forward log messages from GL driver during replay.

commit ec1df54837f8b87a0a7278df31364b79241945ed
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 12 14:35:49 2017 +0100

    Remove glDebugMessageCallback in compat.
    
    The callback address is invalid and will crash gapir.

commit c15ca2a02c0de75e0eb173672f4603eb479266fc
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Apr 18 13:52:24 2017 +0100

    Decrease log level of GetGlesProcAddress

commit 19e907d89a9848c3a52f15e867c53ee8f2b56d1a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Thu Apr 20 13:14:07 2017 +0100

    Split FramebufferAttachment.ObjectName to two fields.
    
    Use two fields (Renderbuffer/Texture) to replace the 'union' field.
    
    Also replace the ID with object reference.
    
    This makes the attachment easier to follow in the state block
    and easier to work with in the code.

commit e8074b961449c6bd481eaa339a67ddbccfecbd66
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 19 21:54:37 2017 +0100

    Return framebuffer attachment in the promised format.
    
    Desktop GL oddly does not support RGB565 at all, so the we upgrade it to
    RGB8 and read the pixels in that form. Thus we need to convert it to 565.

commit 0d841ee06a14c1195e06640c1f82214073d3f2f6
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 19 21:51:28 2017 +0100

    Check BoundDrawFramebuffer to get current framebuffer
    
    DrawFramebuffer is target of draws and it is the one the client
    wants to see.  ReadFramebuffer is generally uninteresting and
    it is only useful for us to configure the source of ReadPixels.

commit 4644d4eca770bc91d97347383cc1f99763d2709a
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Wed Apr 19 10:28:02 2017 -0700

    Don't crash on incomplete texture cubes. (#260)

commit 544d5256047fccde50620154ca4c2e499ccf26c0
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Wed Apr 19 10:26:54 2017 -0700

    Texture thumbnail fixes. (#263)
    
    - Fixes a bug in the resize code for uncompressed formats
    - If luminance channel is requested of a format that doesn't have a luminance channel, but has a single (other) color channel, use that channel as luminance.

commit c7b84a45970dc4315655ba2f8a7c76903202ee6d
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Apr 18 20:10:37 2017 +0100

    Simplify luminance-alpha compat

commit 70a3233ddb87566f0db72c6e280b77f11c199007
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Apr 19 11:45:14 2017 -0400

    Vulkan:Add TRANSFER_SRC bit to recreated images and STORE_OP_STORE to recreated renderpasses (#278)
    
    This fixes replay for multisampled attachments with MEC

commit 0f4f930e543abe0f40015cf8a6287b4f2fc39a8d
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Apr 19 10:46:04 2017 -0400

    Fixed shadertools.
    
    My last fix was wrong. It assumed that the auto return was of type
    spv_result as it had previously been compared with SPV_SUCCESS. These
    were both incorrect, as tools.Disassemble returns a bool.

commit 99039d408d5574cc69db5cbccb9388e863d4009d
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Apr 18 23:05:00 2017 +0100

    Keep track of sized format for textures.

commit 18552148eded7b1ede892e0ea8f3833f6fad4bad
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Tue Apr 18 21:06:14 2017 +0100

    Add texture formats from EXT_texture_storage

commit 252455304697e5153fda8331d18805ac17200e2f
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 19 13:56:49 2017 +0100

    Make order of glGetUniformLocation calls deterministic.
    
    I accidentally made the output non-deterministic in the last commit.

commit 1e4de9f070571e104c79be0d5c8822250e34437d
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 12 01:13:05 2017 +0100

    Explicitly get uniform locations in compat

commit 0a1488d48d29d075137961a68ab9892b5e0f2a68
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 5 10:50:16 2017 +0100

    Report unhandled texture types.
    
    They are currently just silently dropped.

commit 72e7a27945c054cdcc8866826179dbf77c3562ff
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Wed Apr 12 16:56:58 2017 +0100

    Fix GL object links

commit 0ef7ad8480f8311ab49f6e269a20faf4dcfb6abe
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Mon Apr 10 16:44:37 2017 +0100

    Split GL objects to shared and non-shared.
    
    Separate the ID->object maps based on whether the object
    can be shared between GL contexts or not.
    
    Other then the change in gles.api, this is just a renaming commit.

commit 2e80569ede31581029e12c5ebafc875950d4015e
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Apr 13 18:56:00 2017 -0400

    Fix the case where one verb is a strict prefix of another.
    
    Previously we would declare the verbs ambiguous, now if
    the user types a full verb-name then succeed.

commit 2de212350664c5f8ac000369d4fab68e60c370f3
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Apr 13 18:58:01 2017 -0400

    Added a missing Win32 Vulkan Surface API.
    
    Also fixed a bug where we were doing string observations on
    potentially null strings in readApplicationInfo.

commit 6ffbd0f1e0a28c3c76a5e692b4405fe7d8e4abd5
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Apr 13 17:07:52 2017 -0400

    Add -mbig-obj to mingw for windows.
    
    Some of the protos can get quite large. If we build in debug
    then this can fail because the .obj file has run out of sections.

commit 3faa9462d2400c67436040eac3635da78362c79b
Author: AWoloszyn <awoloszyn@google.com>
Date:   Thu Apr 13 12:39:03 2017 -0400

    Fix for the hostname resolution on Windows.
    
    Fixes #196.

commit fb5ac8b1033f47d8c9ec0b22326d0aad2e271a37
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Apr 13 12:57:20 2017 -0400

    Vulkan:Fix the crash when shader module is destroyed before using in pipeline (#264)
    
    * Vulkan:Fix the crash when shader module is destroyed before using in pipeline
    
    Fix #258

commit 0bdfabf76da220310d36745a5d3e8c65593382d9
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Apr 13 12:56:54 2017 -0400

    Vulkan:Fix missing coherent memory data problem for MEC (#262)
    
    For recreated buffers and images that are backed with mapped coherent
    memory, we need to read the whole buffer/image memory to get the initial
    data of them.

commit 33d3113ee1be52fd947ad06cf0ee08ff48b75191
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 11 18:17:39 2017 -0700

    Windows DLL fixes.
    
    - Copy the MSYS dependency DLLs to the bin and pkg dirs
    - Don't copy the .dll.a files to the pkg dir
    - Make sure local tracing can find the MSYS DLLs.

commit 5d58ca70c314f6722512331795b19d25138381c1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 11 09:29:37 2017 -0700

    New package layout.
    
    - Remove unnecessary binaries from the output.
    - Flatten the hierarchy.
    - Put libraries in a lib sub-directory.
    - Fix all the search code.

commit 22b53619c09b0738ff4891b0f4aaf818da7425f3
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 11 10:22:40 2017 -0700

    Vulkan loader utilities.
    
    - always create a temporary JSON file for the the Vulkan layer
      in preparation for when the .json and libraries are not in the
      directory as the exectutables
    - use the package layout to find gapir and the libraries

commit 8c7d48133268cfdf458e24b6f0622d3d3d8a271f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Apr 10 13:00:23 2017 -0700

    Build package properties cleanup.
    
    - Rename source.properties to build.properties
    - Remove irrelevant fields
    - Add build information
    - Dump the cpack definitions, since it's never actually used
    - Allow passing of the build number and commit sha, which the build
      servers will do.

commit 194ba22cf75e574368196f0995bb3d2888401b47
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Apr 6 13:30:06 2017 -0700

    Remove layout.File(..), replacing it with explicit functions

commit a7542fe12e4131f434f04f3ddca54347742ffc13
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 11 17:06:26 2017 -0700

    Better initial size/location on first run.

commit 67e3c9cab57537b7347856026b490870df3f3509
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Apr 12 09:53:20 2017 -0400

    Add a gapit vert to dump shaders.

commit 0a967738cc70f626a319d6c431c0c20d2a659ce2
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Apr 10 16:16:55 2017 -0400

    Instead of a Yes/No replay prioritize the replay devices.
    
    This lets us handle the case where we have multi-api traces.
    We can still replay on Device, even though in the general case
    we want to replay GLES on Host.

commit 931ebc6548e252310716c784a92820c62e3b55c7
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Apr 11 15:12:40 2017 -0400

    Succeed SPIRV Disassembly on all success codes.
    
    This allows other success codes to still return their SPIR-V
    from the disassembler.

commit 7ab4a3f45a8c027648129e448bb452bdb0d894d4
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Apr 11 16:54:47 2017 -0400

    Added missing proto files to scan_for_protos.

commit 7e44208bcf5f2f1b9672b6eb2416f15ccda7f8ad
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Wed Apr 12 12:13:46 2017 +0100

    Cleanup handling of texture format checks. (#251)
    
    Remove code duplication and resolve inconsistencies.

commit 4fbc2f4933848bad2b946cc7df23f8fbca3767eb
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Apr 12 01:21:05 2017 +0100

    GAPII: Generate protopack files (#240)
    
    Migrate GAPII to proto-pack format
    
    core/data/pack:
    ‚Ä¢ Don't panic on bad streams.
    ‚Ä¢ Also describe the encountered version when it isn't supported.

commit 733ee0dfa1c63adfbf83eb77ca34162feaa995e4
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Wed Apr 12 00:02:01 2017 +0100

    Allow rendering into mipmap levels (#253)

commit 3c2630de609a301c7e9e6143030391341cf37916
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Apr 10 11:51:23 2017 -0400

    Added most of the Vulkan texture formats.
    
    Still missing a couple of compressed formats, and the single
    ERGB format.

commit d07d5d16bbe120a8c3e083209275739a224a9fa9
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 10 13:55:15 2017 +0100

    Move device.Host to its own package. (#238)
    
    Getting the host info involves cgo magic which is heavyweight.
    
    As the device package is pulled in everywhere moving out the
    host logic removes a bunch of cgo work from much of the codebase.

commit ecce2e1cfdc24253d9d5fccd24faf980ac40876c
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 10 12:24:56 2017 +0100

    CMake: Restructure protoc rules for C++ (#236)
    
    Needed by the GAPII proto file generation work.

commit 8dd2db47a3b10e1429db5e51ebc31d7540a74362
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 10 12:20:33 2017 +0100

    do: Automatically run `do build generate` before first build. (#235)
    
    Change-Id: Id45476795f19e1c5e1e6666c587b6842457bc846

commit a1fde02a4c24539369afb0633f265a6d4899f0a4
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Apr 7 13:47:49 2017 -0400

    Vulkan:Split RecreateBindAndFillXXX atom into BindXXX and XXXData (#221)

commit 2a8f0bf33f9ae6c7d7bd19572d6afcbeb34fe23b
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Fri Apr 7 18:22:55 2017 +0100

    Add depth/stencil to unsized->sized format conversion. (#232)

commit 8420230f6341a1de425867af1bfea8748f4f1ac4
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Apr 7 11:12:36 2017 -0400

    If Vulkan is requested but not available, don't create a valid renderer.
    
    This will output an error message instead of failing mysteriously
    on the first call.

commit 651907f8291f799801c2ae787042e34f1e6d59b6
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Apr 6 16:26:56 2017 -0400

    When creating symlinks, try to use relative paths.
    
    When we create symlinks, if we use relative paths, then if they are in a
    directory that unmounted/remounted somewhere else, the symlinks will
    continue to work. If relative paths are not possible, then fall back
    to the original absolute paths.

commit cfc6cb0065d2d9251ae86001c6c34c20974d85eb
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Apr 6 18:26:30 2017 -0400

    Fix a printf-style bug in vulkan_gfx_api.cpp

commit 78161181fa121df9b6a0b0830b7ba0717d04a72f
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Fri Apr 7 01:27:08 2017 +0100

    Clean up handling of texture formats. (#223)
    
    Trying to make the handling simpler/more consistent.
    
    The format is stored as tuple with following forms:
      (unsizedFormat, ty) - Uncompressed data.
      (sizedFormat, NONE) - Compressed data.
      (NONE, NONE) - Uninitialized content.
    
    We generally only track the format of the user provided
    data and ignore the sized format the user provided.

commit ff6ed1181e50933287eb73b7e6ea6bfc7979e2b5
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Thu Apr 6 18:04:02 2017 +0100

    Remove glob_all_dirs from khronos.cmake (#224)

commit 93d75b31a3db9a0eb621de106efba3e4a74a221c
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Thu Apr 6 12:40:39 2017 +0100

    Use git submodules for Khronos repositories (#180)
    
    This uses the current upstream version of the repositories.
    
    I have pushed our local modifications of SPIRV-Tool upstream,
    as this was necessary to even just build our shadertools.
    
    There is still more work before we can fully switch to glslang.

commit a8c4e20ff3968bae6c76ee6fb7b5b5ea71f5a0c1
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Apr 6 11:16:37 2017 +0100

    Add missing ETC formats. (#216)
    
    Clean up their names, improve the tests.
    
    Fixes: #200

commit 67fe7212fd353a2a4d49131a630be2e51ab0018a
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Mar 31 11:16:27 2017 +0100

    Merge couple of big switch statements in image_format.api
    
    The motivation is to have just one source of truth.
    
    It is pure refactoring - to code should still be semantically same.

commit ad77d4d5a6efe5e57921f5278ea832dc0dc8a370
Author: David Srbeck√Ω <dsrbecky@gmail.com>
Date:   Fri Mar 31 10:08:57 2017 +0100

    Rename variables in gles/image.go
    
    This is just a renaming commit.
    
    I have decided on always using the sized/unsized prefix for formats.

commit ac99d8df7b44542deaca9aaa63e8c4fa7e0c31ef
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Thu Apr 6 07:13:56 2017 +0100

    Ensure that framebuffer references valid texture. (#220)

commit d2d778cb3b6760019ff599a561f10630e3687a7d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 28 15:09:46 2017 -0700

    More compact log view tree.

commit e2ccde57505c49c93cf1d6f09075da0f90997b08
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 28 14:47:49 2017 -0700

    Fully represent exceptions in the log message proto.

commit 1dc667764677560a5ea643660433af6264c08db2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 28 13:24:01 2017 -0700

    Use a monospaced font with the same size as the default font.

commit 97050e1366d5785909cb7fbea76a05c163710040
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Apr 5 12:24:48 2017 -0700

    Don't crash if an invalid texture is attached to an FB.

commit a9a00cb44d24983d14cb456ae2626ae043025a26
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Wed Apr 5 14:44:48 2017 -0700

    BGR channel order support.

commit fa1c6bdac4cbeca53bdd238d0e0f96713669ca53
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Wed Apr 5 21:55:30 2017 +0100

    Simplify IndexLimits extern (#215)
    
    Make the IndexLimits extern simpler and safer by passing slice.
    This ensures we do not do out-of-bounds indexing inside it.

commit 04a3764e83f9f7b0f82c1952446e6ffb5b0ba3b8
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Wed Apr 5 19:47:14 2017 +0100

    Fix logging in debug build (#213)
    
    Enable debug logs in debug build.
    It was set to 'info' which was not more helpful.

commit 79b0ea18b2bb7bca3e8d28b8011c6d459110eff4
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 4 16:45:43 2017 -0700

    Some optimizations for traces with 100s of shaders/textures.
    
    - Don't starve async scheduled runnables, if repaint is slow
    - Only update the shader dropdown if required to do so
    - Only load texture thumbnails that are visible
    - Batch updates to the texture table
    
    Update comment.

commit eb335a4980509c0815ecfdaae8d1150c321a1fff
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 4 16:45:58 2017 -0700

    Fix a disposed widget exception on application close.

commit bccbca51b5fe2f74f725c2fb122e0f63674f9773
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Apr 4 16:38:54 2017 -0700

    Fix resource data bug introduced in commit f7d41ba.
    
    Don't fail all resources if a resource fails to load, instead
    remember the error and return it if that specific resource is
    requested.

commit 2346a3821db7b9daa5a272d58d0a67a82bdb6a48
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Apr 4 10:29:55 2017 -0400

    Made all of our mid-execution capture observations non-coherent.
    
    This means we do not have ot pay the overhead of coherent memory where
    it is not necessary.

commit ed4fd0cdd30d4bf63f02c7476d8afecc5e9a5e0e
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Wed Apr 5 11:02:57 2017 +0100

    Reduce log verbosity of gapit video. (#198)
    
    Many things were logged at error level when they should not be.
    (avconv outputs data to stdout and logs to stderr)

commit 6fe371e2c6a121bfbe573b4fb4b211e821056685
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 31 15:27:59 2017 -0700

    Fix some UI hangups discovered through the thumbnail schedule work.

commit cbeaab3039cdc4d7b57315e07314d5a31168e437
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Mar 30 12:57:24 2017 +0100

    gapic: Cancel thumbnails that scroll out of view.

commit cedad8fc387eada5f9b900d8f5cf7da51ceddd36
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Mar 28 12:45:42 2017 +0100

    Add usage hints to help lower RPC latency

commit eb60e22eb786a16299807765f08563c264f423c7
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Mar 29 00:36:45 2017 +0100

    gapis/replay: Add new scheduler.
    
    Will be used to control replay batching priorities and delays.

commit 6803369d852f513911bd91b8419a142828ffb4b3
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Mar 30 17:18:35 2017 +0100

    Fix tests in core/fault/stacktrace
    
    Fixes: #176
    Change-Id: I7562ec9ed37fa507129ff172dd80aa531ba0facb

commit f7d41ba29ee0033d87d629948c5418b549bf439c
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Apr 3 15:56:28 2017 -0400

    Resolve all resources for a single frame at a time.
    
    This means for getting texture thumbnails for example,
    we run a single replay rather than one replay for each image.

commit 0aaa7123876d5a158aa48519aa137d971fde90cf
Author: Ian Cottrell <iancottrell@google.com>
Date:   Mon Apr 3 13:28:49 2017 +0100

    Regenerate all java codergen

commit 91647947446f6a56188c6749bfe48442b48567d7
Author: Ian Cottrell <iancottrell@google.com>
Date:   Fri Mar 31 11:36:40 2017 +0100

    java codergen

commit cfe167df36894e4808fa98cf786d58b9801b5bbf
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Apr 3 12:37:05 2017 -0700

    Fixes #173 incorrect range check.

commit 002ce98f7ad2c3b445fc434c250d364ad5b5f0de
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Apr 3 11:56:49 2017 -0400

    Added Dimension decoding/encoding to binaryxml.

commit 58e8502ebb7f3a71f3033889cfbd5b9288d869b5
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 3 15:04:05 2017 +0100

    Display error message when host device info can't be retrieved. (#201)
    
    Issue: #196

commit 205059d62902112c661b2c29b8604bbcbd8c2a17
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Apr 3 10:58:29 2017 +0100

    Update BUILDING.md (#199)

commit 49ecb5f128c6860d0af3e41a2962e6c407bdecf1
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 31 19:31:20 2017 +0100

    Add component diagram to the Overview section. (#194)

commit 4f3a8f3f52d1815bb163811b76eb0ba08729aaee
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 31 18:09:12 2017 +0100

    Remove svg file. Github doesn't handle svgs here
    
    Change-Id: Id5b5537332c60d96aad165fb1d63cf88bdf7de40

commit 6b031a24d5b6db80c104c1642af078da422014eb
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 31 18:00:08 2017 +0100

    Add component overview diagram
    
    Change-Id: I825cb3177d8cc74f1e706a0c468260cd5999aaf0

commit 5fcdd169183d2c6d88b456bb3aa00071d032dd1b
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 31 16:29:18 2017 +0100

    Fix flaky TestSignalTryWait test. (#185)
    
    Fixes: #183

commit cf3f2d14f5c965afeb45f785f980272ff402aa80
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 31 12:21:55 2017 +0100

    Handle out-of-bounds index buffers without exploding (#192)

commit ca790c1a3abecdf5ba469eb335e1a84758a41f9a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 28 10:40:18 2017 -0700

    Fix an NPE and be more specific about default settings.
    
    On first launch, or when the settings file is not found, the load
    is skipped, which caused an NPE due to unintialized fields. This
    change moves all the default settings out of the updateFrom method
    to the field defintions, instead of having them split across the two,
    and is more explicit about default values that were implied.

commit 10b4c10034c6aa6b47332a041133c1f401f694be
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Thu Mar 30 19:05:52 2017 +0100

    Add GL_UNSIGNED_INT_10F_11F_11F_REV data format. (#184)

commit c57074e135c23b576815eb4b4d621b12d1cfe6b1
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Mar 30 16:50:31 2017 +0100

    core/cc/posix/thread: Don't leak memory (#168)
    
    Change-Id: Iba73489676173e079b54369862d3c97b85993edc

commit b8eb50bfff8abf5dfb9d7a9eeee1c3ed29139302
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 30 11:04:49 2017 -0400

    Vulkan:Free temporary data used in custom replay for MEC (#178)

commit 32fd7ca79b8a9fe89ddf646b0bd913b9cbd23222
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 30 11:04:31 2017 -0400

    Vulkan:Ensure Read observation for recreate cmd blit image (#177)

commit 8772f04a37272b7a13acd247cb1d05ab1ef12019
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Thu Mar 30 15:32:55 2017 +0100

    Do not flip z in generated GLSL (#172)
    
    This is vulkan specific hack in SPRIV-Cross.
    We do not want it for GLSL to GLSL translation.

commit aa830af21ebc9759c40f574d28324ccd38ca64be
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Thu Mar 30 15:32:30 2017 +0100

    Iterate over SPIRV types in deterministic order. (#171)
    
    This makes the output of shadertool deterministic.

commit 2edb2d56436eaf76c41be29f586746e1b33e1203
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Wed Mar 29 23:33:56 2017 +0100

    Pretty print debug information into translated GLSL files. (#169)

commit e561809aa1bece1d6b1e41e5932f7365ec682eb8
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Mar 29 22:34:08 2017 +0100

    Replace time.Tick with time.After. (#166)
    
    Fixes: #154
    Change-Id: I53ffdcbf14482a579d30e983eba33eb16a7dc5e3

commit b5d02473a9255731f7de46cc7b633d9c7b7b6f8e
Author: Ben Clayton <bclayton@google.com>
Date:   Wed Mar 29 21:33:55 2017 +0100

    Fix OSX build. (#167)
    
    Fixes: #165

commit 53be24760dc601b7c268c5c761c79b1b89a9891e
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Mar 29 14:21:49 2017 -0400

    Fixed mipmap size calculation for Vulkan.
    
    Also guarded an invalid depth-stencil attachments from the framebuffer.

commit d16db85eebbb34801c753e19082de84903690876
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Mar 29 14:25:25 2017 -0400

    Vulkan:Unify the naming of 'recreate' atoms (#158)

commit 34ab2bea4470a1a837f3ff7430ce0e0fb6197ea1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Mar 23 14:46:09 2017 -0700

    Show thumbnails in the texture selection table.

commit 710d37deed7660cca9650110ae614f32e27d46ff
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Mar 23 14:43:19 2017 -0700

    Only textures implement the Thumbnailer interface.

commit c47f310fe52049dbb971cbed776dbb79c812beb2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Mar 23 12:33:21 2017 -0700

    Unify JFace viewer creation so they all behave the same way.

commit 1cce891d48602f91b1bd3835d4432ca2a4548a1a
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Wed Mar 29 19:07:39 2017 +0100

    Add simple command line tool to modify shaders. (#162)
    
    It provides simple command line interface for the internal code.
    
    It's purpose is to help with development and testing.

commit c6d8dd05330b3fba64c15e2d951e79431efeeb84
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Mar 27 14:58:38 2017 -0400

    Thread Mid-Execution capture through Gapit.

commit a78d86e04f0cca28bb8ab35c8b33bb1d4bec8ec2
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Mar 28 09:48:20 2017 -0400

    Added argument passing to gapit for local applications.
    
    This allows us to specify the local arguments when running a desktop
    application.

commit 668fdff46643687c7a536caa214d21f70189385a
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Wed Mar 29 13:50:19 2017 +0100

    Conversion for float-point values with arbitrary bit size (#159)
    
    We will need 10-bit and 11-bit variants in particular.

commit d1875256e75c10aff3911cefc4131680976bf019
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Wed Mar 29 11:07:25 2017 +0100

    Add support for more GL image formats. (#156)
    
    This makes the component and data type definitions completely
    orthogonal, which adds support for many more new permutations.
    
    Also added support for more data types (e.g. singed integers).

commit 653fb1a922af02a7ff4a8e88c0abcd092cebe830
Author: Qining <lqn.anthony@gmail.com>
Date:   Mon Mar 27 21:52:58 2017 -0400

    Vulkan:Fix seeking color/depth attachment through renderpass (#142)
    
    Also includes:
      MEC support for vkCmdNextSubpass
      Add a LastDrawInfo struct that contains:
        Last used framebuffer
        Last used descriptor sets
        Last subpass

commit 3b6f4dc2bc4a8942455728dfd358405d217b9ee6
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Mon Mar 27 18:50:37 2017 +0100

    core/os/android/adb: Handle exotic adb root output. (#149)
    
    Issue: #133

commit f5e9ed143cd703f2df87f29c3c91436bc73a0986
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Mon Mar 27 10:16:15 2017 -0700

    Handle our own UI-thread queuing for a snappier UI. (#132)
    
    It is common for multiple updates to be queued from the RPC threads in
    quick succession. This caused some 2+ seconds delays as the UI thread
    seems to only process one queued item at a time. Instead, batch up all
    queued request and execute them together as soon as the UI thread gives
    us control to do so.

commit 3f6eea2c52aeb86185abd523aa96118b69fb4496
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Mar 24 14:02:23 2017 -0400

    Filter the replay target based on memory layout.
    
    This allows us to replay Vulkan applications on Desktop if they were
    captured on desktop without any user intervention.

commit 3756b3ea37d099b5d6742fe4c2ab1d1ef38eec22
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Mar 27 10:36:23 2017 -0400

    Removed obsolete comment. This was fixed a while ago.

commit 5b813050fb9717c71dadb6a907540d36c8e3babd
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Mon Mar 27 16:31:52 2017 +0100

    do: Use the env() function to ensure msys dlls are on PATH. (#147)
    
    Fixes: #135

commit 2b971ada5d051562314b7e1edebea82e7735e763
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Mon Mar 27 16:29:31 2017 +0100

    Fix broken tests that were being ignored. (#146)
    
    * Fix for test failures being silently ignored.
    
    I broke the assert package with the logging changes.
    Will follow up with fixes to the tests themselves.
    
    Change-Id: Ifaefaf6ca7c8b703e18af8be28ea8e82dc49640c
    
    * Fix tests that were silently failing.
    
    Change-Id: Ic458179b58e643343a754b498dbd4c1be9abbacc

commit 801b1729c6ca2f138be90f92254632fc59b72fd2
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Mon Mar 27 15:01:08 2017 +0100

    Fix dead-code-elimination test. (#145)
    
    We need and mock glLinkProgram call, otherwise glUniform calls
    get removed because they are invalid without linked program.

commit bd21ec0ec286515f47385ae2f534de8c52f67332
Author: David Srbeck√Ω <dsrbecky@google.com>
Date:   Mon Mar 27 12:10:05 2017 +0100

    Use (first,count) to represent index ranges. (#143)
    
    The (min,max) did not work well for empty set.
    
    Fixes #134

commit e5be1eb088e2e6ef3b5274da2e2e82deff5fbd31
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Mar 24 15:48:28 2017 -0400

    Vulkan:Bring back depth buffer (#140)
    
    Because when copying depth/stencil image with aspect mask for only depth
    field, the result data is packed tightly. We should treat the data from
    those images as pure depth data, instead of depth+stencil data.

commit f4bf04da2513b03d932abf9e7d6026d23043cd35
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Mar 24 13:03:18 2017 -0400

    Replay fixes for Vulkan on Windows.

commit 09d0141562c769b233f599254e8934d2f7465b46
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Mar 24 11:25:49 2017 -0400

    Get gapit trace -local-app working for Vulkan on Windows.
    
    This allows us to trace Windows applications that use Vulkan.
    Still TODO: Get Vulkan replay up and running on Windows.

commit f9a37d11b97efbbeae0aac5c7b26ba9fa4d1a3a3
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Mar 24 12:22:59 2017 -0400

    Vulkan:Fix MEC support for vkCmdExecuteCommands (#130)

commit 63fe700592ddb438f62fb1d320d45b2a20ab4908
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Mar 24 12:22:47 2017 -0400

    Vulkan:Fix a bug in handling vkCmdCopyQueryPoolResults (#127)

commit 77cb0a9c9ce733297c8e59d3bc04eccab91a63e4
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Mar 24 12:22:32 2017 -0400

    Vulkan:Find color/depth attachments from LastUsedFramebuffer's RenderPass (#120)
    
    Fix #100

commit 8b047bd007553e0d2b5ee83dfd6867d3c715257d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 22 15:49:45 2017 -0700

    Only create the programs tab if the trace has programs.
    
    Also fixes an issue where the shader UI wasn't re-inited if the tab is
    re-enabled after it has been hidden.

commit 16602c7724e26f5d24da7ed27547c330cc4fa571
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 22 14:56:55 2017 -0700

    Fix TreeViewer keyboard node expansion handling.
    
    Fixes #105. The keyboard handling was interacting with the lower-level
    tree instead of the TreeViewer, causing the dynamic node adding logic
    to be skipped resulting in nodes with only a single child.

commit 1469351bfd138427fbbaa7bd66c3a893640b701f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 22 12:56:54 2017 -0700

    File->Open Recent menu and dropdown on welcome screen.

commit 9ff4b8a04fbd68eac5be89f16a59e8e0dc29a229
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Mar 20 13:15:35 2017 -0700

    Update the atom selection, if needed, when the context changes.
    
    The current atom selection is already maintained when changing contexts.
    However, if a context is selected that does not contain the current
    selection, the selection needs to be updated for the new context.

commit 4b31e3254949782dbafaf565ba9a8541e592e4d2
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Wed Mar 22 19:33:28 2017 +0000

    Simplify logging interface & add RPC method (#121)
    
    Instead of log.Context, now use context.Context.
    
    To log something use:
    
    ```go
    log.I(ctx, "cat says %v", "meow")
    log.W(ctx, "dog says %v", "woof")
    log.E(ctx, "fox says %v", "????")
    ```
    
    Values are added to the context with:
    
    ```go
    ctx := log.V{"key": value}.Bind(ctx)
    ```
    
    GAPII and GAPIR log messages are parsed into the structured form so they can be filtered.
    
    New streaming RPC `GetLogStream()` monitors all log messages from GAPIS and all subprocesses interleaved.
    
    Used by GAPIC to display all logs across all processes.

commit 4ee0ebf47d85540ea7d50ab9ad0120fbc57e6d07
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 21 16:04:33 2017 -0700

    Implement memory selection and copy to clipboard.

commit ce9dd6472b2f117a5eb9d2dfac17a9f84d0a4951
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 21 13:11:21 2017 -0700

    Fix some c++ log statements.
    
    %v is a go construct, and will only log 'v' in c++.

commit effc24663a17a5bce699bbe6a2ba79230d33ec38
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Mar 22 10:07:56 2017 -0400

    Vulkan:Use std::vector::reserve() in recreating commands data (#119)

commit 5b972b9dc985d5116ec4b2ecd7c69d0550aaa835
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Mar 22 10:05:06 2017 -0400

    Vulkan:MEC for vkCmdExecuteCommands (#118)

commit 9b7d4d991435c8058334cd102106364ac05da565
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Mar 22 10:03:36 2017 -0400

    Vulkan:MEC for vkCmdDispatchIndirect (#117)

commit f483bf6e6517aa9d6fc28ac297f522befef70784
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Fri Mar 17 15:35:32 2017 -0400

    Add VkCmdFillBuffer to Vulkan MEC.

commit a76f1cc37399d34cbe69f155b4b41a99da5bcc8b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Mar 20 12:01:29 2017 -0700

    Replace the texture dropdown with a table.

commit 0fc1e026be49624f425031f25891f63fbbd7d3da
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 14 12:40:29 2017 -0700

    Separate the debug label from the resource handle.

commit be1650890aaf7728e34c52c8965bd52c5bbeac58
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Mon Mar 20 11:28:32 2017 -0700

    The dead code elimination transformer needs to be first. (#115)
    
    Fixes the wireframe and wireframe overlay replay modes.

commit cd7ec1bd675be11ec826c66574f43ab6369240e7
Author: Ian Cottrell <iancottrell@google.com>
Date:   Sun Mar 19 16:06:40 2017 +0000

    Postback test broken
    
    You are not allowed to pass a nil abi to Connect, also the result was ignored anyway and connect called again 2 lines later...

commit 31c26b57318df0613f4e6b7235c379eacd099f53
Author: Ian Cottrell <iancottrell@google.com>
Date:   Wed Mar 15 22:05:27 2017 +0000

    Add package style path searching to gapit looking for gapis

commit ced4264d36441d5edabe727cfff94f0c4094e343
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Mar 17 16:16:02 2017 -0400

    Vulkan:MEC for vkCmdCopyQueryPoolResults (#109)

commit 9c58170334be0ab8f3a01947ff33499acd202d22
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 17 16:49:02 2017 +0000

    Add to PATH the core unix binary directories
    
    Change-Id: I979ecce892d4a4d6104b8d6f97ca4598b7234741

commit e2e390aad90c607a3d87c55f5ae924917b9afb0a
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Fri Mar 17 16:05:59 2017 +0000

    Start with a clean PATH.
    
    Inheriting from the shell's environment leads to exciting
    inconsistent behavior.

commit 5f4f408951cf18ac73b674e96faa85b350d524d6
Author: Lei Zhang <antiagainst@google.com>
Date:   Tue Mar 14 13:48:45 2017 -0400

    Mention environment variables and Homebrew alternatives for building

commit 6a3faf1b04eb1b56075a61c8cf1be513a77bb8d8
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Mar 17 11:12:12 2017 -0400

    Vulkan:Fix cubemap texture (#108)

commit fa4a4accf29f9be1470cb249badd8a3b38e2f935
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Mar 16 16:43:02 2017 -0400

    Added vkCmdSetBlendConstants to Vulkan MEC.

commit de9d7e4c21899704ec97f42f2a58e682ef6935e1
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 16 16:56:34 2017 -0400

    Vulkan:MEC support for vkCmdCopyImageToBuffer (#106)

commit f97c8147fe50747b51184e3b3c0837486a29b471
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 15 16:20:15 2017 -0700

    Separate shaders into their own text boxes.
    
    Closes #97.

commit 8665a3f7b89f5119f5dc9527ebe2330898c33dcc
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Thu Mar 16 15:41:34 2017 +0000

    Add screenshots to README.md

commit 24d6d1a8e1d6f034c2dba7fe73b34bee5a12c6b0
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Thu Mar 16 14:03:31 2017 -0400

    Updated vulkan/README.md with new support for MEC.

commit 2dce95ac8c9cdda8926f967354b4429ce8ece7d0
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Mar 15 16:32:31 2017 -0400

    Add vkCmdSetLineWidth to Vulkan MEC.

commit 4f0afcd0a2c8d7d384eea014ef89e108cfa6c033
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 16 12:10:24 2017 -0400

    Vulkan:MEC support for vkCmdClearDepthStencilImage (#103)

commit 2e6e649d2f095c1a6a87ea5e3a4f1ad20c983e41
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 16 12:09:59 2017 -0400

    Vulkan:Fix recreating INPUT_ATTACHMENT descriptor sets (#102)

commit b931cf76885925cc9bdca08000a81d1d4fc96a1b
Author: Qining <lqn.anthony@gmail.com>
Date:   Wed Mar 15 21:58:11 2017 -0400

    Vulkan:MEC support for vkCmdClearColorImage (#88)

commit e8ef7544c51666f18b351528951aafec82547ea2
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Mar 15 13:23:07 2017 -0400

    Fix crash if we saw vkAcquireNextImageKHR without a semaphore.

commit 83226b139285d23ac1c167780cde0926d3335bc3
Author: Lei Zhang <antiagainst@google.com>
Date:   Tue Mar 14 16:03:58 2017 -0400

    Add -numjobs option to `do build`

commit db2dc557571356b5f26263d6acf8fc4d666077a9
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Wed Mar 15 13:04:54 2017 +0000

    Template fixes for git in CRLF mode

commit 661f4d5f8a8ffa3c8e9a4154245311871103261f
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Mar 14 15:14:14 2017 +0000

    alllow filehash to rewrite a file
    
    This gives filehash the power to read a file and replace a token with the file hash, and then write out a new file.
    This is useful when you want the hash inside a source file during a build process.

commit ab43ad61c39370fa4dacd392e3e9a16ae55a7754
Author: Ian Cottrell <iancottrell@google.com>
Date:   Mon Mar 6 19:38:11 2017 +0000

    Adding hidden imports
    
    This are imports that generated files will use. These are not needed for
    correctness, but when the generated source files are not in the source
    tree, it makes a few of the tools behave a little better.
    
    Also adding doc.go to packages that did not have one and moving the
    package comments into them.

commit 5a50e2b94c8dc76c9418186d4f0ced94a9694c9b
Author: Ian Cottrell <iancottrell@google.com>
Date:   Sun Mar 12 13:50:20 2017 +0000

    Fix include of memory tracker
    
    Included twice
    Using <> instead of ‚Äú‚Äù

commit 89ad06fda699346fc2a8d6dca4e997e63faf07da
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Tue Mar 14 14:55:16 2017 -0400

    Fix bug in Mid-Execution capture for Vulkan Semaphores
    
    If a semaphore was captured in the "Signaled" state, on recreate
    we would create it in the unsignaled state. Now we track
    what state it is in, and signal it if it was signaled before.

commit f338307cfcbe765b6dd8020f36672b2a9f89f0a9
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Mar 14 15:25:52 2017 -0400

    Vulkan:MEC support for vkCmdClearAttachments (#84)

commit 66cfd23f84b6005e85461f932e791c0a92e0d8f4
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Mar 14 15:24:51 2017 -0400

    Vulkan:MEC support for vkCmdBlitImage (#71)

commit f948d794143be2aa0d9cc6c49822ce9fbc263b0b
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Mar 14 15:24:22 2017 -0400

    Vulkan:MEC for Buffer View (#70)

commit fd8fd098eb4819dba211b4626d7b8f070164e19d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 14 09:43:42 2017 -0700

    Move some things out of the scrubber's paint method.

commit 9acd2d3d810f0baee7810e820158e02a0290a3e8
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Mar 13 16:15:27 2017 -0700

    The filmstrip now responds to atom selection events.
    
    The filmstrip will now mark the the frame containing the end
    of the selection range as selected, scroll it into view, and
    also maintain the selection visible on thumbnail resizing.

commit 33ead86793102ce17a97ce1cc7485a0319fdb051
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Mar 13 15:32:57 2017 -0700

    Restore the state after editing the capture.
    
    Addresses most of issue #21.

commit e5bd2b2a24371322498606e459be7000df00ca87
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Tue Mar 14 08:29:35 2017 -0700

    Show an error message in 'do' in case of bad checkout. (#82)
    
    Closes #55.

commit eb7259eaeb30e7ffed8b87d18edcce49e9dbd27d
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Tue Mar 14 15:09:54 2017 +0000

    Minor tweaks to the "Install Android SDK" sections.

commit d32e6599b45babbec7b6701be0a2a106909e7183
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 10 17:42:00 2017 -0800

    Fix the remaining incorrect dispose handlers.
    
    Overriding the .dispose() method is not the right way to do it.
    Instead, listening to the SWT.Dispose event is required.

commit d4aa8c5a03e94210499981c423de3bace6aff86f
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 10 16:57:52 2017 -0800

    Adds a view showing log messages in the UI.

commit 1f0ca43aaed389e7b93be17a2aa106866b36f3a6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Fri Mar 10 17:42:00 2017 -0800

    Allow individual tabs to be shown/hidden.

commit e03f871efe919c0ac2c3cfd031fcfafff0742c7a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 7 14:07:03 2017 -0800

    Fix OpenGL viewport for HDPI.

commit 6025b69110f9b3139241c53360589695513c4a67
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 12 19:24:03 2017 -0700

    Clearly state the rules for tracing on Android.

commit a9f7741c8073609e87d8cd02c9521c18e274ac2e
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Mar 11 20:05:12 2017 -0800

    Update to using Golang version 1.8
    
    Fixes: #74
    Change-Id: I55dfa42b0094f8ce552a72eff3bcd579278788af

commit 318ab3dced2a6d27b4db9374344b7164875bf879
Author: David Srbeck√Ω <dsrbecky@users.noreply.github.com>
Date:   Sat Mar 11 16:58:54 2017 -0800

    Make temporary IDs separate per replay. (#75)
    
    This avoids concurrency issues.
    
    Fixes #65

commit 0d6b9f494c6164328dc0762a43cf12bf95cfc148
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Sat Mar 11 00:48:13 2017 +0000

    More CMake path quoting for paths with spaces

commit 2d40a901e7eba48b2adf706a5e14592bb4d1665d
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Fri Mar 10 23:48:31 2017 +0000

    building.md: Use "MSYS2 MinGW 64-bit" prompt

commit e3de9dcbfd93e5b49610c8d9a0cf996ef0f01976
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 10 14:40:55 2017 -0800

    CMake: Quote each of the COMMANDs to handle spaces in paths.
    
    Change-Id: I3419394b6afacf5937fd373fd3ffa86b17d2e07c

commit eaa935b5cf2b69af23266a2f59e893ede8f64b41
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 10 13:39:20 2017 -0800

    And put back the proto snippet that was stripped by globbing...
    
    Change-Id: I33a10e1a3a50b5c1b9bf02b565340e02d857ae47

commit 83988f62a672c080cc6c6dc3589adb7248d202d0
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 10 13:36:40 2017 -0800

    Remove globbed file that doesn't actually exist on this branch :(
    
    Change-Id: I60c0027c176792c9806ab1c58394dc8b49ebeb0f

commit 5a53d9a0332c6ddc967f70a12a76627502525f54
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Mar 10 13:09:10 2017 -0800

    Re-glob to fix build
    
    Change-Id: Ic25a574d1fb6deefa999d3a85c5c172417fd4ee2

commit c3517b93a622ca678c470850063a530acecfecef
Author: AWoloszyn <awoloszyn@google.com>
Date:   Fri Mar 10 14:47:11 2017 -0500

    Fix windows build

commit 920b43cbda50402d8d70ccd9baab37a44bbc788d
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Mar 9 16:35:29 2017 -0800

    Fatal errors are also panics.

commit 13de4576030dc4cfd73c9740e3e2d3604a71edbb
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Thu Mar 9 17:22:37 2017 -0800

    Atom tree popups shrink wrap once image is loaded.
    
    Closes #68.

commit a0d71f625f4256487530c7bf8050fdac43a4fb09
Author: Ian Cottrell <iancottrell@google.com>
Date:   Mon Mar 6 18:12:18 2017 +0000

    More include path fixes

commit 5793a45c0452e3664eff3953b7bda5920f63401d
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Mar 7 12:07:43 2017 +0000

    kill the integration build tag

commit 1770e7bbc5d957bf4e38948f051a4b6f45a93c63
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Mar 7 10:50:13 2017 +0000

    Let's not rely on lexograpical ordering of files at link time

commit 8ddf94255f0ea8014098c266283266b0ea7f019d
Author: Qining <lqn.anthony@gmail.com>
Date:   Fri Mar 10 12:23:27 2017 -0500

    Vulkan:Emit SIGTRAP in memory tracker before passing SIGSEGV to underlying handler (#64)
    
    In Debug build, if a non-tracking-coherent memory triggers SIGSEGV
    signal, raise the SIGTRAP signal for debugger to capture, before passing
    the SIGSEGV signal to the underlying segfault handler.
    
    In this way, when debugging tracing with memory tracker enabled, even if
    the debugger is set to skip SIGSEGV signals (since it is triggered too
    oftenly), it can still capture the invalid memory accesses.

commit 36710fe89983598d0eb03832b7f8143804c45ecd
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 9 15:37:25 2017 -0500

    Vulkan:Fallback to read the whole coherent when tracing is not on Linux or Android (#63)
    
    Tested with Vulkan Sample applications on Android with memory tracker disabled.

commit 9ee2d2a6a80ac02c726aa1a29c8eed081d737e20
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 9 15:36:24 2017 -0500

    README for memory tracker (#56)

commit 099550e88844d80534a2722421faa27e301a492c
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Thu Mar 9 09:44:34 2017 -0800

    Merge latest internal changes. (#54)
    
    * DCE: Track texture definitions
    
    This removes unneeded textures from the atom stream.
    
    This approximately halves the data we send to gapir.
    
    The performance benefit for gapis/gapir ranges quite
    wildly depending on app - form negligible to double.
    
    * Remove the unnecessary GL utility class.
    
    * Add some documentation.
    
    All classes should have a short class javadoc and methods of interfaces
    should be documented.
    
    * Move the shader documentation to gapic.

commit 3cb1c6eb988f4bb6804e5199210a29c7e93d7fea
Author: Qining <lqn.anthony@gmail.com>
Date:   Thu Mar 9 12:24:04 2017 -0500

    Vulkan:Support Dedicated Allocation for MEC (#50)
    
    Test: tested on Vulkan sample applications

commit 35743e52c7a454bf57368698c47619b06afc1e49
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Mar 8 15:25:32 2017 -0500

    Updated the Vulkan support document.
    
    A few calls that have been implemented were missing from the document.

commit 9892a35644a561a4831131296d4bcdc351df7360
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Wed Mar 8 09:22:08 2017 -0500

    Added QueryPool Suport to MEC.

commit ab55e6f327b135442da4060ade237ade8286b163
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Wed Mar 8 11:01:06 2017 -0800

    Correctly handle inertia scrolling for the atom tree preview popups.

commit 327d827c8027d8c8eedc9b28eaaa84ada326e03b
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 7 12:23:26 2017 -0800

    GLSL version dependent on OpenGL version.

commit 61b64b4a6bc6f4267c835160f9a60ebe6d69cd4c
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 7 16:06:59 2017 -0800

    Change the generated sub group format.
    
    Fixes #43.

commit 74824a5a59b6ae07736acec05ee3786aa9fc59ad
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 7 16:13:06 2017 -0800

    Remove "API" from the tab names.
    
    Closes #45.

commit 62001d3f95bff24f2f84bc345f4d07fbbdf7e1e2
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 7 16:23:29 2017 -0800

    Refocus the atom if it was done through a specific user action,
    like clicking on a link.
    
    Closes #47.

commit 8935e6fc6bf9bf5f4e49bd4bc9248d43e01d44e5
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Tue Mar 7 16:56:39 2017 -0800

    Drop the alpha channel for thumbnails.
    In the filmstrip and in the command tree.
    
    Closes #13.

commit eaef76d3086f61b9ed8ac748816201f18b9bae2c
Author: Ben Clayton <bclayton@google.com>
Date:   Mon Mar 6 16:50:19 2017 -0800

    gapit: Sort package list alphabetically.
    
    Fixes #26
    
    Change-Id: I84db8e03fe9f6506dcba88be69d0e64891d6f60d

commit e10108eba59af90d17642856b08d2c4e64272aa1
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Mar 6 17:39:38 2017 -0800

    Also pass the log level flag along to gapir.

commit 417e4efe5eaddf5e2184877bf31c97d7d22468c2
Author: Qining <lqn.anthony@gmail.com>
Date:   Tue Mar 7 13:34:36 2017 -0500

    Vulkan:Use memory tracker for coherent mem on Linux (#37)
    
    Test: tested with Vulkan sample applications.

commit 7c67f592331d5d777b5c7689c31a499910781d83
Author: Vlad Albulescu <mrkane27@users.noreply.github.com>
Date:   Tue Mar 7 10:54:14 2017 +0000

    robot: poll adb (#34)
    
    poll adb for new devices rather than expecting all of them to be present on robot master start.
    removed devices not handled correctly yet.

commit 5da29c4ca9d8e1604334446a2e0b05d503bc6475
Author: Vlad Albulescu <mrkane27@users.noreply.github.com>
Date:   Tue Mar 7 10:26:58 2017 +0000

    Fix service_test and use GRPC over in-memory pipes (#30)
    
    * test/integration/service: don't hang
    
    Test was waiting forever for a device scan.
    
    * service_test: run tests through grpc

commit 70514481f032c0d229f6bfae96f7323809ef99cb
Author: Vlad Albulescu <mrkane27@users.noreply.github.com>
Date:   Tue Mar 7 09:58:50 2017 +0000

    test/integration/replay: fix integration tests (#29)
    
    * test/integration/replay: fix integration tests
    
    The replay manager wasn't constructed with a registry-wielding
    context.
    
    Embed reference images into the test, and avoid depending on CWD.
    
    * Disallow filesystem reference image reads

commit 95e9e00ec62b1a8858afa4df8119c7a71fb6dd2a
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Mar 6 16:10:25 2017 -0800

    HDPI OpenGL support for mac.

commit d461ad30dcc2f9d97d32adffca31dd1382cd6c38
Author: Ian Cottrell <iancottrell@google.com>
Date:   Mon Feb 27 14:33:55 2017 +0000

    Generate the api.proto files within the directory
    
    This means the template does not have to have the hacky path and package
    stuff in it.
    It also makes it easier to understand where the proto form comes from.

commit dc762084da48d2551f4f15c5d215847653740d5e
Author: Ian Cottrell <iancottrell@google.com>
Date:   Mon Mar 6 15:05:11 2017 +0000

    Name cmake template files appropriately

commit cf6b0e04f83932851163615f8897ca4bcc60031d
Author: Ian Cottrell <iancottrell@google.com>
Date:   Mon Mar 6 12:12:52 2017 +0000

    The JSON library changed how it writes 0 times

commit 298be26519c39992e38f35ab1a8c3a750d08e54b
Author: Ian Cottrell <iancottrell@google.com>
Date:   Sun Mar 5 23:56:09 2017 +0000

    more import path fixes

commit f4f4f4674899b82efccc77238df9088a27b76640
Author: Ian Cottrell <iancottrell@google.com>
Date:   Mon Feb 27 14:32:38 2017 +0000

    fuzz test did not build
    
    not built by cmake

commit ecc45e11c04873ba6c9928760af5c19e8cc3ec44
Author: Ian Cottrell <iancottrell@google.com>
Date:   Fri Feb 24 12:06:16 2017 +0000

    fixup root of handling

commit 815dc7e4f28f32988b4a98d80fbbab44e22678ce
Author: Ian Cottrell <iancottrell@google.com>
Date:   Fri Feb 24 12:05:53 2017 +0000

    Add concept of base path to codergen

commit cae31e26f7be79d83c540e5bc7ecbc092dde2a5b
Author: Ian Cottrell <iancottrell@google.com>
Date:   Thu Feb 23 13:27:22 2017 +0000

    Codergen should not crash if it had no input files

commit e75cff9cd5c7cb703bbc4150b6da1002055ab6a8
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Feb 21 23:04:29 2017 +0000

    Auto log at normal or error

commit d8a321fed4975d289f7dadde67c722e98aac350e
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Feb 21 21:42:40 2017 +0000

    Only rely on goimports to strip imports, not add them

commit c303b0487abd25e56fd1d4c07763ac05565f520d
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Feb 21 16:11:13 2017 +0000

    Remove pointless integration build tag from shadertools

commit 55a3167c00086480a23cfe036cbe426c95b5be73
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Feb 21 21:12:47 2017 +0000

    Add the concept of a search path to gapic
    
    This allows the api files to be spread across multiple directory roots
    (so that generated files and original files don't have to inhabit the
    same directories)

commit 5fbe22059b573c4b271e3155c1773a023f5304c2
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Feb 21 12:34:57 2017 +0000

    Make stacktrace tests work everywhere
    
    They used to make an assumption about how the test was built.

commit 28c3329e7c42c5cce442a93feda4aadfe7a05f93
Author: Ian Cottrell <iancottrell@google.com>
Date:   Tue Feb 21 12:34:26 2017 +0000

    Assert package tests were broken, cmake does not run them

commit 3d902145e2639f2fb28db02c2fcf355661003431
Author: Ian Cottrell <iancottrell@google.com>
Date:   Mon Feb 20 20:42:55 2017 +0000

    remove legacy go_package declarations from api template

commit c5354e86f872a959f1a8313609f5c33495d30886
Author: Ian Cottrell <iancottrell@google.com>
Date:   Mon Feb 20 20:42:20 2017 +0000

    Keep the cgo as separated as possible from the normal go code

commit 9002b869a4e168c034bda226c9a1a1fc2433a6a6
Author: Ian Cottrell <iancottrell@google.com>
Date:   Fri Feb 17 22:05:51 2017 +0000

    Fixup go proto handling

commit 0d0cd16245930d966f7303c258cf03f62fb39621
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Mar 6 10:30:32 2017 -0500

    Added vkCmdPushConstants and vkCmdCopyImage to Vulkan Mid-execution

commit 5d99237e73386cc9aa3d360138a1b6213d0d457a
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Mar 6 10:24:46 2017 -0500

    Added vkCmdSetDepthBias to vulkan Mid-Execution Capture

commit 862a72be5f56791afbdef5c53cf03776604291f7
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Mar 6 10:23:28 2017 -0500

    Added vkCmdDrawIndirect to vulkan Mid-Execution Capture

commit ee5d48695298620d8b791c747d8c77a4acab7671
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Mar 6 10:22:44 2017 -0500

    Added vkCmdDispatch to vulkan Mid-Execution Capture

commit b37ca8f9013988cfa2b3c4f13d45c91a91e54685
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Mar 6 10:21:24 2017 -0500

    Added compute pipelines to vulkan Mid-Execution capture

commit db0e877fb3a2ef9703e6e951f842cba3a923e1a6
Author: Pascal Muetschard <pmuetschard@google.com>
Date:   Mon Mar 6 10:25:45 2017 -0800

    Fixes the logging command line attributes.

commit d904b8747bf60dfa7d8df8ab7a6fc50b98073405
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 5 23:39:29 2017 -0800

    Move godoc badge below header.

commit 5ca979b0db9048ece099aca3fb17cbacccd6d43c
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 5 23:35:45 2017 -0800

    Add godoc badge to root README.md

commit 28244a4dea3359b756ab1f08748848f8a7fc5a39
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 5 17:14:45 2017 -0800

    Update README.md
    
    Rephrasing.

commit b78309acb1cd5244989a4e7999a3f41b7e846a50
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 5 16:48:56 2017 -0800

    README.md: Clarify status.

commit 5c9e16542c579747b0e748721f10b30eef004e53
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 5 16:30:59 2017 -0800

    gapil/README.md: Clean up docs.

commit a53ee5006ce986f828c5b788ad954e0f8a834770
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 5 16:24:14 2017 -0800

    gapir/README.md: Bit more polish.

commit 4001435368a9d014376b7d64610cb4450f36aa14
Author: Ben Clayton <bclayton@google.com>
Date:   Sun Mar 5 16:13:11 2017 -0800

    gapir/README.md: Merge in opcode docs.
    
    Change-Id: I8457c643baebc4475da14cd5aa57c046d2c328c8

commit 7783566f1b913c60312f9880e80c53a5eabd6765
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 5 15:39:56 2017 -0800

    gapis/README.md: Fix up TODOs.

commit 2b8b4885cd85545ede74121483ee321aff2fe84e
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 5 15:24:10 2017 -0800

    gapii/README.md - fixup TODO links.

commit 6367a831900d4ee44e7567be71741c3eb8ed03e8
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sun Mar 5 15:22:54 2017 -0800

    gapil/README.md: Add H4 header to fence

commit bfe95ef186047b5bafb36e3169a5d3de0c6ba1fa
Author: Ben Clayton <bclayton@google.com>
Date:   Sun Mar 5 15:17:27 2017 -0800

    Move markdown docs from docs to their respective directory
    
    Change-Id: I3a59d996d39dea653c65e7b2400f571fbe392589

commit ea18eef9a1c19e0f0cc49851f8090471bd43abe4
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sat Mar 4 21:18:43 2017 -0800

    building.md: More bullet point fixes.

commit 346d5be3c8912dcae3654d7d208f38ddb34a7819
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Mar 4 20:52:28 2017 -0800

    Fix langsvr crashes on windows.
    
    Change-Id: If97466f622c8bde86746a3e3bd04a8e6f590dec9

commit b33b7584587f797071a29e072e374fd824214778
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Mar 4 20:13:41 2017 -0800

    Move core/gapil -> gapil.
    
    As described on the root README.md, gapil is a fundamental component.
    
    Change-Id: I4c955d24d86296f89f088477f99fcdf10974a7cc

commit 10b5172655fdecbbd0fc36ae89efd0feec110b86
Author: Ben Clayton <bclayton@google.com>
Date:   Sat Mar 4 19:39:48 2017 -0800

    No need to use an admin console now
    
    Change-Id: I7bc5db257aa4aafaf7efc88ed070f4a5b17d433a

commit bbc5e87214259904924e3063b2d632f7223398f7
Author: Ben Clayton <headlessclayton@gmail.com>
Date:   Sun Mar 5 03:14:36 2017 +0000

    Replace symlinks with Junctions on windows.
    
    Similar functionality but without the need for special permissions.
    
    Change-Id: I8e75a220a1f317829da11c093a78817647cca557

commit 5035e46f582aa935138d2dbd81fe0019519e0b28
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sat Mar 4 21:13:40 2017 -0800

    README.md: Add a 'Running the client section'.

commit b6b89fc0bbad3d0c4f3b4ce35b7a56390770eb4e
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Sat Mar 4 21:16:02 2017 -0800

    building.md: Fix broken paths.

commit b78483f6673eb541c00678b4d60db9c4e02f10bf
Author: Andrew Woloszyn <awoloszyn@google.com>
Date:   Mon Feb 27 14:38:57 2017 -0500

    Added some Vulkan documentation

commit 1115939997fd8e31cbd6d66d5eb14ea59830ef05
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 28 14:16:27 2017 -0800

    Support CRLF line endings for all parsers
    
    Change-Id: I47b92a271e55c8dbe885bf540aa837f564fdfa31

commit 378425a990386fd18e39f680fac709c5ddf4a3ee
Author: Ben Clayton <bclayton@google.com>
Date:   Tue Feb 28 11:30:40 2017 -0800

    Support CRLF line endings for minidown parser
    
    Change-Id: I7cabe6a2aa079209277c647236323ca8b748ad1a

commit 4abbdd88e01e8b92f204074af33241bd329665e7
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Wed Mar 1 06:28:27 2017 -0800

    Fix nested bullet points

commit 71da6af89457dfab66890a1c4ef2367fb3f9fdc1
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Tue Feb 28 12:40:28 2017 -0800

    Also add the download hint to the other platforms

commit c31c174c39dec7a0937c88a96ddef695616e3f78
Author: Pascal Muetschard <pmuetschard@users.noreply.github.com>
Date:   Tue Feb 28 12:36:59 2017 -0800

    Some extra useful building hints

commit 07201a7405ff59ab593c2e79a7ce896033c5400f
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Fri Feb 24 16:12:34 2017 +0000

    Get windows build running.
    
    Now compiles and runs.

commit 504ed22e1d84d216fcd0d30cd16e66e13feec9ee
Author: Ben Clayton <bclayton@google.com>
Date:   Thu Feb 23 14:39:35 2017 +0000

    Merge latest internal changes to github branch
    
    Change-Id: I26f38096abe72b7f1793bec200f27c57f7d919f3

commit d3b8d389099f09321c21f47a0bb4c67708721fc7
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Wed Feb 22 02:09:08 2017 +0000

    Update building.md
    
    Add JDK dependency.
    Note that the windows terminal needs to be elevated.

commit d4a2f1b8e3edd42591bbb41fa16e23ec1fa9e8e4
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Wed Feb 22 01:15:39 2017 +0000

    Change title

commit eb66112a39b338cf24073cc00a0e9b598fe911da
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Wed Feb 22 01:14:56 2017 +0000

    readme: Link to building.md

commit 66e9613ef471e31579abb4387e22763c7fe7f988
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Wed Feb 22 00:00:46 2017 +0000

    Add python, configure and build steps

commit 8ee6cf2b594ec7bfc16d1ca2f52aedeca48c465b
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Tue Feb 21 23:45:12 2017 +0000

    Explode the building guide by OS

commit e635c63fb2ebae05680abe652cf369264992be20
Author: Ben Clayton <ben-clayton@users.noreply.github.com>
Date:   Tue Feb 21 23:14:06 2017 +0000

    Start a markdown doc to describe env setup

commit b1733c6bd337e1121973106b3cdb16c550e815b6
Author: Ben Clayton <bclayton@google.com>
Date:   Fri Feb 17 14:09:18 2017 +0000

    Initial commit of GAPID project
